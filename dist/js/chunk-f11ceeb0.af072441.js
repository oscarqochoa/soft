(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f11ceeb0"],{"0787":function(t,e,s){"use strict";s("f538")},"272e":function(t,e,s){"use strict";s("8946")},3626:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("header-slot"),s("div",{staticClass:"d-flex align-items-center justify-content-between my-2"},[s("div"),s("router-link",{staticClass:"btn btn-primary",attrs:{to:"#create"}},[t._v("Crear Lead")])],1),"#create"===this.$route.hash?s("div",[s("LeadCreateSocial")],1):[t.isSupervisorModule?s("b-tabs",{attrs:{lazy:"",pills:"","nav-class":"mb-0","active-nav-item-class":"bg-primary box-shadow-info"}},[s("b-tab",{attrs:{lazy:"",title:"Social Network","title-link-class":[t.bgTabsNavs,"px-3"]}},[s("CommissionsList",{attrs:{module:t.$route.meta.module,tab:"sn",tabSupervisorCrm:"",module_total:!1,module_num:t.$route.meta.module}})],1),s("b-tab",{attrs:{lazy:"",title:"Departments","title-link-class":[t.bgTabsNavs,"px-3"]}},[s("CommissionsList",{attrs:{module:t.$route.meta.module,tab:"supervisorCrm",tabSupervisorCrm:"",module_num:0,module_total:!0}})],1)],1):s("CommissionsList",{attrs:{module:t.$route.meta.module,tab:t.$route.meta.tab,tabSupervisorCrm:"",module_num:t.$route.meta.module,module_total:!0}})]],2)},r=[],n=s("5530"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-card",{class:t.tabSupervisorCrm?"border-top-primary border-3 box-shadow-3 rounded-bottom border-table-radius pb-1":"pb-2",attrs:{"no-body":""}},[s("CommissionsHeaderList",{class:[t.isSeller?"mt-2 ml-1 mr-1":""],attrs:{tab:t.tab,isManagement:!t.isManagement},on:{search:function(e){return t.searchCommissions(!0)},toggleBtn:t.toggleCurrentMonth}}),s("div",{class:["mt-1",t.isSeller?"margin-is-seller":""]},[this.S_LOADING?s("div",{staticClass:"text-center text-primary my-4"},[s("b-spinner",{staticClass:"align-middle mr-1"}),s("strong",[t._v("Loading ...")])],1):s("b-table-simple",{attrs:{responsive:"","sticky-header":"74vh","no-border-collapse":"",hover:"",bordered:""}},[s("b-thead",[s("b-tr",{staticClass:"width-th"},[s("b-th",{staticStyle:{width:"100px !important"}},[t._v("User")]),t.isTotal?s("b-th"):t._e(),t.currentMonth?[s("b-th",[t._v(" Jan "),t.isCrm?s("span",{staticClass:"float-right"},[t._v(t._s(t.S_DEPARTMENT_PERCENTAGE.january_percentage)+"%")]):t._e()]),s("b-th",[t._v(" Feb "),t.isCrm?s("span",{staticClass:"float-right"},[t._v(t._s(t.S_DEPARTMENT_PERCENTAGE.february_percentage)+"%")]):t._e()]),s("b-th",[t._v(" Mar "),t.isCrm?s("span",{staticClass:"float-right"},[t._v(t._s(t.S_DEPARTMENT_PERCENTAGE.march_percentage)+"%")]):t._e()]),s("b-th",[t._v(" Apr "),t.isCrm?s("span",{staticClass:"float-right"},[t._v(t._s(t.S_DEPARTMENT_PERCENTAGE.april_percentage)+"%")]):t._e()]),s("b-th",[t._v(" May "),t.isCrm?s("span",{staticClass:"float-right"},[t._v(t._s(t.S_DEPARTMENT_PERCENTAGE.may_percentage)+"%")]):t._e()]),s("b-th",[t._v(" Jun "),t.isCrm?s("span",{staticClass:"float-right"},[t._v(t._s(t.S_DEPARTMENT_PERCENTAGE.june_percentage)+"%")]):t._e()])]:[s("b-th",[t._v(" Jul "),t.isCrm?s("span",{staticClass:"float-right"},[t._v(t._s(t.S_DEPARTMENT_PERCENTAGE.july_percentage)+"%")]):t._e()]),s("b-th",[t._v(" Aug "),t.isCrm?s("span",{staticClass:"float-right"},[t._v(t._s(t.S_DEPARTMENT_PERCENTAGE.august_percentage)+"%")]):t._e()]),s("b-th",[t._v(" Sep "),t.isCrm?s("span",{staticClass:"float-right"},[t._v(t._s(t.S_DEPARTMENT_PERCENTAGE.september_percentage)+"%")]):t._e()]),s("b-th",[t._v(" Oct "),t.isCrm?s("span",{staticClass:"float-right"},[t._v(t._s(t.S_DEPARTMENT_PERCENTAGE.october_percentage)+"%")]):t._e()]),s("b-th",[t._v(" Nov "),t.isCrm?s("span",{staticClass:"float-right"},[t._v(t._s(t.S_DEPARTMENT_PERCENTAGE.november_percentage)+"%")]):t._e()]),s("b-th",[t._v(" Dic "),t.isCrm?s("span",{staticClass:"float-right"},[t._v(t._s(t.S_DEPARTMENT_PERCENTAGE.december_percentage)+"%")]):t._e()])]],2)],1),s("b-tbody",[s("h3",[t._v(t._s(this.S_MODULE))]),t._l(t.S_COMMISSIONS,(function(e,a){return s("b-tr",{key:a},[s("b-td",[s("div",{staticClass:"font-weight-bolder text-dark"},[t._v(" "+t._s(e.user_name)+" ")]),t.isSupervisorCrm?s("div",{staticClass:"color-gray-m fs10"},[t._v(" "+t._s(e.main_name)+" ")]):t._e()]),t.isTotal?s("b-td",[s("div",[s("div",{staticClass:"font-weight-bold"},[t._v("Generated:")]),s("div",{staticClass:"margin-t-pay font-weight-bold"},[t._v(" % to Pay: ")]),s("div",{staticClass:"margin-t-pay font-weight-bold"},[t._v("To Pay:")])])]):t._e(),t.currentMonth?[s("b-td",[s("CommissionsMounthlyList",{attrs:{item:e,type:"jan",month:"January"}})],1),s("b-td",[s("CommissionsMounthlyList",{attrs:{item:e,type:"feb",month:"February"}})],1),s("b-td",[s("CommissionsMounthlyList",{attrs:{item:e,type:"mar",month:"March"}})],1),s("b-td",[s("CommissionsMounthlyList",{attrs:{item:e,type:"apr",month:"April"}})],1),s("b-td",[s("CommissionsMounthlyList",{attrs:{item:e,type:"may",month:"May"}})],1),s("b-td",[s("CommissionsMounthlyList",{attrs:{item:e,type:"jun",month:"June"}})],1)]:[s("b-td",[s("CommissionsMounthlyList",{attrs:{item:e,type:"jul",month:"July"}})],1),s("b-td",[s("CommissionsMounthlyList",{attrs:{item:e,type:"aug",month:"August"}})],1),s("b-td",[s("CommissionsMounthlyList",{attrs:{item:e,type:"sep",month:"September"}})],1),s("b-td",[s("CommissionsMounthlyList",{attrs:{item:e,type:"oct",month:"October"}})],1),s("b-td",[s("CommissionsMounthlyList",{attrs:{item:e,type:"nov",month:"November"}})],1),s("b-td",[s("CommissionsMounthlyList",{attrs:{item:e,type:"dec",month:"December"}})],1)]],2)}))],2),s("b-tfoot",[s("b-tr",[s("b-th",{staticClass:"footer-black"},[t._v("Total Generated")]),this.isTotal?s("b-th",{staticClass:"footer-black"}):t._e(),t.currentMonth?[s("b-th",{staticClass:"footer-black"},[s("div",{staticClass:"footer-span w-100"},[s("span",{staticClass:" font-small-3 text-center"},[t._v(" "+t._s("0.00"===t.getSumTotal("jan")?"-":"$ "+t.getSumTotal("jan"))+" ")])])]),s("b-th",{staticClass:"footer-black"},[s("div",{staticClass:"footer-span w-100"},[s("span",{staticClass:" font-small-3 text-center"},[t._v(" "+t._s("0.00"===t.getSumTotal("feb")?"-":"$ "+t.getSumTotal("feb"))+" ")])])]),s("b-th",{staticClass:"footer-black"},[s("div",{staticClass:"footer-span w-100"},[s("span",{staticClass:" font-small-3 text-center"},[t._v(" "+t._s("0.00"===t.getSumTotal("mar")?"-":"$ "+t.getSumTotal("mar"))+" ")])])]),s("b-th",{staticClass:"footer-black"},[s("div",{staticClass:"footer-span w-100"},[s("span",{staticClass:" font-small-3 text-center"},[t._v(" "+t._s("0.00"===t.getSumTotal("apr")?"-":"$ "+t.getSumTotal("apr"))+" ")])])]),s("b-th",{staticClass:"footer-black"},[s("div",{staticClass:"footer-span w-100"},[s("span",{staticClass:" font-small-3 text-center"},[t._v(" "+t._s("0.00"===t.getSumTotal("may")?"-":"$ "+t.getSumTotal("may"))+" ")])])]),s("b-th",{staticClass:"footer-black"},[s("div",{staticClass:"footer-span w-100"},[s("span",{staticClass:" font-small-3 text-center"},[t._v(" "+t._s("0.00"===t.getSumTotal("jun")?"-":"$ "+t.getSumTotal("jun"))+" ")])])])]:[s("b-th",{staticClass:"footer-black"},[s("div",{staticClass:"footer-span w-100"},[s("span",{staticClass:" font-small-3 text-center"},[t._v(" "+t._s("0.00"===t.getSumTotal("jul")?"-":"$ "+t.getSumTotal("jul"))+" ")])])]),s("b-th",{staticClass:"footer-black"},[s("div",{staticClass:"footer-span w-100"},[s("span",{staticClass:" font-small-3 text-center"},[t._v(" "+t._s("0.00"===t.getSumTotal("aug")?"-":"$ "+t.getSumTotal("aug"))+" ")])])]),s("b-th",{staticClass:"footer-black"},[s("div",{staticClass:"footer-span w-100"},[s("span",{staticClass:" font-small-3 text-center"},[t._v(" "+t._s("0.00"===t.getSumTotal("sep")?"-":"$ "+t.getSumTotal("sep"))+" ")])])]),s("b-th",{staticClass:"footer-black"},[s("div",{staticClass:"footer-span w-100"},[s("span",{staticClass:" font-small-3 text-center"},[t._v(" "+t._s("0.00"===t.getSumTotal("oct")?"-":"$ "+t.getSumTotal("oct"))+" ")])])]),s("b-th",{staticClass:"footer-black"},[s("div",{staticClass:"footer-span w-100"},[s("span",{staticClass:" font-small-3 text-center"},[t._v(" "+t._s("0.00"===t.getSumTotal("nov")?"-":"$ "+t.getSumTotal("nov"))+" ")])])]),s("b-th",{staticClass:"footer-black"},[s("div",{staticClass:"footer-span w-100"},[s("span",{staticClass:" font-small-3 text-center"},[t._v(" "+t._s("0.00"===t.getSumTotal("dec")?"-":"$ "+t.getSumTotal("dec"))+" ")])])])]],2),s("b-tr",[s("b-th",{staticClass:"footer-black"},[t._v("Total To Pay")]),t.isTotal?s("b-th",{staticClass:"footer-black"}):t._e(),t.currentMonth?[s("b-th",{staticClass:"footer-black"},[s("div",{staticClass:"footer-span w-100"},[s("span",{staticClass:" font-small-3 text-center"},[t._v(" "+t._s("0.00"===t.getSumTotal("jan_to_pay")?"-":"$ "+t.getSumTotal("jan_to_pay"))+" ")])])]),s("b-th",{staticClass:"footer-black"},[s("div",{staticClass:"footer-span w-100"},[s("span",{staticClass:" font-small-3 text-center"},[t._v(" "+t._s("0.00"===t.getSumTotal("feb_to_pay")?"-":"$ "+t.getSumTotal("feb_to_pay"))+" ")])])]),s("b-th",{staticClass:"footer-black"},[s("div",{staticClass:"footer-span w-100"},[s("span",{staticClass:" font-small-3 text-center"},[t._v(" "+t._s("0.00"===t.getSumTotal("mar_to_pay")?"-":"$ "+t.getSumTotal("mar_to_pay"))+" ")])])]),s("b-th",{staticClass:"footer-black"},[s("div",{staticClass:"footer-span w-100"},[s("span",{staticClass:" font-small-3 text-center"},[t._v(" "+t._s("0.00"===t.getSumTotal("apr_to_pay")?"-":"$ "+t.getSumTotal("apr_to_pay"))+" ")])])]),s("b-th",{staticClass:"footer-black"},[s("div",{staticClass:"footer-span w-100"},[s("span",{staticClass:" font-small-3 text-center"},[t._v(" "+t._s("0.00"===t.getSumTotal("may_to_pay")?"-":"$ "+t.getSumTotal("may_to_pay"))+" ")])])]),s("b-th",{staticClass:"footer-black"},[s("div",{staticClass:"footer-span w-100"},[s("span",{staticClass:" font-small-3 text-center"},[t._v(" "+t._s("0.00"===t.getSumTotal("jun_to_pay")?"-":"$ "+t.getSumTotal("jun_to_pay"))+" ")])])])]:[s("b-th",{staticClass:"footer-black"},[s("div",{staticClass:"footer-span w-100"},[s("span",{staticClass:" font-small-3 text-center"},[t._v(" "+t._s("0.00"===t.getSumTotal("jul_to_pay")?"-":"$ "+t.getSumTotal("jul_to_pay"))+" ")])])]),s("b-th",{staticClass:"footer-black"},[s("div",{staticClass:"footer-span w-100"},[s("span",{staticClass:" font-small-3 text-center"},[t._v(" "+t._s("0.00"===t.getSumTotal("aug_to_pay")?"-":"$ "+t.getSumTotal("aug_to_pay"))+" ")])])]),s("b-th",{staticClass:"footer-black"},[s("div",{staticClass:"footer-span w-100"},[s("span",{staticClass:" font-small-3 text-center"},[t._v(" "+t._s("0.00"===t.getSumTotal("sep_to_pay")?"-":"$ "+t.getSumTotal("sep_to_pay"))+" ")])])]),s("b-th",{staticClass:"footer-black"},[s("div",{staticClass:"footer-span w-100"},[s("span",{staticClass:" font-small-3 text-center"},[t._v(" "+t._s("0.00"===t.getSumTotal("oct_to_pay")?"-":"$ "+t.getSumTotal("oct_to_pay"))+" ")])])]),s("b-th",{staticClass:"footer-black"},[s("div",{staticClass:"footer-span w-100"},[s("span",{staticClass:" font-small-3 text-center"},[t._v(" "+t._s("0.00"===t.getSumTotal("nov_to_pay")?"-":"$ "+t.getSumTotal("nov_to_pay"))+" ")])])]),s("b-th",{staticClass:"footer-black"},[s("div",{staticClass:"footer-span w-100"},[s("span",{staticClass:" font-small-3 text-center"},[t._v(" "+t._s("0.00"===t.getSumTotal("dec_to_pay")?"-":"$ "+t.getSumTotal("dec_to_pay"))+" ")])])])]],2)],1)],1)],1),t.modalDetails?s("ModalCommissionsDetails",{attrs:{showModal:t.modalDetails,info:t.infoDetails}}):t._e(),t.modalPayment?s("ModalCommissionsPayment",{attrs:{showModal:t.modalPayment,info:t.infoPayment}}):t._e()],1)},i=[],l=s("1da1"),c=(s("96cf"),s("a9e3"),s("b680"),s("d3b7"),s("d81d"),s("2f62")),u=s("e009"),m=s("68d7"),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-row",{staticClass:"px-2 pt-2"},[s("b-col",{class:[t.bigWindowLeft],attrs:{lg:"4"}},[s("b-input-group",{class:{"w-40":t.bigWindow},attrs:{prepend:"Year"}},[s("b-form-select",{staticClass:"text-center",attrs:{options:t.optionsYear},on:{change:function(e){return t.searchCommissions()}},model:{value:t.year,callback:function(e){t.year=e},expression:"year"}})],1)],1),t.isSupervisorCrm?s("b-col",{class:[t.bigWindowLeft,"d-flex justify-content-center"],attrs:{lg:"4"}},[s("b-input-group",{attrs:{prepend:"Departments"}},[s("b-form-select",{attrs:{options:t.programs},on:{change:function(e){return t.changeProgram()}},model:{value:t.program,callback:function(e){t.program=e},expression:"program"}})],1)],1):t._e(),t.isSupervisorCrm||t.isCrm&&t.isManagement?t._e():s("b-col",{attrs:{lg:"4"}}),t.isCrm&&t.isManagement?s("b-col",{attrs:{lg:"4 d-flex justify-content-center"}},[[s("b-input-group",{class:{"w-input-percent":t.bigWindow},attrs:{prepend:"To Pay",append:"%"}},[s("b-form-input",{staticClass:"text-center",attrs:{min:"1",max:"100",type:"number",disabled:!t.editPercent},on:{keyup:function(e){return t.maxPercentage()}},model:{value:t.percentApartment,callback:function(e){t.percentApartment=e},expression:"percentApartment"}})],1),s("div",{staticClass:"button-margin"},[s("buttons-edit",{attrs:{editMode:t.editPercent},on:{edit:function(e){return t.editPercentageDepartment()},cancel:function(e){return t.cancelPercentageDepartment()},update:function(e){return t.updatePercentageDepartment()}}})],1)]],2):t._e(),s("b-col",{class:[t.bigWindowRight],attrs:{lg:"4"}},[s("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}},{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Change part of the year",expression:"'Change part of the year'",modifiers:{hover:!0,top:!0}}],class:{"btn-block":!t.bigWindow},attrs:{variant:"gradient-primary",size:"sm"},on:{click:function(e){return t.$emit("toggleBtn")}}},[t.halfYear?s("b-icon",{attrs:{icon:"arrow-right","font-scale":"1.5"}}):s("b-icon",{attrs:{icon:"arrow-left","font-scale":"1.5"}}),t.bigWindow?t._e():s("span",[t._v("Â  Half of the Year")])],1)],1)],1)},_=[],p=(s("e9c4"),s("c1df")),b=s.n(p),f=s("eafc"),h={name:"CommissionsHeaderList",components:{ButtonsEdit:f["a"]},props:{tab:{type:String,default:""},isManagement:{type:Boolean,default:!1}},directives:{Ripple:u["a"]},mounted:function(){},data:function(){return{optionsYear:[],editPercent:!1,programShow:[],program:null}},created:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.year_select(),!t.isSupervisorCrm){e.next=5;break}return e.next=5,t.$store.dispatch("global-store/getPrograms");case 5:t.addProgramSn(),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))()},computed:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(c["e"])("SocialNetworkCommissions",["S_YEAR","S_MODULE","S_PERCENT_DEPARTMENT"])),Object(c["c"])({bigWindow:"app/bigWindow",halfYear:"commissions-store/halfYear",moduleProgram:"commissions-store/moduleProgram",programs:"global-store/programs"})),{},{year:{get:function(){return this.S_YEAR},set:function(t){this.A_SET_YEAR_COMMISSION(t)}},percentApartment:{get:function(){return this.S_PERCENT_DEPARTMENT},set:function(t){this.A_SET_PERCENT_DEPARTMENT_COMMISSION(t)}},isSupervisorCrm:function(){return"supervisorCrm"===this.tab},isCrm:function(){return"crm"===this.tab},bigWindowLeft:function(){return this.bigWindow?"":"d-flex justify-content-center mb-1"},bigWindowRight:function(){return this.bigWindow?"text-right":"d-flex justify-content-center mt-1"}}),methods:Object(n["a"])(Object(n["a"])({},Object(c["b"])("SocialNetworkCommissions",["A_SET_YEAR_COMMISSION","A_SET_MODULE_COMMISSION","A_SET_PERCENT_DEPARTMENT_COMMISSION","A_SET_MODULE_TOTAL"])),{},{addProgramSn:function(){this.programs.unshift({id:null,text:"All"}),this.programs.push({value:15,text:"Social Network"})},changeProgram:function(){this.A_SET_MODULE_COMMISSION(this.program),this.A_SET_MODULE_TOTAL(!0)},changePartOfYear:function(){this.$store.commit("commissions-store/SET_HALF_YEAR_COMMISSIONS",!this.halfYear)},year_select:function(){for(var t=2020;t<=b()().format("YYYY");t++)this.optionsYear.push(t)},maxPercentage:function(){this.percentApartment>100&&(this.percentApartment="100.00")},editPercentageDepartment:function(){console.log("percent",this.percentApartment),this.returnPercent=JSON.parse(JSON.stringify(this.percentApartment)),this.editPercent=!0},cancelPercentageDepartment:function(){this.percentApartment=this.returnPercent,this.editPercent=!1},searchCommissions:function(){this.$emit("search")},updatePercentageDepartment:function(){this.editPercent=!1,this.$emit("update-percentage")}}),watch:{S_MODULE:function(){this.$emit("search")}}},g=h,v=(s("272e"),s("2877")),C=Object(v["a"])(g,d,_,!1,null,"5d191f30",null),S=C.exports,y=s("7e8f"),E=s("7d9a"),T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[this.S_MODULE_TOTAL?[s("div",[s("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"name-class color-gray-m cursor-pointer font-small-4",attrs:{title:this.month+"-"+t.item.user_name}},[t._v(t._s("0.00"===this.item[this.type]||"00.00"===this.item[this.type]?"-":"$ "+this.item[this.type]))])])]:[s("div",[s("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"name-class cursor-pointer font-small-4",attrs:{title:this.month+"-"+t.item.user_name}},[t._v(t._s("0.00"===this.item[this.type]||"00.00"===this.item[this.type]?"-":"$ "+this.item[this.type]))])]),[s("b-form-input",{staticClass:"d-inline-flex text-center p-0 mt-2 font-fam",attrs:{min:"1",max:"100",type:"number",disabled:!0},model:{value:this.item[this.type+"_percentage_pay"],callback:function(e){t.$set(this.item,this.type+"_percentage_pay",e)},expression:"this.item[this.type + '_percentage_pay']"}})],s("div",{staticClass:"mt-2"},[s("a",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"name-class text-color-m color-gray-m cursor-pointer font-small-4",attrs:{title:this.month+"-"+t.item.user_name}},[t._v(t._s("0.00"===this.item[this.type+"_to_pay"]||"00.00"===this.item[this.type+"_to_pay"]?"-":"$ "+this.item[this.type+"_to_pay"]))])])]],2)},w=[],O={name:"CommissionsMonthlyList",components:{ButtonsEdit:f["a"]},props:{item:{type:Object},type:{type:String},month:{type:String}},data:function(){return{}},created:function(){},mounted:function(){},computed:Object(n["a"])(Object(n["a"])({},Object(c["e"])("SocialNetworkCommissions",["S_COMMISSIONS","S_DEPARTMENT_PERCENTAGES","S_LOADING","S_YEAR","S_MODULE","S_MODULE_TOTAL"])),{},{isSupervisor:function(){return 2==this.info.rol},admCrm:function(){return"adm"==this.tab||"crm"==this.tab},isCrm:function(){return"crm"==this.tab},isSupervisorCrm:function(){return"supervisorCrm"===this.tab},isTotal:function(){return!this.S_MODULE_TOTAL}}),methods:{},watch:{}},x=O,A=(s("4982"),Object(v["a"])(x,T,w,!1,null,"2827c1fa",null)),M=A.exports,k={name:"CommissionsList",components:{OverlayWait:m["a"],CommissionsHeaderList:S,CommissionsMounthlyList:M,ModalCommissionsDetails:y["a"],ModalCommissionsPayment:E["a"]},directives:{Ripple:u["a"]},props:{module:{type:Number,default:null},tab:{type:String,default:null},tabSupervisorCrm:{type:Boolean,default:!1},module_num:{type:Number},module_total:{type:Boolean,default:!0}},mounted:function(){},data:function(){return{sessionUser:null,commissions:null,returnPercent:null,editPercent:!1,user_id:null,supervisorCrm:0,users:"",user_name:"",modal:!1,month:"",ps_month:"",role_id:"",approve_by:"",paid_state:"",module_id:null,type:"",modalm:!1,module_name:"",percentages:null,amountTotal:null,showOverlay:!1,modalDetails:!1,modalPayment:!1,infoDetails:null,infoPayment:null,currentMonth:!0}},created:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("meta:",t.$route.meta),t.A_SET_MODULE_COMMISSION(t.module_num),t.A_SET_MODULE_TOTAL(t.module_total),e.next=5,t.A_GET_DEPARTMENT_PERCENTAGE();case 5:return e.next=7,t.searchCommissions(!1);case 7:case"end":return e.stop()}}),e)})))()},computed:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(c["c"])({currentUser:"auth/currentUser",isCeo:"auth/isCeo",isSupervisor:"auth/isSupervisor",userSession:"auth/userSession",token:"auth/token",currentBreakPoint:"app/currentBreakPoint",bigWindow:"app/bigWindow",skin:"appConfig/skin",moduleProgram:"commissions-store/moduleProgram",isSeller:"auth/isSeller"})),Object(c["e"])("SocialNetworkCommissions",["S_COMMISSIONS","S_DEPARTMENT_PERCENTAGES","S_LOADING","S_YEAR","S_MODULE","S_MODULE_TOTAL"])),{},{getSumTotal:function(){var t=this;return function(e){return t.S_COMMISSIONS.map((function(t){return parseFloat(t[e])})).reduce((function(t,e){return t+e})).toFixed(2)}},isManagement:function(){return 16===this.module},isDepartment:function(){return 2!==this.module_id&&4!==this.module_id},isCrm:function(){return"crm"===this.tab},isSupervisorCrm:function(){return"supervisorCrm"===this.tab},isTotal:function(){return!this.S_MODULE_TOTAL}}),methods:Object(n["a"])(Object(n["a"])({},Object(c["b"])("SocialNetworkCommissions",["A_GET_DEPARTMENT_PERCENTAGE","A_GET_COMMISSIONS","A_SET_MODULE_COMMISSION","A_SET_MODULE_TOTAL"])),{},{toggleCurrentMonth:function(){this.currentMonth=!this.currentMonth},searchCommissions:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isSupervisor||e.isCeo||e.isManagement||(e.user_id=e.currentUser.user_id),e.isSupervisorCrm&&(e.supervisorCrm=1),s={user:e.user_id,year:e.S_YEAR,module:e.module_num,supervisorCrm:e.supervisorCrm,subProgram:e.isSupervisorCrm?e.moduleProgram:null},console.log("params commissions",s),t.next=6,e.A_GET_COMMISSIONS(s);case 6:case"end":return t.stop()}}),t)})))()}}),watch:{S_MODULE:function(){0===this.S_MODULE&&this.A_SET_MODULE_TOTAL(!0)}}},P=k,N=(s("e667c"),Object(v["a"])(P,o,i,!1,null,"2b1058e5",null)),R=N.exports,j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("validation-observer",{ref:"refFormLeadObserver"},[s("CatchmentCreateSn",{attrs:{lead:this.lead}}),s("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mr-2",attrs:{variant:"primary"},on:{click:t.onSubmit}},[s("span",[t._v("Save")])])],1)],1)},D=[],L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-card",{staticClass:"p-2 mt-4",attrs:{"no-body":""}},[s("b-row",[s("b-col",{attrs:{md:"6"}},[s("h4",{staticClass:"title-card"},[t._v("Catchment")])]),s("b-col",{attrs:{md:"6 text-right"}},[s("h4",{staticClass:"title-card"},[t._v("Catcher: "+t._s(this.currentUser.fullName))])])],1),s("b-row",{staticClass:"mt-2"},[s("b-col",{attrs:{md:"4"}},[s("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("b-col",{attrs:{md:"12"}},[s("b-form-group",{attrs:{id:"fieldset-horizontal","label-class":"font-bureau-style font-weight-normal color-gray-input-sn","label-cols-sm":"4","label-for":"input-horizontal","label-cols-lg":"4","content-cols-sm":"","content-cols-lg":"8",label:"ST/AD"}},[s("b-form-select",{staticClass:"select-icon-none font-bureau-style border-hover bg-white-c",class:{"border-error-sn":a[0]},attrs:{options:t.optionsStatesAd},on:{change:function(e){t.lead.flyer=null}},model:{value:t.lead.state_h,callback:function(e){t.$set(t.lead,"state_h",e)},expression:"lead.state_h"}}),a[0]?s("div",{staticClass:"text-error-sn text-center"},[t._v("ST/AD "+t._s(a[0]))]):t._e()],1)],1)]}}])}),s("b-col",{attrs:{md:"12"}},[s("b-form-group",{attrs:{id:"fieldset-horizontal","label-class":"font-bureau-style font-weight-normal color-gray-input-sn","label-cols-sm":"4","label-for":"input-horizontal","label-cols-lg":"4","content-cols-sm":"","content-cols-lg":"8",label:"Lead Owner"}},[s("b-form-select",{staticClass:"select-icon-none font-bureau-style border-hover bg-white-c",attrs:{options:this.optionsOwners},model:{value:t.lead.user_id,callback:function(e){t.$set(t.lead,"user_id",e)},expression:"lead.user_id"}})],1)],1),s("b-col",{attrs:{md:"12"}},[s("b-form-group",{attrs:{id:"fieldset-horizontal","label-class":"font-bureau-style font-weight-normal color-gray-input-sn","label-cols-sm":"4","label-for":"input-horizontal","label-cols-lg":"4","content-cols-sm":"","content-cols-lg":"8",label:"Suggestions"}},[s("v-select",{staticClass:"border rounded border-hover",staticStyle:{"background-color":"#f8f9fa !important"},attrs:{options:t.optionPrograms,multiple:!0,"close-on-select":!1,"clear-on-select":!0,"preserve-search":!0,placeholder:"Pick some",label:"name","track-by":"name","preselect-first":!0},model:{value:t.lead.program,callback:function(e){t.$set(t.lead,"program",e)},expression:"lead.program"}})],1)],1)],1),s("b-col",{attrs:{md:"8"}},[s("b-form-group",{attrs:{id:"fieldset-horizontal","label-class":"font-bureau-style font-weight-normal color-gray-input-sn","label-cols-sm":"4","label-for":"input-horizontal","label-cols-lg":"2","content-cols-sm":"","content-cols-lg":"10",label:"Source"}},[s("b-row",[s("b-col",{staticClass:"py-4",attrs:{md:"6"}},[s("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("b-row",[s("b-col",{staticClass:" text-center d-flex align-items-center justify-content-center",attrs:{md:"12"}},[s("button",{staticClass:"w-75 btn btn-light px-4 font-medium-3 font-semibold d-flex align-items-center justify-content-around",class:{"btn-primary":t.isFacebook},on:{click:function(e){return t.selectSource(1)}}},[s("feather-icon",{staticClass:"text-dark mr-1",class:{"text-white":t.isFacebook},attrs:{icon:"FacebookIcon",size:"15"}}),t._v("Facebook ")],1)]),a[0]?s("div",{staticClass:"text-error-sn text-center"},[t._v("Source "+t._s(a[0]))]):t._e(),s("input",{directives:[{name:"model",rawName:"v-model",value:t.lead.sourcesname_id,expression:"lead.sourcesname_id"}],staticClass:"d-none bg-green",attrs:{type:"radio"},domProps:{checked:t._q(t.lead.sourcesname_id,null)},on:{change:function(e){return t.$set(t.lead,"sourcesname_id",null)}}})],1)]}}])}),s("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("div",{staticClass:"mt-3 d-flex align-items-center justify-content-between"},[t._l(t.S_SUB_SOURCES,(function(e,a){return[1===e.parent_id?s("div",{key:a,staticClass:" text-center",attrs:{title:e.name},on:{click:function(s){return t.selectSubSource(e.id)}}},[s("button",{staticClass:"rounded btn btn-light border-0 btn-source",class:{"bg-primary text-white":t.lead.sub_source==e.id},attrs:{disabled:!t.isFacebook}},[t._v(t._s(e.name))])]):t._e()]}))],2),s("div",{staticClass:"mt-2"},[a[0]&&t.isFacebook?s("div",{staticClass:"text-error-sn text-center"},[t._v("Sub-Source "+t._s(a[0]))]):t._e(),s("input",{directives:[{name:"model",rawName:"v-model",value:t.lead.sub_source,expression:"lead.sub_source"}],staticClass:"d-none",attrs:{type:"radio"},domProps:{checked:t._q(t.lead.sub_source,null)},on:{change:function(e){return t.$set(t.lead,"sub_source",null)}}})])]}}])})],1),s("b-col",{staticClass:"py-4",attrs:{md:"6 pt-0"}},[s("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("b-row",[s("b-col",{staticClass:"text-center d-flex align-items-center justify-content-center",attrs:{md:"12"}},[s("button",{staticClass:"btn btn-light px-4 font-medium-3 font-semibold d-flex align-items-center justify-content-around",class:{"btn-danger":t.isGoogle},on:{click:function(e){return t.selectSource(2)}}},[s("feather-icon",{staticClass:"text-dark mr-1",class:{"text-white":t.isFacebook},attrs:{icon:"MailIcon",size:"15"}}),t._v(" Google ")],1)]),a[0]?s("div",{staticClass:"text-error-sn text-center"},[t._v("Source "+t._s(a[0]))]):t._e(),s("input",{directives:[{name:"model",rawName:"v-model",value:t.lead.sourcesname_id,expression:"lead.sourcesname_id"}],staticClass:"d-none",attrs:{type:"radio"},domProps:{checked:t._q(t.lead.sourcesname_id,null)},on:{change:function(e){return t.$set(t.lead,"sourcesname_id",null)}}})],1)]}}])}),s("ValidationProvider",{attrs:{rules:t.isGoogle?"required":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("div",{staticClass:"mt-3 d-flex align-items-center justify-content-between"},[s("button",{staticClass:"rounded btn btn-light border-0 btn-source font-small-2",class:1===t.lead.google_ads?"btn-danger":"",attrs:{disabled:!t.isGoogle},on:{click:function(e){return t.selectMethod(1)}}},[t._v("E-mail")]),s("button",{staticClass:"rounded btn btn-light border-0 btn-source font-small-2",class:2===t.lead.google_ads?"btn-danger":"",attrs:{disabled:!t.isGoogle},on:{click:function(e){return t.selectMethod(2)}}},[t._v("Messenger")]),s("button",{staticClass:"rounded btn btn-light border-0 btn-source font-small-2",class:3===t.lead.google_ads?"btn-danger":"",attrs:{disabled:!t.isGoogle},on:{click:function(e){return t.selectMethod(3)}}},[t._v("Whatsapp")]),s("button",{staticClass:"rounded btn btn-light border-0 btn-source font-small-2",class:4===t.lead.google_ads?"btn-danger":"",attrs:{disabled:!t.isGoogle},on:{click:function(e){return t.selectMethod(4)}}},[t._v("Call")])]),s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.lead.google_ads,expression:"lead.google_ads"}],staticClass:"d-none",attrs:{type:"radio"},domProps:{checked:t._q(t.lead.google_ads,null)},on:{change:function(e){return t.$set(t.lead,"google_ads",null)}}}),a[0]?s("div",{staticClass:"text-error-sn text-center"},[t._v("Contact Method "+t._s(a[0]))]):t._e()])]}}])}),s("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("div",{staticClass:"mt-2 d-flex align-items-center justify-content-between"},[t._l(t.S_SUB_SOURCES,(function(e,a){return[2===e.parent_id?s("div",{key:a,staticClass:" text-center",attrs:{title:e.name},on:{click:function(s){return t.selectSubSource(e.id)}}},[s("button",{staticClass:"rounded btn btn-light border-0 btn-source",class:{"btn-danger text-white":t.lead.sub_source==e.id},attrs:{disabled:!t.isGoogle}},[t._v(t._s(e.name))])]):t._e()]}))],2),s("div",[a[0]&&t.isGoogle?s("div",{staticClass:"text-error-sn text-center"},[t._v("Sub-Source "+t._s(a[0]))]):t._e(),s("input",{directives:[{name:"model",rawName:"v-model",value:t.lead.sub_source,expression:"lead.sub_source"}],staticClass:"d-none",attrs:{type:"radio"},domProps:{checked:t._q(t.lead.sub_source,null)},on:{change:function(e){return t.$set(t.lead,"sub_source",null)}}})])]}}])})],1)],1)],1),s("div",[s("b-form-group",{attrs:{id:"fieldset-horizontal","label-class":"font-bureau-style font-weight-normal color-gray-input-sn","label-cols-sm":"4","label-for":"input-horizontal","label-cols-lg":"2","content-cols-sm":"","content-cols-lg":"10",label:"Program"}},[s("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[s("b-row",{staticClass:"d-flex justify-content-between align-items-center px-0"},[t._l(t.S_FAN_PAGE_PROGRAMS,(function(e,a){return[s("div",{key:a,attrs:{title:e.value}},[s("button",{staticClass:"rounded sub-sources border-0 btn-block btn btn-light ",class:t.lead.fanpage_id===e.id?"btn-fanpage btn-program-"+e.id:"",on:{click:function(s){return t.selectProgram(e.id,e.value)}}},[t._v(t._s(e.value))])])]})),a[0]?s("div",{staticClass:"text-error-sn text-center"},[t._v("Program "+t._s(a[0]))]):t._e(),s("input",{directives:[{name:"model",rawName:"v-model",value:t.lead.fanpage_id,expression:"lead.fanpage_id"}],staticClass:"d-none",attrs:{type:"radio"},domProps:{checked:t._q(t.lead.fanpage_id,null)},on:{change:function(e){return t.$set(t.lead,"fanpage_id",null)}}})],2)]}}])})],1)],1)],1)],1)],1)},G=[],$=s("2909"),U=(s("99af"),s("4a7a")),I=s.n(U),F={name:"CatchmentCreateSn",components:{vSelect:I.a},props:{lead:{type:Object,default:function(){return{}}},info:{type:Object,default:function(){return{}}}},data:function(){return{optionsStatesAd:[],optionsOwners:[],optionPrograms:[],optionsFlyers:[],titleModalChoose:"",modalChooseFlyer:!1,unknown:!1,sources:[],programs_fanpage:[],mainProps:{center:!1,fluidGrow:!1,blank:!0,blankColor:"#bbb",height:137,block:!1,fluid:!0,rounded:!0,thumbnail:!0},blankImgProps:{blank:!0,width:137}}},created:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.statesAD();case 2:return e.next=4,t.ownersLeads();case 4:return e.next=6,t.programsAll();case 6:return e.next=8,t.sub_sources();case 8:return e.next=10,t.A_GET_FAN_PAGE_PROGRAMS();case 10:case"end":return e.stop()}}),e)})))()},mounted:function(){return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},computed:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(c["c"])({currentUser:"auth/currentUser",token:"auth/token",G_LANGUAGES:"CrmGlobalStore/G_LANGUAGES"})),Object(c["e"])("SocialNetworkLeadsStore",["S_STATES_LEADS","S_SUB_SOURCES","S_FAN_PAGE_PROGRAMS"])),{},{isFacebook:function(){return 1==this.lead.source_id},isGoogle:function(){return 2==this.lead.source_id},isFullFlyer:function(){return this.lead.state_h&&this.lead.fanpage_id}}),methods:Object(n["a"])(Object(n["a"])({},Object(c["b"])("SocialNetworkLeadsStore",["A_GET_SUB_SOURCES","A_GET_STATE_LEAD","A_GET_OWNERS","A_GET_PROGRAMS","A_GET_SUB_SOURCE_SN","A_GET_FAN_PAGE_PROGRAMS"])),{},{statesAD:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.A_GET_STATE_LEAD();case 2:s=e.sent.map((function(t){return{text:t.state,value:t.slug}})),t.optionsStatesAd=[{disabled:!0,text:"Select a State",value:null}].concat(s);case 4:case"end":return e.stop()}}),e)})))()},ownersLeads:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.A_GET_OWNERS({modul:15,body:{roles:"[]",type:"1"}});case 2:s=e.sent.map((function(t){return{text:t.user_name,value:t.id}})),t.optionsOwners.push({text:"Select Owner",value:null,disable:!0}),t.optionsOwners=[].concat(Object($["a"])(t.optionsOwners),Object($["a"])(s));case 5:case"end":return e.stop()}}),e)})))()},programsAll:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.A_GET_PROGRAMS();case 2:s=e.sent,t.optionPrograms=Object($["a"])(s);case 4:case"end":return e.stop()}}),e)})))()},sub_sources:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.A_GET_SUB_SOURCE_SN();case 2:case"end":return e.stop()}}),e)})))()},selectSource:function(t){this.lead.source_id!==t&&(this.lead.sub_source=null,this.lead.google_ads=null),this.lead.source_id=t,console.log("source",t)},selectSubSource:function(t){this.lead.sub_source=t,console.log(this.lead.sub_source,t)},selectMethod:function(t){this.lead.google_ads=t},selectProgram:function(t,e){console.log(t,e),this.lead.fanpage_id=t}}),watch:{}},Y=F,q=(s("0787"),Object(v["a"])(Y,L,G,!1,null,"c30a6e60",null)),W=q.exports,z=s("7bb1"),B={name:"LeadCreateSocial",components:{CatchmentCreateSn:W,ValidationProvider:z["b"],ValidationObserver:z["a"]},directives:{Ripple:u["a"]},data:function(){return{info:{},leadsourcename:[],value:"00:00 AM",min:new Date(1950,0,1,0,0,0),max:new Date(2049,11,31,24,0,0),minDate:new Date(1e3,1,1),minDateI:new Date,maxDate:new Date(2050,9,1),currentDate:new Date,documents:[{name:"Document",id:null,disabled:!0},{name:"SSN",id:1},{name:"ITIN",id:2},{name:"CPN",id:3}],lead:{state_h:"CA",user_id:182,program:[],source_id:7,sub_source:6,google_ads:2,fanpage_id:3,flyer:null,addEvidence:!0,assign:"",attend:1,card_expi_month:"11",card_expi_year:"11",cardholdername:"",cardnumber:"---",cardsecuritycode:"1111",catcher:1,city:"Dallas",citycard:"",content:"",countrycard:"United States",created_by:1,created_date:"2022-03-02",created_hour:"",date:"2022-03-02",description:"",dob:"2022-03-02",document:"213-12-3123",due_date:"2022-03-02",email:"asd@gmail.com",files:[],first_name:"sdfsd",from:"01:15:00",hour:"11:04:00",id:"",idMethod:null,images:[],itin:"",language:"ES",last_action:1,last_name:"Wqeqwe",mobile:"(121) 112-2222",moreInfo:!0,name:"Sdfsd",nickname:"sdfsdf",note:"qwe qwe qweqweqw ",other:"",phone:"(123) 123-1231",potential:1,state_lead:2,program_id:null,reason_not_pontential:null,recovery:0,seller:28,sms_status:1,sourcesname_id:32,ssn:"213-12-3123",state:"MO",statecard:"",street:"C F Hawn Freeway",streetcard:"",subject:"CALL",super:1,title:"fsdf",to:"01:45:00",type_document:1,usercreator:1,zipcode:"",zipcodecard:""}}},mounted:function(){},computed:{},methods:{onSubmit:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$refs.refFormLeadObserver.validate();case 3:if(!e.sent){e.next=7;break}console.log("data lead: "),e.next=8;break;case 7:console.log("asd");case 8:e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})))()}},created:function(){},watch:{}},J=B,V=Object(v["a"])(J,j,D,!1,null,null,null),H=V.exports,K={name:"Commissions",components:{LeadCreateSocial:H,CommissionsList:R},created:function(){console.log("meta commissions 123: ",this.$route.hash)},computed:Object(n["a"])(Object(n["a"])({},Object(c["c"])("auth",["isSupervisor","isCeo","currentUser"])),{},{isSupervisorModule:function(){return(this.isSupervisor||this.isCeo||null===this.currentUser.role_id)&&15===this.$route.meta.module}}),watch:{},methods:Object(n["a"])({},Object(c["b"])("SocialNetworkCommissions",["A_GET_COMMISSIONS","A_GET_DEPARTMENT_PERCENTAGE"]))},Q=K,X=Object(v["a"])(Q,a,r,!1,null,"45768ecb",null);e["default"]=X.exports},4982:function(t,e,s){"use strict";s("db6a")},8946:function(t,e,s){},db6a:function(t,e,s){},e667c:function(t,e,s){"use strict";s("eb9c")},eb9c:function(t,e,s){},f538:function(t,e,s){}}]);
//# sourceMappingURL=chunk-f11ceeb0.af072441.js.map