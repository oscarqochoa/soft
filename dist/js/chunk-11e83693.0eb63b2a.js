(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11e83693"],{"5b79":function(e,a,t){"use strict";var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("b-sidebar",{attrs:{id:"add-new-user-sidebar",visible:e.isAddNewUserSidebarActive,"bg-variant":"white","sidebar-class":"sidebar-xl",shadow:"",backdrop:"",right:"",title:"Create Lead","header-class":"text-primary"},on:{change:function(a){return e.$emit("update:is-add-new-user-sidebar-active",a)}},scopedSlots:e._u([{key:"default",fn:function(){return[t("validation-observer",{ref:"refFormObserver"},[t("b-form",{staticClass:"p-2"},[t("basic-information-lead",{ref:"refBasicInformationLead",attrs:{"user-data":e.userData,"type-form":e.newLead}}),t("lead-information-lead",{attrs:{"user-data":e.userData}}),t("billing-information-lead",{attrs:{"user-data":e.userData}})],1)],1)]},proxy:!0},{key:"footer",fn:function(){return[t("b-row",{staticClass:"px-3 py-2"},[t("b-col",{attrs:{lg:"6"}},[t("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(186, 191, 199, 0.15)",expression:"'rgba(186, 191, 199, 0.15)'",modifiers:{400:!0}}],attrs:{type:"button",variant:"info"},on:{click:function(a){e.resetuserData(),e.$refs.refFormObserver.reset()}}},[e._v("Reset")])],1),t("b-col",{attrs:{lg:"6"}},[t("div",{staticClass:"d-flex justify-content-end"},[t("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mr-2",attrs:{variant:"primary"},on:{click:e.onSubmit}},[e.isLoading?[t("b-spinner",{attrs:{small:""}}),t("span",[e._v("Loading...")])]:t("span",[e._v("Save")])],2),t("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(186, 191, 199, 0.15)",expression:"'rgba(186, 191, 199, 0.15)'",modifiers:{400:!0}}],attrs:{type:"button",variant:"outline-secondary"},on:{click:function(a){e.resetuserData(),e.$refs.refFormObserver.reset(),e.$emit("update:is-add-new-user-sidebar-active",!1)}}},[e._v("Cancel")])],1)])],1)]},proxy:!0}])})},s=[],n=t("1da1"),i=t("5530"),o=t("ade3"),c=(t("96cf"),t("e9c4"),t("d81d"),t("caad"),t("2532"),t("99af"),t("a4d3"),t("e01a"),t("2f62")),d=t("baa4"),u=t("11de"),l=t("8226"),b=t("4797"),m=t("3010"),p=t("1947"),_=t("7bb1"),f=t("8f03"),S=t("e009"),g=t("4a7a"),h=t.n(g),O=t("47bc"),v=t("4d42"),w=t("c8da"),y=t("6a6c"),D=t("fe0c"),j={components:{BasicInformationLead:w["a"],LeadInformationLead:D["a"],BillingInformationLead:y["a"],BSidebar:d["a"],BForm:u["a"],BFormGroup:l["a"],BFormInput:b["a"],BFormInvalidFeedback:m["a"],BButton:p["a"],vSelect:h.a,ValidationProvider:_["b"],ValidationObserver:_["a"]},directives:{Ripple:S["a"]},model:{prop:"isAddNewUserSidebarActive",event:"update:is-add-new-user-sidebar-active"},props:{isAddNewUserSidebarActive:{type:Boolean,required:!0}},data:function(){var e,a=function(){},t=Object(O["a"])(a),r=t.getValidationState,s=t.resetForm;return{getValidationState:r,resetForm:s,blankUserData:(e={first_name:"",middle_name:"",last_name:"",email:"",programs:[],dob:"",language:"",stateLead:null,social:"",ssn:"",itin:"",other:"",phone:"",mobile:""},Object(o["a"])(e,"other",""),Object(o["a"])(e,"address",{prename:"main",streetReal:"",street:"",city:"",state:"CA",zipcode:"",country:"United States"}),Object(o["a"])(e,"origin_country",146),Object(o["a"])(e,"another_address",""),Object(o["a"])(e,"otherAddress",{prename:"origin",streetReal:"",street:"",city:"",state:"",zipcode:"",country:"United States"}),Object(o["a"])(e,"user_id",null),Object(o["a"])(e,"source_id",""),Object(o["a"])(e,"leadstatus_id",""),Object(o["a"])(e,"sourcesname_id",""),Object(o["a"])(e,"cardNumber1",""),Object(o["a"])(e,"cardNumber2",""),Object(o["a"])(e,"cardNumber3",""),Object(o["a"])(e,"cardNumber4",""),Object(o["a"])(e,"cardExpiMonth",""),Object(o["a"])(e,"cardExpiYear",""),Object(o["a"])(e,"cardHoldername",""),Object(o["a"])(e,"cardSecurityCode",""),Object(o["a"])(e,"cardAddress",{prename:"card",streetReal:"",street:"",city:"",state:"",zipcode:"",country:"United States"}),Object(o["a"])(e,"programId",null),Object(o["a"])(e,"work",""),Object(o["a"])(e,"creditReport",!0),Object(o["a"])(e,"payment","0"),Object(o["a"])(e,"ammount",""),Object(o["a"])(e,"description",""),Object(o["a"])(e,"cardNumber",""),Object(o["a"])(e,"typeCredit","0"),Object(o["a"])(e,"dateOnline",""),Object(o["a"])(e,"plataform",null),Object(o["a"])(e,"usernameOnline",""),Object(o["a"])(e,"passwordonline",""),Object(o["a"])(e,"memberNumberOnline",""),e),userData:{},required:f["l"],alphaNum:f["c"],email:f["g"],countries:v["a"],isLoading:!1,newLead:"newLead"}},created:function(){this.resetuserData()},computed:Object(i["a"])({},Object(c["c"])({currentUser:"auth/currentUser",token:"auth/token",G_STATE_LEADS:"CrmLeadStore/G_STATE_LEADS",G_STATUS_LEADS:"CrmLeadStore/G_STATUS_LEADS",G_SOURCE_NAMES:"CrmGlobalStore/G_SOURCE_NAMES",G_SELLERS:"CrmGlobalStore/G_SELLERS"})),methods:Object(i["a"])(Object(i["a"])({},Object(c["b"])({A_SET_LEADS:"CrmLeadStore/A_SET_LEADS"})),{},{resetuserData:function(){this.blankUserData.user_id=this.currentUser.user_id,this.userData=JSON.parse(JSON.stringify(this.blankUserData))},getSelectValue:function(e,a){if(e&&a&&this[a]&&this[a].length){var t=this[a].map((function(e){return e.id})).indexOf(e);if(-1!==t)return this[a][t]}return new Object},onSubmit:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var t,r,s,n,i,o,c,d,u,l,b,m,p,_,f,S,g,h,O,v,w,y,D,j,L,A,k,E,N,x,C,T,U,G,R,I,B,F,$,Y,z,M,V,H,J;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.$refs.refFormObserver.validate();case 3:if(!a.sent){a.next=39;break}e.isLoading=!0,"",a.t0=e.currentUser.modul_id,a.next=2===a.t0?9:3===a.t0?11:4===a.t0?13:5===a.t0?15:6===a.t0?17:7===a.t0?19:8===a.t0?21:10===a.t0?23:11===a.t0?25:27;break;case 9:return"show/",a.abrupt("break",27);case 11:return"/bussiness/leads",a.abrupt("break",27);case 13:return"/administration/leads",a.abrupt("break",27);case 15:return"/debtsolution/leads",a.abrupt("break",27);case 17:return"/creditexperts/leads",a.abrupt("break",27);case 19:return"/boostcredit/leads",a.abrupt("break",27);case 21:return"/taxresearch/leads",a.abrupt("break",27);case 23:return"/claimdepartment/leads",a.abrupt("break",27);case 25:return"/specialists/leads",a.abrupt("break",27);case 27:return"lead-show",[e.userData.cardNumber1,e.userData.cardNumber2,e.userData.cardNumber3,e.userData.cardNumber4].includes("")||(e.userData.cardNumber="".concat(e.userData.cardNumber1,"-").concat(e.userData.cardNumber2,"-").concat(e.userData.cardNumber3,"-").concat(e.userData.cardNumber4)),t=e.userData.social.substr(0,1),9==t?e.userData.itin=e.userData.social:e.userData.ssn=e.userData.social,r=e.currentUser.role_id,e.userData.programs=e.$refs.refBasicInformationLead.returnProgramlist(),s=e.userData,n=s.email,i=s.user_id,o=s.first_name,c=s.last_name,d=s.middle_name,u=s.source_id,l=s.sourcesname_id,b=s.programId,m=s.phone,p=s.mobile,_=s.work,f=s.creditReport,S=s.payment,g=s.ammount,h=s.programs,O=s.leadstatus_id,v=s.address,w=s.description,y=s.cardExpiMonth,D=s.cardExpiYear,j=s.ssn,L=s.cardHoldername,A=s.cardNumber,k=s.cardSecurityCode,E=s.dob,N=s.cardAddress,x=s.typeCredit,C=s.dateOnline,T=s.plataform,U=s.usernameOnline,G=s.passwordonline,R=s.memberNumberOnline,I=s.language,B=s.itin,F=s.other,$=s.state_lead,Y=s.another_address,z=s.otherAddress,M=s.origin_country,V={id:"",email:n,user_id:i,first_name:o,last_name:c,middle_name:d,source_id:u,sourcesname_id:l,program_id:b,phone:m,mobile:p,work:_,credit_report:f,payment:S,ammount:g,program:h.map((function(e){return{id:e.id,value:e.label,name:e.label}})),leadstatus_id:O,street:v.street,city:v.city,state:v.state,country:v.country,zipcode:v.zipcode,description:w,card_expi_month:y,card_expi_year:D,ssn:j,cardholdername:L,cardnumber:A,cardsecuritycode:k,dob:E,super:r,created_by:i,usercreator:i,datecreator:e.$moment(E,"YYYY-MM-DDTHH:mm:ss").format("YYYY-MM-DD"),streetcard:N.street,citycard:N.city,zipcodecard:N.zipcode,statecard:N.state,countrycard:N.country,type_credit:x,dateonline:C,plataform:T,usernameonline:U,passwordonline:G,membernumberonline:R,language:I,itin:B,other:F,state_lead:$,another_address:Y,otherstreet:z.street,othercity:z.city,otherstate:z.state,othercountry:z.country,otherzipcode:z.zipcode,originCountry:M,lead_name:"".concat(o," ").concat(c),state_hour:e.getSelectValue($,"G_STATE_LEADS").label,status:e.getSelectValue(O,"G_STATUS_LEADS").label,source_name:e.getSelectValue(l,"G_SOURCE_NAMES").label,owner:e.getSelectValue(i,"G_SELLERS").label},a.next=37,e.A_SET_LEADS(V);case 37:H=a.sent,!H||200!=H.status&&201!=H.status?e.showToast("warning","top-right","Warning!","AlertTriangleIcon","Something went wrong."):(e.isLoading=!1,e.$refs.refFormObserver.reset(),e.$emit("update:is-add-new-user-sidebar-active",!1),e.resetuserData(),J=e.$router.resolve({name:"lead-show",params:{id:H.data.id}}),window.open(J.href,"_blank"),e.$emit("saveLead"),e.showToast("success","top-right","Success!","CheckIcon","Successful operation"));case 39:a.next=46;break;case 41:a.prev=41,a.t1=a["catch"](0),console.log("spmething went wrong onSubmit: ",a.t1),e.isLoading=!1,e.showToast("danger","top-right","Oop!","AlertOctagonIcon",e.getInternalErrors(a.t1));case 46:case"end":return a.stop()}}),a,null,[[0,41]])})))()}})},L=j,A=(t("76a9"),t("2877")),k=Object(A["a"])(L,r,s,!1,null,null,null);a["a"]=k.exports},"76a9":function(e,a,t){"use strict";t("974f")},"974f":function(e,a,t){}}]);
//# sourceMappingURL=chunk-11e83693.0eb63b2a.js.map