(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c8666ab"],{"1fbe":function(e,t,a){},"2a6b":function(e,t,a){"use strict";a("1fbe")},"3fce":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-card",{attrs:{"no-body":""}},[a("request-equipment-grid",{attrs:{global:e.currentUser,module:e.$route.meta.module,statusEquipment:3}})],1)],1)},s=[],n=a("5530"),l=a("2f62"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("filter-slot",{attrs:{filter:e.filter,"filter-principal":e.filterPrincipal,"no-visible-principal-filter":!0,"total-rows":e.totalRows,paginate:e.paginate,"start-page":e.startPage,"to-page":e.toPage,"send-multiple-sms":!1},on:{reload:function(t){return e.$refs["refClientsList"].refresh()}}},[a("b-table",{ref:"refClientsList",attrs:{slot:"table",small:"","no-provider-filtering":"","api-url":"/logistics/inventory/search-request-equipment",items:e.myProvider,fields:e.arrayColumns,"primary-key":"id","table-class":"text-nowrap",responsive:"sm","show-empty":"","sticky-header":"70vh","sort-desc":e.sortDesc,"current-page":e.paginate.currentPage,"per-page":e.paginate.perPage},on:{"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t}},slot:"table",scopedSlots:e._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-primary my-2"},[a("b-spinner",{staticClass:"align-middle mr-1"}),a("strong",[e._v("Loading ...")])],1)]},proxy:!0},{key:"cell(programs_to_install)",fn:function(t){return[a("div",[a("ul",{staticClass:"demo",attrs:{id:"v-for-object"}},e._l(t.item.programs_to_install,(function(t){return a("li",{key:t},[e._v(e._s(t))])})),0)])]}},{key:"cell(commentary)",fn:function(t){return[a("div",{staticClass:"tdbreak",staticStyle:{width:"100px",overflow:"hidden","text-overflow":"ellipsis"}},[e._v(e._s(t.item.commentary))])]}},{key:"cell(status)",fn:function(t){return[a("p",{style:"DELIVERED"==t.item.status?"color:#00CC00":"DISAPPROVED"==t.item.status?"color: #FF0000":"color: rgb(255 177 0)"},[e._v(e._s(t.item.status))])]}},{key:"cell(created_at)",fn:function(t){return[e._v(" "+e._s(t.item.created_by)+" "),a("br"),e._v(" "+e._s(e._f("myGlobalDay")(t.item.created_at))+" ")]}},{key:"cell(tracking)",fn:function(t){return[a("div",[a("b-button",{staticClass:"btn-sm",attrs:{variant:"light"},on:{click:function(a){return e.openModalTrackingRequest(t.item.id)}}},[a("span",[e._v("TRACKING")])])],1)]}}])})],1),e.modalTrackingRequest?a("modal-view-tracking-request",{attrs:{modalTrackingRequest:e.modalTrackingRequest,requestId:e.requestId,global:e.global},on:{closeTrackingRequest:e.closeModalTrackingRequest}}):e._e()],1)},i=[],c=a("1da1"),u=(a("96cf"),a("a9e3"),a("99af"),a("4de4"),a("d3b7"),a("4a7a")),d=a.n(u),p=a("d98c"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-modal",{attrs:{modal:"",title:"TRACKING",size:"lg","modal-class":"modal-primary","hide-footer":"","body-class":"mb-2","title-tag":"h3"},on:{hidden:e.closeModal},model:{value:e.mutableIfModalEquipment,callback:function(t){e.mutableIfModalEquipment=t},expression:"mutableIfModalEquipment"}},[a("div",{staticClass:"table-responsive"},[a("b-table",{ref:"refPaymentsGrid",staticClass:"position-relative",attrs:{"api-url":"/logistics/inventory/get-tracking-request",items:e.myProvider,stacked:"lg",fields:e.arrayColumns,"primary-key":"id","table-class":"text-nowrap table-seccion-head-gray",responsive:"","show-empty":""},scopedSlots:e._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-primary my-2"},[a("b-spinner",{staticClass:"align-middle mr-1"}),a("strong",[e._v("Loading ...")])],1)]},proxy:!0},{key:"cell(created_at)",fn:function(t){return[e._v(" "+e._s(t.item.created_by)+" "),a("br"),e._v(" "+e._s(e._f("myGlobalDay")(t.item.created_at))+" ")]}},{key:"cell(status)",fn:function(t){return[a("p",{style:e.statusColor(t.item.status)},[e._v(" "+e._s(t.item.status)+" ")])]}},{key:"cell(commentary)",fn:function(t){return[a("div",{staticStyle:{"white-space":"normal"},domProps:{innerHTML:e._s(t.item.commentary)}})]}}])})],1)])],1)},f=[],b=[{key:"created_at",label:"Created BY",class:"text-left",sortable:!1},{key:"status",label:"Status",class:"text-left",sortable:!1},{key:"commentary",label:"Commentary",class:"text-left",sortable:!1}],g={props:{modalTrackingRequest:{type:Boolean},requestId:{type:[Number,String]},global:{type:Object}},data:function(){return{mutableIfModalEquipment:this.modalTrackingRequest,id:"",arrayColumns:b}},methods:{statusColor:function(e){return"DISAPPROVED"==e?"color: #FF0000":"SEND"==e?"color: rgb(255 177 0);":"APPROVED"==e?"color: blue;":"color: #00CC00"},closeModal:function(){this.$emit("closeTrackingRequest",!1)},myProvider:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,amgApi.post("".concat(t.apiUrl),{requestId:this.requestId});case 3:return a=e.sent,r=a.data,e.abrupt("return",r||[]);case 8:return e.prev=8,e.t0=e["catch"](0),console.error(e.t0),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()}},y=g,h=a("2877"),_=Object(h["a"])(y,m,f,!1,null,null,null),v=_.exports,k=[{key:"equipment",label:"Equipment",class:"text-left",sortable:!1},{key:"cant",label:"Quantity",class:"text-left",sortable:!1},{key:"name_operator",label:"Assign To ",class:"text-left",sortable:!1},{key:"programs_to_install",label:"Programs to Install",class:"text-left",sortable:!1},{key:"commentary",label:"Comment",class:"text-left",sortable:!1},{key:"status",label:"Status",class:"text-left",sortable:!0},{key:"created_at",label:"Created By",class:"text-left",sortable:!0},{key:"tracking",label:"Tracking",class:"text-left"},{key:"actions",label:"Actions",class:"text-left"}],q=[{type:"datepicker",margin:!0,showLabel:!0,label:"From",placeholder:"Date",class:"font-small-3",model:null,locale:"en",dateFormatOptions:{year:"numeric",month:"numeric",day:"numeric"},cols:6},{type:"datepicker",margin:!0,showLabel:!0,label:"To",placeholder:"Date",class:"font-small-3",model:null,locale:"en",dateFormatOptions:{year:"numeric",month:"numeric",day:"numeric"},cols:6}],R={props:{global:{type:Object},module:{type:[Number,String]},statusEquipment:{type:[Number,String]}},components:{vSelect:d.a,ModalViewTrackingRequest:v,FilterSlot:p["a"]},data:function(){return{totalRows:0,paginate:{currentPage:1,perPage:10},filterPrincipal:{type:"input",inputType:"text",placeholder:"Client...",model:""},startPage:null,toPage:null,modalTrackingRequest:!1,requestId:"",sortDesc:!0,arrayColumns:k,filter:q}},computed:Object(n["a"])({},Object(l["c"])("inventory-store",["updateRequestEquip"])),watch:{updateRequestEquip:function(e){e&&(void 0===this.$refs.refClientsList||this.$refs.refClientsList.refresh(),this.UpdateRequEquip())}},methods:Object(n["a"])(Object(n["a"])({},Object(l["b"])("inventory-store",["UPDATE_REQUEST_EQUIPMENT"])),{},{UpdateRequEquip:function(){this.updateRequestEquip&&this.UPDATE_REQUEST_EQUIPMENT(!1)},myProvider:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,amgApi.post("".concat(t.apiUrl,"?page=").concat(t.currentPage),{from:""==this.filter[0].model?null:this.filter[0].model,to:""==this.filter[1].model?null:this.filter[1].model,perpage:t.perPage,order:""==t.sortBy?"created_at":t.sortBy,orderby:1==t.sortDesc?"desc":"asc",module_id:this.module,statusRequest:null});case 3:return a=e.sent,r=a.data.data,this.startPage=a.data.from,this.current_page=a.data.current_page,this.perpage=a.data.per_page,this.next_page=this.startPage+1,this.end_page=a.data.last_page,this.totalRows=a.data.total,this.toPage=a.data.to,e.abrupt("return",r||[]);case 15:return e.prev=15,e.t0=e["catch"](0),console.log(e.t0),this.showToast("danger","top-right","Error","XIcon","Something went wrong!"),e.abrupt("return",[]);case 20:case"end":return e.stop()}}),e,this,[[0,15]])})));function t(t){return e.apply(this,arguments)}return t}(),openModalTrackingRequest:function(e){this.requestId=e,this.modalTrackingRequest=!0},closeModalTrackingRequest:function(){this.modalTrackingRequest=!1}})},E=R,w=(a("2a6b"),a("8201"),Object(h["a"])(E,o,i,!1,null,"b2232368",null)),x=w.exports,P={components:{RequestEquipmentGrid:x},computed:Object(n["a"])({},Object(l["c"])({currentUser:"auth/currentUser"}))},C=P,T=Object(h["a"])(C,r,s,!1,null,null,null);t["default"]=T.exports},8201:function(e,t,a){"use strict";a("ee91")},ee91:function(e,t,a){}}]);
//# sourceMappingURL=chunk-7c8666ab.7686856e.js.map