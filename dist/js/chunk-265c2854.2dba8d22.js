(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-265c2854"],{1827:function(t,e,r){"use strict";r("2b3a")},"1bbf":function(t,e,r){"use strict";r("44ab")},"2b3a":function(t,e,r){},3907:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"p-1 px-2"},[r("b-tabs",{attrs:{lazy:"","active-tab-class":"p-0 ",pills:"","nav-class":"mb-0","active-nav-item-class":"bg-info box-shadow-info border-info info"}},[[19,16,12].includes(t.$route.meta.module)?r("b-tab",{attrs:{"title-link-class":[t.bgTabsNavs,"sub-tab px-3"],title:"Available"}}):t._e(),r("b-tab",{attrs:{"title-link-class":[t.bgTabsNavs,"sub-tab px-3"],title:"Assigned"}},[r("b-card",{attrs:{"no-body":""}},[r("inventory-grid",{attrs:{global:t.currentUser,module:t.$route.meta.module,statusEquipment:2}})],1)],1),[19,12].includes(t.$route.meta.module)?r("b-tab",{attrs:{title:"To Repair"}}):t._e()],1)],1)},n=[],i=r("5530"),s=r("2f62"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"border-top-info border-3 box-shadow-3 rounded-bottom"},[r("filter-slot",{attrs:{filter:t.filter,"filter-principal":t.filterPrincipal,"no-visible-principal-filter":!0,"total-rows":t.totalRows,paginate:t.paginate,"start-page":t.startPage,"to-page":t.toPage,"send-multiple-sms":!1},on:{reload:function(e){return t.$refs["refClientsList"].refresh()}}},[r("b-table",{ref:"refClientsList",attrs:{slot:"table",small:"","no-provider-filtering":"","api-url":"/logistics/inventory/search-equipments",items:t.myProvider,fields:t.visibleFields,"primary-key":"id","table-class":"text-nowrap",responsive:"sm","show-empty":"","sticky-header":"70vh","sort-by":t.sortBy,"sort-desc":t.sortDesc,"current-page":t.paginate.currentPage,"per-page":t.paginate.perPage},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},slot:"table",scopedSlots:t._u([{key:"table-busy",fn:function(){return[r("div",{staticClass:"text-center text-primary my-2"},[r("b-spinner",{staticClass:"align-middle mr-1"}),r("strong",[t._v("Loading ...")])],1)]},proxy:!0},{key:"cell(selected)",fn:function(e){return[t.validateLocation(e.item.process)?r("div",[r("b-form-checkbox",{model:{value:e.item.selected,callback:function(r){t.$set(e.item,"selected",r)},expression:"data.item.selected"}})],1):r("div")]}},{key:"cell(url_image)",fn:function(e){return[r("div",{staticClass:"image-upload"},[r("input",{attrs:{type:"file",id:"file_input",hidden:""}}),r("div",{staticClass:"form-group"},[r("figure",[e.item.url_image?r("img",{attrs:{width:"80",height:"80",src:e.item.url_image}}):r("img",{attrs:{width:"80",height:"80",src:t.assetsImg+"/images/inventory.jpg"}})])])])]}},{key:"cell(price)",fn:function(e){return[t._v(t._s(null!=e.item.price?"$ "+e.item.price:""))]}},{key:"cell(assigned_to)",fn:function(e){return[r("div",{staticClass:"d-flex flex-column justify-content-start align-items-start"},[r("span",[t._v(t._s(e.item.assigned_to))]),r("div",[t._v(t._s(e.item.name_module))])])]}},{key:"cell(tracking)",fn:function(e){return[r("div",[r("b-button",{attrs:{variant:"light"},on:{click:function(r){return t.openModalTrackingEquipment(e.item.id)}}},[t._v("TRACKING")])],1)]}},{key:"cell(created_at)",fn:function(e){return[r("div",{staticClass:"d-flex flex-column justify-content-start align-items-start"},[r("span",[t._v(t._s(e.item.created_by))]),r("div",[t._v(t._s(t._f("myGlobalDay")(e.item.created_at)))])])]}},{key:"cell(actions)",fn:function(e){return[r("b-dropdown",{attrs:{variant:"link","no-caret":"",right:t.$store.state.appConfig.isRTL},scopedSlots:t._u([{key:"button-content",fn:function(){return[r("feather-icon",{staticClass:"align-middle text-body",attrs:{icon:"MoreVerticalIcon",size:"16"}})]},proxy:!0}],null,!0)},[12!=t.module?r("b-dropdown-item",{on:{click:function(r){return t.viewEquipment(e.item.id,2)}}},[r("feather-icon",{attrs:{icon:"EyeIcon"}}),r("span",{staticClass:"align-middle ml-50"},[t._v("INFORMATION")])],1):t._e(),null!=e.item.assigned_to&&19!=t.module&&2==t.statusEquipment?r("b-dropdown-item",{on:{click:function(r){return t.openValidate(e.item.id,1,e.item.assigned_to,e.item.module_id)}}},[r("feather-icon",{attrs:{icon:"CornerUpLeftIcon"}}),r("span",{staticClass:"align-middle ml-50"},[t._v("RETURN")])],1):t._e(),[2].includes(e.item.status)?r("b-dropdown-item",{on:{click:function(r){return t.openValidate(e.item.id,3,e.item.assigned_to,e.item.module_id)}}},[r("feather-icon",{attrs:{icon:"ChevronsRightIcon"}}),r("span",{staticClass:"align-middle ml-50"},[t._v("TO REPAIR")])],1):t._e()],1)]}}])})],1),t.modalTracking?r("modal-tracking-equipment",{attrs:{modalTracking:t.modalTracking,equipmentId:t.equipmentId,global:t.global},on:{close:t.closeModalTrackingEquipment}}):t._e(),t.modalViewEquipment?r("modal-view-equipment",{attrs:{modalViewEquipment:t.modalViewEquipment,global:t.global,idEquipment:t.idEquipment,edit:t.edit,optionsCat:t.optionsCategory},on:{close:t.closeModalViewEquipment}}):t._e(),t.modalRepairEquipment?r("modal-repair-equipment",{attrs:{modalRepairEquipment:t.modalRepairEquipment,global:t.global,idEquipment:t.idEquipment,statusNewEquipment:t.statusNewEquipment,assignedTo:t.assignedTo,num:t.num},on:{updateRepairEquipment:t.updateRepairEquipment,closeModalRepairEquipment:t.closeModalRepairEquipment}}):t._e()],1)},l=[],u=r("1da1"),c=r("ade3"),d=(r("96cf"),r("a9e3"),r("4de4"),r("d3b7"),r("99af"),r("4a7a")),p=r.n(d),m=r("d98c"),b=r("862b"),g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-modal",{attrs:{modal:"",title:"Tracking",size:"lg","modal-class":"modal-primary","hide-footer":"","body-class":"mb-2","title-tag":"h3"},on:{hidden:t.closeModal},model:{value:t.mutableIfModalEquipment,callback:function(e){t.mutableIfModalEquipment=e},expression:"mutableIfModalEquipment"}},[r("div",{staticClass:"table-responsive"},[r("b-table",{ref:"refPaymentsGrid",staticClass:"position-relative",attrs:{"api-url":"/logistics/inventory/get-tracking-equipment",items:t.myProvider,stacked:"lg",fields:t.arrayColumns,"primary-key":"id","table-class":"text-nowrap table-seccion-head-gray",responsive:"","show-empty":""},scopedSlots:t._u([{key:"table-busy",fn:function(){return[r("div",{staticClass:"text-center text-primary my-2"},[r("b-spinner",{staticClass:"align-middle mr-1"}),r("strong",[t._v("Loading ...")])],1)]},proxy:!0},{key:"cell(status)",fn:function(e){return[r("p",{style:t.statusColor(e.item.status)},[t._v(" "+t._s(e.item.status)+" ")])]}},{key:"cell(created_at)",fn:function(e){return[t._v(" "+t._s(e.item.created_by)+" "),r("br"),t._v(" "+t._s(t._f("myGlobalDay")(e.item.created_at))+" ")]}},{key:"cell(description)",fn:function(e){return[r("div",{staticStyle:{"white-space":"normal"},domProps:{innerHTML:t._s(e.item.description)}})]}}])})],1)])],1)},f=[],v=[{value:1,text:"NEW"},{value:2,text:"REPAIRED"},{value:3,text:"USED"},{value:4,text:"NOT FUNCTIONAL"}],h=[{value:"128 GB",text:"128 GB"},{value:"256 GB",text:"256 GB"},{value:"512 GB",text:"512 GB"},{value:"1 TB",text:"1 TB"},{value:"2 TB",text:"2 TB"}],y=[{value:"4 GB",text:"4 GB"},{value:"6 GB",text:"6 GB"},{value:"8 GB",text:"8 GB"},{value:"12 GB",text:"12 GB"},{value:"16 GB",text:"16 GB"},{value:"32 GB",text:"32 GB"},{value:"64 GB",text:"64 GB"}],w=[{value:"WINDOWS 10",text:"WINDOWS 10"},{value:"WINDOWS 11",text:"WINDOWS 11"}],E={optionsCondition:v,optionsDisc:h,optionsRam:y,optionsSo:w},x={props:{modalTracking:{type:Boolean},global:{type:Object},equipmentId:{type:[Number,String]}},data:function(){return{mutableIfModalEquipment:this.modalTracking,arrayColumns:E}},methods:{statusColor:function(t){return"RETURN"==t?"color: #FF0000":"REGISTERED"==t?"color: blue":"ASSIGNED"==t?"color: rgb(255 177 0);":"TO REPAIR"==t?"color: rgb(122 0 255);":"color: #00CC00"},closeModal:function(){this.$emit("close",!1)},myProvider:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,amgApi.post("".concat(e.apiUrl),{equipmentId:this.equipmentId});case 3:return r=t.sent,a=r.data,t.abrupt("return",a||[]);case 8:return t.prev=8,t.t0=t["catch"](0),console.error(t.t0),t.abrupt("return",[]);case 12:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(e){return t.apply(this,arguments)}return e}()}},q=x,k=r("2877"),C=Object(k["a"])(q,g,f,!1,null,null,null),R=C.exports,I=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-modal",{attrs:{modal:"",title:"VIEW EQUIPMENT",size:"lg","modal-class":"modal-primary","hide-footer":"","body-class":"mb-2","title-tag":"h3"},on:{hidden:t.closeModal},model:{value:t.mutableIfModalEquipment,callback:function(e){t.mutableIfModalEquipment=e},expression:"mutableIfModalEquipment"}},[r("div",{staticClass:"demo-spacing-0"},[r("b-alert",{attrs:{variant:"primary",show:""}},[r("div",{staticClass:"alert-body"},[r("span",[r("strong",[t._v("IMPORTANT INFORMATION")])])])])],1),t.charge?r("div",[r("ValidationObserver",{ref:"form"},[r("form",{on:{submit:function(e){return e.preventDefault(),t.editEquipments.apply(null,arguments)}}},[r("div",[r("div",{staticClass:"p-3 pt-1 pb-3"},[r("b-row",[r("b-col",{attrs:{sm:"8"}},[r("b-row",[r("b-col",{attrs:{sm:"6"}},[r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[r("b-form-group",{attrs:{label:"CATEGORY:"}},[r("v-select",{staticClass:"w-100",class:{"border border-danger":a[0]},attrs:{options:t.optionsCategory,placeholder:"Please select an option",reduce:function(t){return t.id},disabled:"",label:"name"},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}})],1)]}}],null,!1,3871473933)})],1),r("b-col",{attrs:{sm:"6"}},[r("ValidationProvider",{attrs:{rules:"required|validate-amount"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[r("b-form-group",{attrs:{label:"PRICE:"}},[r("money",t._b({staticClass:"form-control input-form fond-white border-hover",class:{"border border-danger":a[0]&&t.vmoneyValidate},staticStyle:{height:"37px"},attrs:{disabled:""},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}},"money",t.money,!1))],1)]}}],null,!1,759547998)})],1),r("b-col",{attrs:{sm:"6"}},[r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[r("b-form-group",{attrs:{label:"MODEL:"}},[r("b-form-input",{staticClass:"form-control input-form fond-white background-white",class:{"border border-danger":a[0]},staticStyle:{height:"38px"},attrs:{placeholder:"Model",size:"sm",disabled:""},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1)]}}],null,!1,2157911484)})],1),r("b-col",{attrs:{sm:"6"}},[r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[r("b-form-group",{attrs:{label:"CONDITION:"}},[r("v-select",{staticClass:"w-100",class:{"border border-danger":a[0]},attrs:{options:t.optionsCondition,placeholder:"Please select an option",reduce:function(t){return t.value},disabled:"",label:"text"},model:{value:t.condition,callback:function(e){t.condition=e},expression:"condition"}})],1)]}}],null,!1,3242667666)})],1),r("b-col",{attrs:{sm:"6"}},[r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[r("b-form-group",{attrs:{label:"BRAND:"}},[r("v-select",{staticClass:"w-100",class:{"border border-danger":a[0]},attrs:{options:t.optionsBrand,placeholder:"Please select an option",reduce:function(t){return t.id},disabled:"",label:"name"},model:{value:t.brand,callback:function(e){t.brand=e},expression:"brand"}})],1)]}}],null,!1,2552242246)})],1),r("b-col",{attrs:{sm:"6"}},[r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[r("b-form-group",{attrs:{label:"PURCHASE DATE:"}},[r("b-form-datepicker",{staticClass:"per-page-datepicker d-inline-block",class:{"border border-danger":a[0]},attrs:{disabled:"",size:"md",id:"to","date-format-options":{year:"numeric",month:"numeric",day:"numeric"}},model:{value:t.dateRegister,callback:function(e){t.dateRegister=e},expression:"dateRegister"}})],1)]}}],null,!1,2177865369)})],1)],1)],1),r("b-col",{attrs:{sm:"4"}},[r("div",{staticClass:"form-group",staticStyle:{border:"5px solid #706d7d","border-radius":"15px",padding:"10px"}},[r("div",{staticClass:"image-upload"},[r("input",{attrs:{type:"file",id:"file_input_1",hidden:"",disabled:t.toggleEditImage},on:{change:t.getImage}}),r("div",{staticClass:"form-group",style:t.toggleEditImage?"cursor: no-drop":"cursor: pointer"},[r("figure",{on:{click:function(e){return t.inputImage()}}},[r("img",{attrs:{width:"100%",height:"190",src:t.image}})])])])]),r("div",{staticStyle:{"text-align":"center"}},[t.toggleEditImage?r("div",[[12,16,19].includes(t.$route.meta.module)?r("button",{staticClass:"mt-2",attrs:{type:"button"},on:{click:function(e){return t.replaceImage(1)}}},[r("i",{staticClass:"fas fa-edit",staticStyle:{"font-size":"20px",color:"blue"}})]):t._e()]):r("div",[r("button",{staticClass:"mt-2",style:t.previousImage==t.viewImage?"cursor: no-drop":"cursor: pointer",attrs:{type:"button",disabled:t.previousImage==t.viewImage},on:{click:function(e){return t.saveReplaceImage()}}},[r("i",{staticClass:"fas fa-save",staticStyle:{"font-size":"20px",color:"limegreen"}})]),r("button",{staticClass:"mt-2",attrs:{type:"button"},on:{click:function(e){return t.replaceImage(2)}}},[r("i",{staticClass:"fas fa-times-circle",staticStyle:{"font-size":"20px",color:"red"}})])])])])],1)],1),1==t.category?r("b-alert",{attrs:{variant:"primary",show:""}},[r("div",{staticClass:"alert-body"},[r("span",[r("strong",[t._v("SECONDARY INFORMATION")])])])]):t._e(),1==t.category?r("div",{staticClass:"p-4 pb-3"},[r("b-row",[r("b-col",{attrs:{sm:"6",cols:"12"}},[r("b-form-group",{attrs:{id:"input-group-2",label:"SERIE:"}},[r("b-form-input",{staticClass:"input-background-white",attrs:{placeholder:"...",disabled:t.disabled},model:{value:t.serie,callback:function(e){t.serie=e},expression:"serie"}})],1)],1),r("b-col",{attrs:{sm:"6"}},[r("b-form-group",{attrs:{id:"input-group-2",label:"PROCESSOR:"}},[r("b-form-input",{staticClass:"input-background-white",attrs:{placeholder:"...",disabled:t.disabled},model:{value:t.processor,callback:function(e){t.processor=e},expression:"processor"}})],1)],1),r("b-col",{attrs:{sm:"4"}},[r("b-form-group",{staticStyle:{color:"#706d7d"},attrs:{id:"input-group-3",label:"RAM:"}},[r("v-select",{staticClass:"w-100",attrs:{options:t.optionsRam,label:"text",reduce:function(t){return t.text},placeholder:"Select",disabled:t.disabled},model:{value:t.ram,callback:function(e){t.ram=e},expression:"ram"}})],1)],1),r("b-col",{attrs:{sm:"4"}},[r("b-form-group",{staticStyle:{color:"#706d7d"},attrs:{id:"input-group-3",label:"DISC:"}},[r("v-select",{staticClass:"w-100",attrs:{options:t.optionsDisc,label:"text",reduce:function(t){return t.text},placeholder:"Select",disabled:t.disabled},model:{value:t.disc,callback:function(e){t.disc=e},expression:"disc"}})],1)],1),r("b-col",{attrs:{sm:"4"}},[r("b-form-group",{staticStyle:{color:"#706d7d"},attrs:{id:"input-group-3",label:"S.OPERATIONAL:"}},[r("v-select",{staticClass:"w-100",attrs:{options:t.optionsSo,label:"text",reduce:function(t){return t.text},placeholder:"Select",disabled:t.disabled},model:{value:t.disc,callback:function(e){t.disc=e},expression:"disc"}})],1)],1),r("b-col",{attrs:{sm:"12"}},[r("b-form-group",{staticStyle:{color:"#706d7d"},attrs:{id:"input-group-2",label:"COMMENTARY:","label-for":"input-2"}},[r("b-form-textarea",{staticClass:"input-background-white",attrs:{id:"textarea",placeholder:"Argue Something ...",rows:"3","max-rows":"3",disabled:t.disabled},model:{value:t.commentary,callback:function(e){t.commentary=e},expression:"commentary"}})],1)],1)],1)],1):t._e(),r("b-form-group",[1==t.edit?r("b-button",{staticStyle:{background:"#ff7f00",float:"right","border-color":"rgb(255, 127, 0)"},attrs:{squared:"",variant:"secondary",type:"submit"}},[r("i",{staticClass:"fa fa-edit mr-1"}),t._v("EDIT ")]):t._e()],1)],1)])])],1):r("div",[r("div",{staticClass:"text-center text-primary my-2"},[r("b-spinner",{staticClass:"align-middle mr-1"}),r("strong",[t._v("Loading ...")])],1)])])],1)},_=[],S={components:{vSelect:p.a},props:{modalViewEquipment:{type:Boolean},idEquipment:{type:[Number,String]},edit:{type:[Number,String]},optionsCat:{type:[]}},data:function(){return{mutableIfModalEquipment:this.modalViewEquipment,category:null,brand:null,condition:null,optionsCategory:this.optionsCat,optionsBrand:[],optionsCondition:v,disc:null,optionsDisc:h,ram:null,optionsRam:y,so:null,optionsSo:w,serie:"",processor:"",price:"",model:"",dateRegister:null,money:{decimal:".",thousands:",",prefix:"$ ",precision:2,masked:!1},vmoneyValidate:!1,newCategory:"",newBrand:"",equipment:{images:""},Image:"/images/inventory.jpg",assetsImg:"https://pre.amgsoft.us",disabled:1!=this.edit,toggleEditImage:!0,previousImage:"",commentary:"",viewImage:"",charge:!1}},computed:{image:function(){return this.viewImage}},methods:{closeModal:function(){this.$emit("close",!1)},getImage:function(t){var e=t.target.files[0];this.equipment.images=e,this.uploadImage(e)},uploadImage:function(t){var e=this,r=new FileReader;r.onload=function(t){e.viewImage=t.target.result},r.readAsDataURL(t)},searchEquipmentById:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b["a"].searchEquipmentById({equipmentId:this.idEquipment});case 3:e=t.sent,200==e.status&&(this.dataEquipment=e.data[0],this.category=this.dataEquipment.category,this.brand=this.dataEquipment.brand,this.condition=this.dataEquipment.condition,this.disc=this.dataEquipment.disc,this.ram=this.dataEquipment.ram,this.so=this.dataEquipment.os,this.serie=this.dataEquipment.serie,this.processor=this.dataEquipment.process,this.price=this.dataEquipment.price,this.model=this.dataEquipment.model,this.dateRegister=this.dataEquipment.purchase_date,this.commentary=this.dataEquipment.commentary,this.viewImage=null==this.dataEquipment.url_image?this.assetsImg+this.Image:this.dataEquipment.url_image,this.charge=!0),t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0),this.showToast("danger","top-right","Error","XIcon","Something went wrong!");case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),getSelectBrand:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b["a"].getSelectBrand({});case 3:e=t.sent,200==e.status&&(this.optionsBrand=e.data),t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0),this.showToast("danger","top-right","Error","XIcon","Something went wrong!");case 11:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.searchEquipmentById(),this.getSelectBrand()}},T=S,O=(r("1bbf"),Object(k["a"])(T,I,_,!1,null,"0306d152",null)),P=O.exports,B=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-modal",{attrs:{modal:"",title:t.statusEquipment,size:"lg","modal-class":"modal-primary","hide-footer":"","body-class":"mb-2","title-tag":"h3"},on:{hidden:t.closeModal},model:{value:t.mutableIfModalEquipment,callback:function(e){t.mutableIfModalEquipment=e},expression:"mutableIfModalEquipment"}},[r("div",[r("ValidationObserver",{ref:"form"},[r("form",{on:{submit:function(e){return e.preventDefault(),t.saveAssignEquipment.apply(null,arguments)}}},[r("div",[r("b-row",[r("b-col",{attrs:{sm:"12"}},[r("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.errors;return[r("b-form-group",{attrs:{id:"input-group-2",label:"COMMENTARY:"}},[r("b-form-textarea",{staticClass:"input-background-white",class:{"border border-danger":a[0]},attrs:{id:"textarea",placeholder:"Argue Something ...",rows:"3","max-rows":"6"},model:{value:t.commentary,callback:function(e){t.commentary=e},expression:"commentary"}})],1)]}}])})],1)],1),r("b-form-group",[r("b-button",{staticStyle:{background:"#ff7f00",float:"right","border-color":"rgb(255, 127, 0)"},attrs:{variant:"primary",type:"submit"}},[t._v(t._s(t.statusButton))])],1)],1)])])],1)])],1)},N=[],M=(r("caad"),{props:{modalRepairEquipment:{type:Boolean},global:{type:Object},idEquipment:{type:[Number,String]},statusNewEquipment:{type:[Number,String]},assignedTo:{type:[Number,String]},num:{type:[Number,String]}},data:function(){return{mutableIfModalEquipment:this.modalRepairEquipment,commentary:""}},computed:{statusEquipment:function(){return[1,2].includes(this.statusNewEquipment)?"RETURN EQUIPMENT":"EQUIPMENT MAINTENANCE"},statusButton:function(){return[1,2].includes(this.statusNewEquipment)?"RETURN ":"SEND FOR REPAIR"}},methods:{closeModal:function(){this.$emit("closeModalRepairEquipment",!1)},saveAssignEquipment:function(){var t=this;this.$refs.form.validate().then(function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(r){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,t.showConfirmSwal("Are you sure?","You won't be able to revert this!");case 6:if(a=e.sent,!a.isConfirmed){e.next=21;break}return e.prev=8,t.addPreloader(),e.next=12,b["a"].saveAssignEquipment({userId:t.global.user_id,equipmentId:t.idEquipment,commentary:t.commentary,statusNewEquipment:t.statusNewEquipment,assignedTo:t.assignedTo,num:t.num});case 12:n=e.sent,200==n.status&&(t.removePreloader(),t.$swal({icon:"success",title:"SENT TO REPAIR",customClass:{confirmButton:"btn btn-success"}}),t.$emit("closeModalRepairEquipment",!1),t.$emit("updateRepairEquipment",!1)),e.next=21;break;case 16:e.prev=16,e.t0=e["catch"](8),t.removePreloader(),console.error(e.t0),t.showToast("danger","top-right","Error","XIcon","Something went wrong!");case 21:case"end":return e.stop()}}),e,null,[[8,16]])})));return function(t){return e.apply(this,arguments)}}())}}}),A=M,j=Object(k["a"])(A,B,N,!1,null,null,null),D=j.exports,G=[{key:"selected",label:"#",class:"text-left",sortable:!1,visible:!0},{key:"url_image",label:"Image",class:"text-left",sortable:!1,visible:!0},{key:"name_category",label:"Category",class:"text-left",sortable:!1,visible:!0},{key:"price",label:"Price",class:"text-left",sortable:!1,visible:!0},{key:"condition",label:"Condition",class:"text-left ",sortable:!1,visible:!0},{key:"name_brand",label:"Brand",class:"text-left",sortable:!1,visible:!0},{key:"model",label:"Model",class:"text-left",sortable:!1,visible:!0},{key:"process",label:"Current location",class:"text-left",sortable:!1,visible:!0},{key:"assigned_to",label:"Assigned To",class:"text-left",sortable:!1,visible:!0},{key:"tracking",label:"Tracking",class:"text-left",sortable:!1,visible:!0},{key:"created_at",label:"Created By",class:"text-left",sortable:!0,visible:!0},{key:"actions",label:"Actions",class:"text-left",sortable:!1,visible:!0}],V=[{type:"select",margin:!0,showLabel:!0,label:"Category",model:null,options:[],reduce:"id",selectText:"name",cols:12},{type:"datepicker",margin:!0,showLabel:!0,label:"From",placeholder:"Date",class:"font-small-3",model:null,locale:"en",dateFormatOptions:{year:"numeric",month:"numeric",day:"numeric"},cols:6},{type:"datepicker",margin:!0,showLabel:!0,label:"To",placeholder:"Date",class:"font-small-3",model:null,locale:"en",dateFormatOptions:{year:"numeric",month:"numeric",day:"numeric"},cols:6}],$={props:{global:{type:Object},module:{type:[Number,String]},statusEquipment:{type:[Number,String]}},components:{vSelect:p.a,FilterSlot:m["a"],ModalTrackingEquipment:R,ModalViewEquipment:P,ModalRepairEquipment:D},data:function(){var t;return t={sortBy:"created_at",sortDesc:!0,totalRows:0,paginate:{currentPage:1,perPage:10},filterPrincipal:{type:"input",inputType:"text",placeholder:"Client...",model:""},assetsImg:"https://pre.amgsoft.us",startPage:null,toPage:null,optionsCategory:[],arrayColumns:G,modalTracking:!1,edit:"",modalViewEquipment:!1,idEquipment:"",modalRepairEquipment:!1,statusNewEquipment:"",assignedTo:"",num:""},Object(c["a"])(t,"sortBy","created_at"),Object(c["a"])(t,"filter",V),t},computed:Object(i["a"])({visibleFields:function(){return this.arrayColumns.filter((function(t){return t.visible}))}},Object(s["c"])("inventory-store",["listCategoryAll"])),methods:Object(i["a"])(Object(i["a"])({},Object(s["b"])("inventory-store",["LIST_CATEGORIES"])),{},{myProvider:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,amgApi.post("".concat(e.apiUrl,"?page=").concat(e.currentPage),{perpage:e.perPage,from:this.filter[1].model,to:this.filter[2].model,statusEquipment:this.statusEquipment,order:""==e.sortBy?"created_at":e.sortBy,orderby:1==e.sortDesc?"desc":"asc",idCategory:this.filter[0].model,moduleId:this.module});case 3:return r=t.sent,a=r.data.data,this.startPage=r.data.from,this.currentPage=r.data.current_page,this.perPage=r.data.per_page,this.nextPage=this.startPage+1,this.endPage=r.data.last_page,this.totalRows=r.data.total,this.toPage=r.data.to,t.abrupt("return",a||[]);case 15:return t.prev=15,t.t0=t["catch"](0),t.abrupt("return",[]);case 20:case"end":return t.stop()}}),t,this,[[0,15]])})));function e(e){return t.apply(this,arguments)}return e}(),getSelectCategory:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null==this.listCategoryAll){t.next=5;break}this.optionsCategory=this.listCategoryAll,this.filter[0].options=this.listCategoryAll,t.next=16;break;case 5:return t.prev=5,t.next=8,b["a"].getSelectCategory({});case 8:e=t.sent,200==e.status&&(this.optionsCategory=e.data,this.filter[0].options=e.data,null==this.listCategoryAll&&this.LIST_CATEGORIES(this.optionsCategory)),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](5),console.error(t.t0),this.showToast("danger","top-right","Error","XIcon","Something went wrong!");case 16:case"end":return t.stop()}}),t,this,[[5,12]])})));function e(){return t.apply(this,arguments)}return e}(),openModalTrackingEquipment:function(t){this.equipmentId=t,this.modalTracking=!0},closeModalTrackingEquipment:function(){this.modalTracking=!1},viewEquipment:function(t,e){this.idEquipment=t,this.edit=e,this.modalViewEquipment=!0},closeModalViewEquipment:function(){this.modalViewEquipment=!1},validateLocation:function(t){return t==this.$route.meta.module&&19!=this.$route.meta.module},openValidate:function(t,e,r,a,n){var i=this;2==n||this.$swal.fire({title:"Password",allowOutsideClick:!1,input:"password",showCancelButton:!0,confirmButtonText:"OK!",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-danger"},inputValidator:function(t){if(!t)return"password is required!"}}).then((function(s){s.value&&i.validatePassword(s.value,t,e,r,a,n)}))},validatePassword:function(){var t=Object(u["a"])(regeneratorRuntime.mark((function t(e,r,a,n,i,s){var o,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o=0,o=1==s?19:3==a?12:1==a||null==i?19:i,t.prev=2,l={module:o,pass:e},t.next=6,b["a"].validatePassword(l);case 6:u=t.sent,0==u.data?this.$swal.fire({icon:"error",title:"Oops...",text:"Password is incorrect"}):(this.showToast("success","top-right","Success","CheckIcon","Correct password"),this.openModalRepairEquipment(r,a,n,s)),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](2),console.error(t.t0),this.showToast("danger","top-right","Error","XIcon","Something went wrong!");case 14:case"end":return t.stop()}}),t,this,[[2,10]])})));function e(e,r,a,n,i,s){return t.apply(this,arguments)}return e}(),openModalRepairEquipment:function(t,e,r,a){this.idEquipment=t,this.statusNewEquipment=e,this.assignedTo=r,this.num=a,this.modalRepairEquipment=!0},closeModalRepairEquipment:function(){this.modalRepairEquipment=!1},updateRepairEquipment:function(){this.$refs.refClientsList.refresh()}}),created:function(){this.getSelectCategory()}},L=$,U=(r("5b27"),r("1827"),Object(k["a"])(L,o,l,!1,null,"b6775e60",null)),F=U.exports,z={components:{InventoryGrid:F},computed:Object(i["a"])({},Object(s["c"])({currentUser:"auth/currentUser"}))},W=z,X=Object(k["a"])(W,a,n,!1,null,null,null);e["default"]=X.exports},"44ab":function(t,e,r){},"5b27":function(t,e,r){"use strict";r("97f7")},"862b":function(t,e,r){"use strict";var a=r("1da1"),n=r("d4ec"),i=r("bee2"),s=(r("96cf"),r("2777")),o=function(){function t(){Object(n["a"])(this,t)}return Object(i["a"])(t,[{key:"countRequestEquipment",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["a"].post("/logistics/inventory/get-counter-equipment-request",e);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getSelectCategory",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["a"].get("/logistics/inventory/get-all-equipment-category",e);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"validatePassword",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["a"].post("/logistics/inventory/equipment-validate-return",e);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getSelectUsers",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["a"].post("/logistics/inventory/get-list-users-by-module-id",e);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"saveRequest",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["a"].post("/logistics/inventory/save-request-equipment",e);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"searchEquipmentById",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["a"].post("/logistics/inventory/get-equipment-data-by-id",e);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getSelectBrand",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["a"].get("/logistics/inventory/get-all-equipment-brand",e);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"saveAssignEquipment",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["a"].post("/logistics/inventory/save-repair-equipment",e);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}();e["a"]=new o},"97f7":function(t,e,r){}}]);
//# sourceMappingURL=chunk-265c2854.2dba8d22.js.map