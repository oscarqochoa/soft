{"version":3,"sources":["webpack:///./src/views/commons/components/ncr/components/ContentReturned.vue?bbb5","webpack:///./src/views/commons/components/ncr/components/ContentReturned.vue?901f","webpack:///./src/views/commons/components/ncr/components/ContentReturned.vue?4ee2","webpack:///./src/views/commons/components/ncr/data/fields.content.returned.data.js","webpack:///src/views/commons/components/ncr/components/ContentReturned.vue","webpack:///./src/views/commons/components/ncr/components/ContentReturned.vue?c902","webpack:///./src/views/commons/components/ncr/components/ContentReturned.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","filter","filterPrincipal","totalRows","paginate","startPage","toPage","on","$event","$refs","refresh","ref","myProvider","arrayColumns","currentPage","perPage","slot","scopedSlots","_u","key","fn","staticClass","_v","proxy","data","class","textLink","name","$route","meta","leadRoute","params","id","item","lead_id","_s","lead_name","mobile","_e","seller_name","_f","date","staticStyle","style","statusColor","status_id","status","question_id","openModalQuestionnaire","score_id","openTrackingStatus","state_cancel","process_date","cr","reportLeadRoute","idfile","idlead","modul","global","assetsImg","route_pdf","_l","JSON","parse","attemps","slice","reverse","attemp","index","plataform_ico","plataform_name","$store","state","appConfig","isRTL","changeStatus","attemps_count","modalTrackingStatus","closeTrackingStatus","modalQuestionnaire","currentUser","module","closeModalQuestionnaire","updateGrid","staticRenderFns","label","sortable","visible","mixins","components","vSelect","ModalQuestionnaire","ModalTrackingStatus","FilterSlot","props","type","inputType","placeholder","model","dato2","dato1","sellers","seller","computed","mapGetters","methods","refClientsList","resetSearch","name_text","date_from","date_to","orderby","order","user_id","role_id","amgApi","items","console","includes","$swal","fire","title","text","imageUrl","imageWidth","showCancelButton","buttonsStyling","confirmButtonColor","cancelButtonColor","input","confirmButtonText","customClass","confirmButton","cancelButton","then","result","NrcService","response","component"],"mappings":"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","file":"js/chunk-7ef9567a.8b31699a.js","sourcesContent":["export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContentReturned.vue?vue&type=style&index=1&lang=scss&\"","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContentReturned.vue?vue&type=style&index=0&id=d590e042&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('filter-slot',{attrs:{\"filter\":_vm.filter,\"filter-principal\":_vm.filterPrincipal,\"total-rows\":_vm.totalRows,\"paginate\":_vm.paginate,\"start-page\":_vm.startPage,\"to-page\":_vm.toPage,\"send-multiple-sms\":false},on:{\"reload\":function($event){return _vm.$refs['refClientsList'].refresh()}}},[_c('b-table',{ref:\"refClientsList\",attrs:{\"slot\":\"table\",\"small\":\"\",\"no-provider-filtering\":\"\",\"api-url\":'/lead/ncr/search-returned',\"items\":_vm.myProvider,\"fields\":_vm.arrayColumns,\"primary-key\":\"id\",\"table-class\":\"text-nowrap\",\"responsive\":\"sm\",\"show-empty\":\"\",\"sticky-header\":\"70vh\",\"current-page\":_vm.paginate.currentPage,\"per-page\":_vm.paginate.perPage},slot:\"table\",scopedSlots:_vm._u([{key:\"table-busy\",fn:function(){return [_c('div',{staticClass:\"text-center text-primary my-2\"},[_c('b-spinner',{staticClass:\"align-middle mr-1\"}),_c('strong',[_vm._v(\"Loading ...\")])],1)]},proxy:true},{key:\"cell(lead_name)\",fn:function(data){return [_c('div',{staticClass:\"d-flex flex-column justify-content-start align-items-start\"},[_c('router-link',{class:_vm.textLink,attrs:{\"to\":{\n              name: _vm.$route.meta.leadRoute,\n              params: { id: data.item.lead_id },\n            },\"target\":\"_blank\"}},[_vm._v(_vm._s(data.item.lead_name))]),(data.item.mobile)?_c('div',[_vm._v(_vm._s(data.item.mobile))]):_vm._e()],1)]}},{key:\"cell(seller_name)\",fn:function(data){return [_c('div',{staticClass:\"d-flex flex-column justify-content-start align-items-start\"},[_c('span',[_vm._v(_vm._s(data.item.seller_name))]),_c('div',[_vm._v(_vm._s(_vm._f(\"myGlobalDay\")(data.item.date)))])])]}},{key:\"cell(status)\",fn:function(data){return [_c('div',{staticClass:\"d-flex flex-column justify-content-start align-items-start\"},[_c('span',{staticClass:\"ncr-leads-status-successful w-100\",staticStyle:{\"color\":\"white\",\"border-radius\":\"30px\",\"padding-left\":\"15px\",\"padding-right\":\"15px\"},style:((\"background-color:\" + (_vm.statusColor(data.item.status_id))))},[_vm._v(_vm._s(data.item.status))])])]}},{key:\"cell(question_id)\",fn:function(data){return [(data.item.question_id == null)?_c('feather-icon',{staticClass:\"font-medium-4\",staticStyle:{\"cursor\":\"pointer\",\"font-size\":\"18px\"},attrs:{\"icon\":\"HelpCircleIcon\"},on:{\"click\":function($event){return _vm.openModalQuestionnaire(\n              data.item.score_id,\n              data.item.lead_name,\n              data.item.status_id,\n              data.item.question_id\n            )}}}):_c('feather-icon',{staticClass:\"font-medium-4\",staticStyle:{\"cursor\":\"pointer\",\"font-size\":\"18px\",\"color\":\"green\"},attrs:{\"icon\":\"HelpCircleIcon\"},on:{\"click\":function($event){return _vm.openModalQuestionnaire(\n              data.item.score_id,\n              data.item.lead_name,\n              data.item.status_id,\n              data.item.question_id\n            )}}})]}},{key:\"cell(tracking)\",fn:function(data){return [_c('div',{staticClass:\"d-flex flex-column justify-content-center align-items-center\"},[_c('feather-icon',{staticClass:\"font-medium-4\",staticStyle:{\"cursor\":\"pointer\"},attrs:{\"icon\":\"ListIcon\"},on:{\"click\":function($event){return _vm.openTrackingStatus(data.item.score_id, data.item.lead_name)}}})],1)]}},{key:\"cell(process_date)\",fn:function(data){return [_c('div',{staticClass:\"d-flex flex-column justify-content-center align-items-center\"},[_c('span',{style:(data.item.state_cancel == 1 ? 'color:red' : '')},[_vm._v(_vm._s(_vm._f(\"myGlobalDay\")(data.item.process_date)))]),_c('span',[_vm._v(_vm._s(data.item.state_cancel))])])]}},{key:\"cell(cr)\",fn:function(data){return [_c('div',[(data.item.cr == 1)?_c('router-link',{attrs:{\"to\":{\n              name: _vm.$route.meta.reportLeadRoute,\n              params: {idfile:data.item.score_id,idlead:data.item.lead_id,\n                modul: 2,\n                global: {\n                  idfile: data.item.score_id,\n                  idlead: data.item.lead_id,\n                },\n              },\n            },\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":_vm.assetsImg + '/images/icons/report2.ico'}})]):_vm._e()],1)]}},{key:\"cell(route_pdf)\",fn:function(data){return [_c('div',{staticClass:\"d-flex flex-column justify-content-center align-items-center\"},[_c('a',{attrs:{\"href\":data.item.route_pdf,\"target\":\"_blanck\"}},[(data.item.route_pdf)?_c('img',{attrs:{\"width\":\"20\",\"height\":\"20\",\"src\":_vm.assetsImg + '/images/icons/pdf.png'}}):_vm._e()])])]}},{key:\"cell(attemps)\",fn:function(data){return [_c('div',{staticClass:\"d-flex flex-column justify-content-center align-items-center\"},[_c('ul',{staticStyle:{\"padding-left\":\"0px\",\"margin-bottom\":\"0px\"}},_vm._l((JSON.parse(data.item.attemps)\n                .slice()\n                .reverse()),function(attemp,index){return _c('li',{key:index,staticStyle:{\"list-style\":\"none\"}},[_c('img',{attrs:{\"src\":_vm.assetsImg + attemp.plataform_ico,\"title\":attemp.plataform_name}})])}),0)])]}},{key:\"cell(actions)\",fn:function(data){return [(data.item.status_id == 6 || data.item.status_id == 3)?_c('b-dropdown',{attrs:{\"variant\":\"link\",\"no-caret\":\"\",\"right\":_vm.$store.state.appConfig.isRTL},scopedSlots:_vm._u([{key:\"button-content\",fn:function(){return [_c('feather-icon',{staticClass:\"align-middle text-body\",attrs:{\"icon\":\"MoreVerticalIcon\",\"size\":\"16\"}})]},proxy:true}],null,true)},[(data.item.status_id == 3)?_c('b-dropdown-item',{on:{\"click\":function($event){return _vm.changeStatus(data.item.score_id, 4)}}},[_c('amg-icon',{attrs:{\"icon\":\"ValidationInformationIcon\"}}),_c('span',{staticClass:\"align-middle ml-50\"},[_vm._v(\"Validate Information\")])],1):_vm._e(),(data.item.status_id == 3 && data.item.attemps_count < 3)?_c('b-dropdown-item',{on:{\"click\":function($event){return _vm.changeStatus(data.item.score_id, 5)}}},[_c('amg-icon',{attrs:{\"icon\":\"OtherSourcesIcon\"}}),_c('span',{staticClass:\"align-middle ml-50\"},[_vm._v(\"Other Source (DI)\")])],1):_vm._e(),(data.item.status_id == 6)?_c('b-dropdown-item',{on:{\"click\":function($event){return _vm.changeStatus(data.item.score_id, 7)}}},[_c('feather-icon',{attrs:{\"icon\":\"FileTextIcon\"}}),_c('span',{staticClass:\"align-middle ml-50\"},[_vm._v(\"Information Was Correct\")])],1):_vm._e(),(data.item.status_id == 6 && data.item.attemps_count < 3)?_c('b-dropdown-item',{on:{\"click\":function($event){return _vm.changeStatus(data.item.score_id, 8)}}},[_c('amg-icon',{attrs:{\"icon\":\"OtherSourcesIcon\"}}),_c('span',{staticClass:\"align-middle ml-50\"},[_vm._v(\"Other Source (II)\")])],1):_vm._e()],1):_vm._e()]}}])})],1),(_vm.modalTrackingStatus)?_c('modal-tracking-status',{attrs:{\"modalTrackingStatus\":_vm.modalTrackingStatus,\"score_id\":_vm.score_id,\"lead_name\":_vm.lead_name},on:{\"closeTrackingStatus\":_vm.closeTrackingStatus}}):_vm._e(),(_vm.modalQuestionnaire)?_c('modal-questionnaire',{attrs:{\"modalQuestionnaire\":_vm.modalQuestionnaire,\"global\":_vm.currentUser,\"score_id\":_vm.score_id,\"lead_name\":_vm.lead_name,\"modul\":_vm.$route.meta.module,\"question_id\":_vm.question_id,\"status_id\":_vm.status_id},on:{\"closeModalQuestionnaire\":_vm.closeModalQuestionnaire,\"updateGrid\":_vm.updateGrid}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default [\n    {\n        key: \"lead_name\",\n        label: \"Lead Name\",\n        class: \"text-left\",\n        sortable: false\n    },\n    {\n        key: \"seller_name\",\n        label: \"Request By\",\n        class: \"text-left\",\n        sortable: false,\n        visible: true\n    },\n    {\n        key: \"admin_name\",\n        label: \"Administrador\",\n        class: \"text-left\",\n        sortable: false,\n        visible: true\n    },\n    {\n        key: \"status\",\n        label: \"Status\",\n        class: \"text-center\",\n        sortable: false,\n        visible: true\n    },\n    {\n        key: \"question_id\",\n        label: \"QU\",\n        class: \"text-left \",\n        sortable: false,\n        visible: true\n    },\n    {\n        key: \"tracking\",\n        label: \"Tracking\",\n        class: \"text-center\",\n        sortable: false,\n        visible: true\n    },\n    {\n        key: \"process_date\",\n        label: \"Proccess Date\",\n        class: \"text-center\",\n        sortable: false,\n        visible: true\n    },\n    {\n        key: \"cr\",\n        label: \"CR\",\n        class: \"text-center\",\n        sortable: false,\n        visible: true\n    },\n    {\n        key: \"route_pdf\",\n        label: \"PDF\",\n        class: \"text-center\",\n        sortable: false,\n        visible: true\n    },\n    {\n        key: \"attemps\",\n        label: \"Provider\",\n        class: \"text-center\",\n        sortable: false,\n        visible: true\n    },\n    {\n        key: \"actions\",\n        label: \"Actions\",\n        class: \"text-center\",\n        sortable: false,\n        visible: true\n    }\n]","<template>\n  <div>\n    <filter-slot\n      :filter=\"filter\"\n      :filter-principal=\"filterPrincipal\"\n      :total-rows=\"totalRows\"\n      :paginate=\"paginate\"\n      :start-page=\"startPage\"\n      :to-page=\"toPage\"\n      :send-multiple-sms=\"false\"\n      @reload=\"$refs['refClientsList'].refresh()\"\n    >\n      <!-- Table -->\n      <b-table\n        small\n        slot=\"table\"\n        no-provider-filtering\n        :api-url=\"'/lead/ncr/search-returned'\"\n        ref=\"refClientsList\"\n        :items=\"myProvider\"\n        :fields=\"arrayColumns\"\n        primary-key=\"id\"\n        table-class=\"text-nowrap\"\n        responsive=\"sm\"\n        show-empty\n        sticky-header=\"70vh\"\n        :current-page=\"paginate.currentPage\"\n        :per-page=\"paginate.perPage\"\n      >\n        <template #table-busy>\n          <div class=\"text-center text-primary my-2\">\n            <b-spinner class=\"align-middle mr-1\"></b-spinner>\n            <strong>Loading ...</strong></div>\n        </template>\n        <!-- Column LEAD NAME -->\n        <template #cell(lead_name)=\"data\">\n          <div class=\"d-flex flex-column justify-content-start align-items-start\">\n            <router-link\n              :class=\"textLink\"\n              :to=\"{\n                name: $route.meta.leadRoute,\n                params: { id: data.item.lead_id },\n              }\"\n              target=\"_blank\"\n            >{{ data.item.lead_name }}</router-link>\n             <div v-if=\"data.item.mobile\">{{data.item.mobile}}</div>\n          </div>\n        </template>\n        <!-- Column REQUEST BY -->\n        <template #cell(seller_name)=\"data\">\n          <div class=\"d-flex flex-column justify-content-start align-items-start\">\n            <span>{{ data.item.seller_name }}</span>\n            <div>{{ data.item.date | myGlobalDay }}</div>\n          </div>\n        </template>\n        <!-- Column STATUS -->\n        <template #cell(status)=\"data\">\n          <div class=\"d-flex flex-column justify-content-start align-items-start\">\n            <span\n              class=\"ncr-leads-status-successful w-100\"\n              style=\"\n                color: white;\n                border-radius: 30px;\n                padding-left: 15px;\n                padding-right: 15px;\n              \"\n              :style=\"`background-color:${statusColor(data.item.status_id)}`\"\n            >{{ data.item.status }}</span>\n          </div>\n        </template>\n        <!-- Column QU -->\n        <template #cell(question_id)=\"data\">\n          <feather-icon\n            icon=\"HelpCircleIcon\"\n            v-if=\"data.item.question_id == null\"\n            class=\"font-medium-4\"\n            style=\"cursor: pointer; font-size: 18px\"\n            @click=\"\n              openModalQuestionnaire(\n                data.item.score_id,\n                data.item.lead_name,\n                data.item.status_id,\n                data.item.question_id\n              )\n            \"\n          ></feather-icon>\n          <feather-icon\n            v-else\n            class=\"font-medium-4\"\n            style=\"cursor: pointer; font-size: 18px; color: green\"\n            icon=\"HelpCircleIcon\"\n            @click=\"\n              openModalQuestionnaire(\n                data.item.score_id,\n                data.item.lead_name,\n                data.item.status_id,\n                data.item.question_id\n              )\n            \"\n          ></feather-icon>\n        </template>\n        <!-- Column TRACKING -->\n        <template #cell(tracking)=\"data\">\n          <div class=\"d-flex flex-column justify-content-center align-items-center\">\n            <feather-icon\n              icon=\"ListIcon\"\n              class=\"font-medium-4\"\n              style=\"cursor: pointer\"\n              @click=\"\n                openTrackingStatus(data.item.score_id, data.item.lead_name)\n              \"\n            ></feather-icon>\n          </div>\n        </template>\n        <!-- Column PROCCESS DATE -->\n        <template #cell(process_date)=\"data\">\n          <div class=\"d-flex flex-column justify-content-center align-items-center\">\n            <span\n              :style=\"data.item.state_cancel == 1 ? 'color:red' : ''\"\n            >{{ data.item.process_date | myGlobalDay }}</span>\n            <span>{{data.item.state_cancel}}</span>\n          </div>\n        </template>\n        <!-- Column CR -->\n        <template #cell(cr)=\"data\">\n          <div>\n            <router-link\n              v-if=\"data.item.cr == 1\"\n              :to=\"{\n                name: $route.meta.reportLeadRoute,\n                params: {idfile:data.item.score_id,idlead:data.item.lead_id,\n                  modul: 2,\n                  global: {\n                    idfile: data.item.score_id,\n                    idlead: data.item.lead_id,\n                  },\n                },\n              }\"\n              target=\"_blank\"\n            >\n              <img :src=\"assetsImg + '/images/icons/report2.ico'\" />\n            </router-link>\n          </div>\n        </template>\n        <!-- Column PDF -->\n        <template #cell(route_pdf)=\"data\">\n          <div class=\"d-flex flex-column justify-content-center align-items-center\">\n            <a :href=\"data.item.route_pdf\" target=\"_blanck\">\n              <img\n                v-if=\"data.item.route_pdf\"\n                width=\"20\"\n                height=\"20\"\n                :src=\"assetsImg + '/images/icons/pdf.png'\"\n              />\n            </a>\n          </div>\n        </template>\n        <!-- Column PROVIDER -->\n        <template #cell(attemps)=\"data\">\n          <div class=\"d-flex flex-column justify-content-center align-items-center\">\n            <ul style=\"padding-left: 0px; margin-bottom: 0px\">\n              <li\n                v-for=\"(attemp, index) in JSON.parse(data.item.attemps)\n                  .slice()\n                  .reverse()\"\n                :key=\"index\"\n                style=\"list-style: none\"\n              >\n                <img :src=\"assetsImg + attemp.plataform_ico\" :title=\"attemp.plataform_name\" />\n              </li>\n            </ul>\n          </div>\n        </template>\n        <!-- Column ACTIONS -->\n        <template #cell(actions)=\"data\">\n          <b-dropdown\n            variant=\"link\"\n            no-caret\n            :right=\"$store.state.appConfig.isRTL\"\n            v-if=\"data.item.status_id == 6 || data.item.status_id == 3\"\n          >\n            <template #button-content>\n              <feather-icon icon=\"MoreVerticalIcon\" size=\"16\" class=\"align-middle text-body\" />\n            </template>\n            <b-dropdown-item\n              v-if=\"data.item.status_id == 3\"\n              @click=\"changeStatus(data.item.score_id, 4)\"\n            >\n              <amg-icon icon=\"ValidationInformationIcon\" />\n              <span class=\"align-middle ml-50\">Validate Information</span>\n            </b-dropdown-item>\n\n            <b-dropdown-item\n              v-if=\"data.item.status_id == 3 && data.item.attemps_count < 3\"\n              @click=\"changeStatus(data.item.score_id, 5)\"\n            >\n              <amg-icon icon=\"OtherSourcesIcon\" />\n              <span class=\"align-middle ml-50\">Other Source (DI)</span>\n            </b-dropdown-item>\n            <b-dropdown-item\n              v-if=\"data.item.status_id == 6\"\n              @click=\"changeStatus(data.item.score_id, 7)\"\n            >\n              <feather-icon icon=\"FileTextIcon\" />\n              <span class=\"align-middle ml-50\">Information Was Correct</span>\n            </b-dropdown-item>\n            <b-dropdown-item\n              v-if=\"data.item.status_id == 6 && data.item.attemps_count < 3\"\n              @click=\"changeStatus(data.item.score_id, 8)\"\n            >\n              <amg-icon icon=\"OtherSourcesIcon\" />\n              <span class=\"align-middle ml-50\">Other Source (II)</span>\n            </b-dropdown-item>\n          </b-dropdown>\n        </template>\n      </b-table>\n    </filter-slot>\n    <!-- Modal Tracking Status -->\n    <modal-tracking-status\n      v-if=\"modalTrackingStatus\"\n      :modalTrackingStatus=\"modalTrackingStatus\"\n      :score_id=\"score_id\"\n      :lead_name=\"lead_name\"\n      @closeTrackingStatus=\"closeTrackingStatus\"\n    ></modal-tracking-status>\n    <!-- Modal Questionnaire -->\n    <modal-questionnaire\n      v-if=\"modalQuestionnaire\"\n      :modalQuestionnaire=\"modalQuestionnaire\"\n      :global=\"currentUser\"\n      :score_id=\"score_id\"\n      :lead_name=\"lead_name\"\n      :modul=\"$route.meta.module\"\n      :question_id=\"question_id\"\n      :status_id=\"status_id\"\n      @closeModalQuestionnaire=\"closeModalQuestionnaire\"\n      @updateGrid=\"updateGrid\"\n    ></modal-questionnaire>\n  </div>\n</template>\n\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport vSelect from \"vue-select\";\n// Import Filter\nimport FilterSlot from \"@/views/crm/views/sales-made/components/slots/FilterSlot.vue\";\n// Import Modals\nimport ModalQuestionnaire from \"../modal/ModalQuestionnaire.vue\";\nimport ModalTrackingStatus from \"../modal/ModalTrackingStatus.vue\";\n// Import Services\nimport NrcService from \"../service/ncr.service\";\n// Import Data\nimport filters from '../data/filter.content.general.data'\nimport fields from '../data/fields.content.returned.data'\n// Import Mixin\nimport ncrmixin from \"../mixin\";\nexport default {\n  mixins: [ncrmixin],\n  components: { vSelect, ModalQuestionnaire, ModalTrackingStatus, FilterSlot },\n  props: {},\n  data:function() {\n    return {\n      assetsImg: process.env.VUE_APP_BASE_URL_ASSETS,\n      totalRows: 0,\n      paginate: {\n        currentPage: 1,\n        perPage: 10\n      },\n      filterPrincipal: {\n        type: \"input\",\n        inputType: \"text\",\n        placeholder: \"Client...\",\n        model: \"\"\n      },\n      startPage: null,\n      toPage: null,\n      arrayColumns: fields,\n      dato2: 4,\n      dato1: \"desc\",\n      sellers: [],\n      seller: \"\",\n      modalQuestionnaire: false,\n      question_id: \"\",\n      status_id: \"\",\n      score_id: \"\",\n      lead_name: \"\",\n      modalTrackingStatus: false,\n      filter:filters,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      currentUser: \"auth/currentUser\"\n    })\n  },\n  methods: {\n    updateGrid:function() {\n      this.$refs.refClientsList.refresh();\n    },\n    resetSearch:function() {\n      this.$refs.refClientsList.refresh();\n    },\n    myProvider:async function(ctx) {\n      try{\n        let params = {\n        perPage: ctx.perPage,\n        name_text: this.filterPrincipal.model,\n        date_from: this.filter[1].model,\n        date_to: this.filter[2].model,\n        orderby: this.dato2 == null ? 4 : this.dato2,\n        order: this.dato1 == null ? \"desc\" : this.dato1,\n        user_id: this.currentUser.user_id,\n        role_id: this.currentUser.role_id,\n        seller: this.filter[0].model,\n        modul: this.$route.meta.module\n      }\n      const data = await  amgApi.post(`${ctx.apiUrl}?page=${ctx.currentPage}`, params);\n      const items = data.data.data;\n        this.startPage = data.data.from;\n        this.currentPage = data.data.current_page;\n        this.perPage = data.data.per_page;\n        this.nextPage = this.startPage + 1;\n        this.endPage = data.data.last_page;\n        this.totalRows = data.data.total;\n        this.toPage = data.data.to;\n        if (items != null) {\n          items.map(item => {\n            item.attemps_count =\n              item.attemps == null ? \"\" : JSON.parse(item.attemps).length;\n          });\n        }\n        return items || [];\n      }catch(error){\n        console.error(error)\n        return [];\n      }\n    },\n    openTrackingStatus:function(id, lead_name) {\n      this.lead_name = lead_name;\n      this.score_id = id;\n      this.modalTrackingStatus = true;\n    },\n    closeTrackingStatus:function() {\n      this.modalTrackingStatus = false;\n    },\n    closeModalQuestionnaire:function() {\n      this.modalQuestionnaire = false;\n    },\n    statusColor(status){\n      if (status === 1) return \"#38c172\";\n      if (status === 2) return \"#3490dc\";\n      if ([3, 6, 9, 10].includes(status)) return \"#e13232\";\n      if ([7, 8].includes(status)) return \"#eabc73\";\n      if ([4, 5].includes(status)) return \"#eabc73\";\n      return \"#e13232\";\n    },\n    changeStatus:function(score_id, status_id) {\n      this.$swal\n        .fire({\n          title: \"Are you sure?\",\n          text: \"You won't be able to revert this!\",\n          imageUrl: \"/assets/images/icons/swal/warning.svg\",\n          imageWidth: 70,\n          showCancelButton: true,\n          buttonsStyling: false,\n          confirmButtonColor: \"#ab9220\",\n          cancelButtonColor: \"#8f9194\",\n          input: \"textarea\",\n          confirmButtonText: \"Yes\",\n          customClass: {\n            confirmButton: \"btn btn-primary mr-1\",\n            cancelButton: \"btn btn-outline-danger  \"\n          }\n        })\n        .then(async result => {\n          if (result.value) {\n            try {\n              this.addPreloader();\n              const response = await NrcService.changeStatus({\n                user_id: this.currentUser.user_id,\n                score_id: score_id,\n                status_id: status_id,\n                text: result.value\n              });\n              if (response.status == 200) {\n                this.resetSearch();\n                this.removePreloader();\n                this.showSuccessSwal(\"OPERATION SUCCESSFULLY\");\n              }\n            } catch (error) {\n              this.removePreloader();\n              console.error(error);\n              this.showToast(\n                \"danger\",\n                \"top-right\",\n                \"Error\",\n                \"XIcon\",\n                \"Something went wrong!\"\n              );\n            }\n          }\n        });\n    }\n  },\n};\n</script>\n\n\n<style lang=\"scss\" scoped>\n.select-lead-name:hover {\n  text-decoration-line: underline;\n}\n.per-page-selector {\n  width: 90px;\n}\n.per-page-datepicker {\n  width: 180px;\n}\ntd.div {\n  width: 100% !important;\n}\n@media (max-width: 1024) {\n  .per-page-datepicker {\n    width: 100px;\n  }\n  .column-table {\n    display: flex;\n    flex-direction: column;\n  }\n  .button-top {\n    margin-bottom: 22px;\n  }\n}\n\n@media (max-width: 740px) {\n  .per-page-datepicker {\n    width: 110px;\n  }\n  .button-top {\n    margin-bottom: 22px;\n  }\n}\n.b-calendar-grid-caption {\n  background: transparent !important;\n}\n</style>\n\n<style lang=\"scss\">\n@import \"@core/scss/vue/libs/vue-select.scss\";\n@import \"@core/scss/vue/libs/vue-sweetalert.scss\";\n</style>","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContentReturned.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContentReturned.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContentReturned.vue?vue&type=template&id=d590e042&scoped=true&\"\nimport script from \"./ContentReturned.vue?vue&type=script&lang=js&\"\nexport * from \"./ContentReturned.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ContentReturned.vue?vue&type=style&index=0&id=d590e042&lang=scss&scoped=true&\"\nimport style1 from \"./ContentReturned.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d590e042\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}