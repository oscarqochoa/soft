(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21db8db9"],{"14a7":function(t,e,a){},"1c5f":function(t,e,a){"use strict";a("14a7")},b6b4:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"p-2"},[a("b-tabs",{attrs:{lazy:"","active-tab-class":"p-0 ",pills:"","nav-class":"mb-0","active-nav-item-class":"bg-info box-shadow-info info"}},[a("b-tab",{attrs:{title:"Successfull","title-link-class":[t.bgTabsNavs,"sub-tab px-3"]}},[a("content-sub-completed",{attrs:{status:1}})],1),a("b-tab",{attrs:{title:"Invalid","title-link-class":[t.bgTabsNavs,"sub-tab px-3"]}},[a("content-sub-completed",{attrs:{status:2}})],1)],1)],1)},i=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"border-top-info border-3 box-shadow-3 rounded-bottom"},[a("filter-slot",{attrs:{filter:t.filter,"filter-principal":t.filterPrincipal,"total-rows":t.totalRows,paginate:t.paginate,"start-page":t.startPage,"to-page":t.toPage,"send-multiple-sms":!1},on:{reload:function(e){return t.$refs["refClientsList"].refresh()}}},[a("b-table",{ref:"refClientsList",attrs:{slot:"table","no-provider-filtering":"","api-url":t.clientRoute,items:t.myProvider,fields:t.arrayColumns,"primary-key":"id","table-class":"text-nowrap",responsive:"sm","show-empty":"","sticky-header":"70vh","current-page":t.paginate.currentPage,"per-page":t.paginate.perPage},slot:"table",scopedSlots:t._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-primary my-2"},[a("b-spinner",{staticClass:"align-middle mr-1"}),a("strong",[t._v("Loading ...")])],1)]},proxy:!0},{key:"cell(lead_name)",fn:function(e){return[a("div",{staticClass:"d-flex flex-column justify-content-start align-items-start"},[a("router-link",{attrs:{to:{name:t.$route.meta.leadRoute,params:{id:e.item.lead_id}},target:"_blank"}},[t._v(t._s(e.item.lead_name))]),e.item.mobile?a("div",[t._v(t._s(e.item.mobile))]):t._e()],1)]}},{key:"cell(seller_name)",fn:function(e){return[a("div",{staticClass:"d-flex flex-column justify-content-start align-items-start"},[a("span",[t._v(t._s(e.item.seller_name))]),a("div",[t._v(t._s(t._f("myGlobalDay")(e.item.date)))])])]}},{key:"cell(status)",fn:function(e){return[a("div",{staticClass:"d-flex flex-column justify-content-start align-items-start"},[a("span",{staticClass:"ncr-leads-status-successful w-100",staticStyle:{color:"white","border-radius":"30px","padding-left":"15px","padding-right":"15px"},style:"background-color:"+t.statusColor(e.item.status_id)},[t._v(t._s(e.item.status))])])]}},{key:"cell(question_id)",fn:function(e){return[null==e.item.question_id?a("feather-icon",{staticClass:"font-medium-4",staticStyle:{cursor:"pointer","font-size":"18px"},attrs:{icon:"HelpCircleIcon"},on:{click:function(a){return t.openModalQuestionnaire(e.item.score_id,e.item.lead_name,e.item.status_id,e.item.question_id)}}}):a("feather-icon",{staticClass:"font-medium-4",staticStyle:{cursor:"pointer","font-size":"18px",color:"green"},attrs:{icon:"HelpCircleIcon"},on:{click:function(a){return t.openModalQuestionnaire(e.item.score_id,e.item.lead_name,e.item.status_id,e.item.question_id)}}})]}},{key:"cell(tracking)",fn:function(e){return[a("div",{staticClass:"d-flex flex-column justify-content-center align-items-center"},[a("feather-icon",{staticClass:"font-medium-4",staticStyle:{cursor:"pointer"},attrs:{icon:"ListIcon"},on:{click:function(a){return t.openTrackingStatus(e.item.score_id,e.item.lead_name)}}})],1)]}},{key:"cell(cr)",fn:function(e){return[1==t.status?a("div",[1==e.item.cr?a("router-link",{attrs:{to:{name:t.$route.meta.reportLeadRoute,params:{idfile:e.item.score_id,idlead:e.item.lead_id,modul:2,global:{idfile:e.item.score_id,idlead:e.item.lead_id}}},target:"_blank"}},[a("img",{attrs:{src:t.assetsImg+"/images/icons/report2.ico"}})]):t._e()],1):t._e(),2==t.status?a("div",[e.item.route_html?a("a",{attrs:{href:e.item.route_html,target:"_blanck"}},[a("amg-icon",{staticStyle:{color:"blue"},attrs:{size:"23",icon:"CRInvalidIcon"}})],1):t._e()]):t._e()]}},{key:"cell(route_pdf)",fn:function(e){return[a("div",{staticClass:"d-flex flex-column justify-content-center align-items-center"},[e.item.route_pdf?a("a",{attrs:{href:e.item.route_pdf,target:"_blanck"}},[e.item.route_pdf?a("img",{attrs:{width:"20",height:"20",src:t.assetsImg+"/images/icons/pdf.png"}}):t._e()]):t._e()])]}},{key:"cell(attemps)",fn:function(e){return[a("div",{staticClass:"d-flex flex-column justify-content-center align-items-center"},[a("ul",{staticStyle:{"padding-left":"0px","margin-bottom":"0px"}},t._l(JSON.parse(e.item.attemps).slice().reverse(),(function(e,s){return a("li",{key:s,staticStyle:{"list-style":"none"}},[a("img",{attrs:{src:t.assetsImg+e.plataform_ico,title:e.plataform_name}})])})),0)])]}},{key:"cell(marked_pdf)",fn:function(e){return[a("div",{staticClass:"d-flex flex-column justify-content-center align-items-center"},[JSON.parse(e.item.attemps).slice()[0].file_cancel?a("a",{attrs:{href:JSON.parse(e.item.attemps).slice()[0].file_cancel,target:"_blanck"}},[a("img",{staticStyle:{width:"20px"},attrs:{src:t.assetsImg+"/images/icons/pdf.png"}})]):a("div",{staticStyle:{height:"20px"}})])]}}])})],1),t.modalTrackingStatus?a("modal-tracking-status",{attrs:{modalTrackingStatus:t.modalTrackingStatus,score_id:t.score_id,lead_name:t.lead_name},on:{closeTrackingStatus:t.closeTrackingStatus}}):t._e(),t.modalQuestionnaire?a("modal-questionnaire",{attrs:{modalQuestionnaire:t.modalQuestionnaire,global:t.currentUser,score_id:t.score_id,lead_name:t.lead_name,modul:t.$route.meta.module,question_id:t.question_id,status_id:t.status_id},on:{closeModalQuestionnaire:t.closeModalQuestionnaire,updateGrid:t.updateGrid}}):t._e()],1)},n=[],l=a("1da1"),o=a("5530"),c=(a("96cf"),a("a9e3"),a("4de4"),a("d3b7"),a("99af"),a("d81d"),a("2f62")),u=a("4a7a"),d=a.n(u),m=a("d98c"),f=a("914d"),p=a("ff12"),_=a("2b8b"),g=[{key:"lead_name",label:"Lead Name",class:"text-left",sortable:!1},{key:"seller_name",label:"Request By",class:"text-left",sortable:!1,visible:!0},{key:"admin_name",label:"Administrador",class:"text-left",sortable:!1,visible:!0},{key:"status",label:"Status",class:"text-center",sortable:!1,visible:!0},{key:"question_id",label:"QU",class:"text-left ",sortable:!1,visible:!0},{key:"tracking",label:"Tracking",class:"text-center",sortable:!1,visible:!0},{key:"cr",label:"CR",class:"text-center",sortable:!1,visible:!0},{key:"route_pdf",label:"PDF",class:"text-center",sortable:!1,visible:!0},{key:"attemps",label:"Provider",class:"text-center",sortable:!1,visible:!0},{key:"marked_pdf",label:"File",class:"text-center",sortable:!1,visible:!0}],b=a("3f52"),h={mixins:[b["a"]],components:{vSelect:d.a,ModalQuestionnaire:f["a"],ModalTrackingStatus:p["a"],FilterSlot:m["a"]},props:{status:{type:[Number,String]}},data:function(){return{totalRows:0,paginate:{currentPage:1,perPage:10},assetsImg:"https://pre.amgsoft.us",startPage:null,toPage:null,totalData:"",perPageOptions:[10,25,50,100],filterPrincipal:{type:"input",inputType:"text",placeholder:"Client...",model:""},arrayColumns:g,dato2:4,dato1:"desc",sellers:[],seller:"",modalQuestionnaire:!1,modalTrackingStatus:!1,question_id:"",status_id:"",score_id:"",lead_name:"",filter:_["a"]}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])({currentUser:"auth/currentUser"})),{},{clientRoute:function(){return 1==this.status?"/lead/ncr/search-completed-successfull":"/lead/ncr/search-completed-invalid"}}),methods:{resetSearch:function(){this.$refs.refClientsList.refresh()},myProvider:function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(e){var a,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={perPage:e.perPage,name_text:this.filterPrincipal.model,date_from:this.filter[1].model,date_to:this.filter[2].model,orderby:null==this.dato2?4:this.dato2,order:null==this.dato1?"desc":this.dato1,user_id:this.currentUser.user_id,role_id:this.currentUser.role_id,seller:this.filter[0].model,modul:this.$route.meta.module},t.next=4,amgApi.post("".concat(e.apiUrl,"?page=").concat(e.currentPage),a);case 4:return s=t.sent,i=s.data.data,this.startPage=s.data.from,this.currentPage=s.data.current_page,this.perPage=s.data.per_page,this.nextPage=this.startPage+1,this.endPage=s.data.last_page,this.totalData=s.data.total,this.totalRows=s.data.total,this.toPage=s.data.to,null!=i&&i.map((function(t){t.attemps_count=null==t.attemps?"":JSON.parse(t.attemps).length})),t.abrupt("return",i||[]);case 18:return t.prev=18,t.t0=t["catch"](0),console.error(t.t0),t.abrupt("return",[]);case 22:case"end":return t.stop()}}),t,this,[[0,18]])})));function e(e){return t.apply(this,arguments)}return e}(),closeModalQuestionnaire:function(){this.modalQuestionnaire=!1},updateGrid:function(){this.$refs.refClientsList.refresh()},openTrackingStatus:function(t,e){this.lead_name=e,this.score_id=t,this.modalTrackingStatus=!0},closeTrackingStatus:function(){this.modalTrackingStatus=!1}}},y=h,k=(a("1c5f"),a("2877")),v=Object(k["a"])(y,r,n,!1,null,"461ce27e",null),x=v.exports,S={components:{ContentSubCompleted:x}},C=S,P=Object(k["a"])(C,s,i,!1,null,null,null);e["default"]=P.exports}}]);
//# sourceMappingURL=chunk-21db8db9.570056f1.js.map