(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-085392e6"],{"0216":function(e,t,n){},"03d1":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("layout-vertical",{scopedSlots:e._u([{key:"navbar",fn:function(e){var t=e.toggleVerticalMenuActive;return[n("navbar",{attrs:{toggleVerticalMenuActive:t}})]}},"amg-messages"!=e.$route.name?{key:"vertical-menu-items",fn:function(e){var t=e.isMouseHovered,r=e.isVerticalMenuCollapsed;return[n("sidebar",{attrs:{isMouseHovered:t,isVerticalMenuCollapsed:r}})]}}:null],null,!0)},[n("router-view"),e.showCustomizer?n("app-customizer",{attrs:{slot:"customizer"},slot:"customizer"}):e._e()],1)},a=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vertical-layout h-100",class:[e.layoutClasses],attrs:{"data-col":e.isNavMenuHidden?"1-column":null}},[n("b-navbar",{staticClass:"header-navbar navbar navbar-shadow align-items-center navbar-mobile",class:[e.navbarTypeClass],attrs:{toggleable:!1,variant:e.navbarBackgroundColor}},[e._t("navbar",(function(){return[n("app-navbar-vertical-layout",{attrs:{"toggle-vertical-menu-active":e.toggleVerticalMenuActive}})]}),{toggleVerticalMenuActive:e.toggleVerticalMenuActive,navbarBackgroundColor:e.navbarBackgroundColor,navbarTypeClass:e.navbarTypeClass.concat(["header-navbar navbar navbar-shadow align-items-center"])})],2),e.isNavMenuHidden?e._e():n("vertical-nav-menu",{attrs:{"is-vertical-menu-active":e.isVerticalMenuActive,"toggle-vertical-menu-active":e.toggleVerticalMenuActive},scopedSlots:e._u([{key:"header",fn:function(t){return[e._t("vertical-menu-header",null,null,t)]}},{key:"items",fn:function(t){var n=t.isMouseHovered,r=t.isVerticalMenuCollapsed;return[e._t("vertical-menu-items",null,{isMouseHovered:n,isVerticalMenuCollapsed:r})]}}],null,!0)}),n("div",{staticClass:"sidenav-overlay",class:e.overlayClasses,on:{click:function(t){e.isVerticalMenuActive=!1}}}),n("transition",{attrs:{name:e.routerTransition,mode:"out-in"}},[n(e.layoutContentRenderer,{key:"layout-content-renderer-left"===e.layoutContentRenderer?e.$route.meta.navActiveLink||e.$route.name:null,tag:"component",scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,n){return{key:n,fn:function(t){return[e._t(n,null,null,t)]}}}))],null,!0)})],1),n("footer",{staticClass:"footer footer-light",class:[e.footerTypeClass]},[e._t("footer",(function(){return[n("app-footer")]}))],2),e._t("customizer")],2)},o=[],i=n("ed09"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"navbar-container d-flex content align-items-center"},[n("ul",{staticClass:"nav navbar-nav d-xl-none"},[n("li",{staticClass:"nav-item"},[n("b-link",{staticClass:"nav-link",on:{click:e.toggleVerticalMenuActive}},[n("feather-icon",{attrs:{icon:"MenuIcon",size:"21"}})],1)],1)]),n("div",{staticClass:"bookmark-wrapper align-items-center flex-grow-1 d-none d-lg-flex"},[n("bookmarks")],1),n("b-navbar-nav",{staticClass:"nav align-items-center ml-auto"},[n("locale"),n("dark-Toggler",{staticClass:"d-none d-lg-block"}),n("search-bar"),n("cart-dropdown"),n("notification-dropdown"),n("user-dropdown")],1)],1)},l=[],u=n("aa59"),d=n("042b"),f=n("6957"),p=n("e2f5"),m=n("809a"),b=n("9f5c"),h=n("8a2e"),v=n("5c02"),g=n("eef9"),_={components:{BLink:u["a"],BNavbarNav:d["a"],Bookmarks:f["a"],Locale:p["a"],SearchBar:m["a"],DarkToggler:b["a"],CartDropdown:h["a"],NotificationDropdown:v["a"],UserDropdown:g["a"]},props:{toggleVerticalMenuActive:{type:Function,default:function(){}}}},y=_,k=n("2877"),S=Object(k["a"])(y,c,l,!1,null,null,null),C=S.exports,w=n("62cb"),x=n("b8f2"),O=n("d0b9"),T=n("1ae3"),N=n("e08f"),I=n("0d19"),j=n("2c28"),E=n("32b8"),U=n("1dff"),A={watch:{$route:function(){this.$store.state.app.windowWidth<U["a"].xl&&(this.isVerticalMenuActive=!1)}}},M={components:{AppNavbarVerticalLayout:C,AppFooter:w["a"],VerticalNavMenu:j["a"],BNavbar:O["a"],LayoutContentRendererLeftDetached:I["a"],LayoutContentRendererLeft:N["a"],LayoutContentRendererDefault:T["a"]},mixins:[A],computed:{layoutContentRenderer:function(){var e=this.$route.meta.contentRenderer;return"sidebar-left"===e?"layout-content-renderer-left":"sidebar-left-detached"===e?"layout-content-renderer-left-detached":"layout-content-renderer-default"}},setup:function(){var e=Object(x["a"])(),t=e.routerTransition,n=e.navbarBackgroundColor,r=e.navbarType,a=e.footerType,s=e.isNavMenuHidden,o=e.layoutType,c=Object(E["a"])(r,a),l=c.isVerticalMenuActive,u=c.toggleVerticalMenuActive,d=c.isVerticalMenuCollapsed,f=c.layoutClasses,p=c.overlayClasses,m=c.resizeHandler,b=c.navbarTypeClass,h=c.footerTypeClass;return m(),window.addEventListener("resize",m),Object(i["onUnmounted"])((function(){window.removeEventListener("resize",m)})),{isVerticalMenuActive:l,toggleVerticalMenuActive:u,isVerticalMenuCollapsed:d,overlayClasses:p,layoutClasses:f,navbarTypeClass:b,footerTypeClass:h,navbarType:r,layoutType:o,routerTransition:t,navbarBackgroundColor:n,isNavMenuHidden:s}}},R=M,D=(n("15ae"),Object(k["a"])(R,s,o,!1,null,null,null)),P=D.exports,V=n("4778"),$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"navbar-container d-flex content align-items-center"},[void 0==e.$route.meta.module&&"amg-menu"!=e.$route.name?n("b-link",{staticClass:"mr-2",class:"dark"==e.skin?"text-light":"text-dark",attrs:{to:{name:"amg-menu"}}},[n("amg-icon",{attrs:{icon:"AmgIcon",size:"35"}})],1):void 0!=e.$route.meta.module?n("ul",{staticClass:"nav navbar-nav d-xl-none"},[n("li",{staticClass:"nav-item"},[n("b-link",{staticClass:"nav-link",on:{click:e.toggleVerticalMenuActive}},[n("feather-icon",{attrs:{icon:"MenuIcon",size:"21"}})],1)],1)]):e._e(),n("div",{staticClass:"bookmark-wrapper align-items-center flex-grow-1 d-none d-lg-flex"},[n("bookmarks")],1),n("b-navbar-nav",{staticClass:"nav align-items-center ml-auto"},[n("dark-Toggler"),n("task-dropdown",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Tasks",expression:"'Tasks'",modifiers:{hover:!0,top:!0}}]}),n("notification-dropdown",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Appointments",expression:"'Appointments'",modifiers:{hover:!0,top:!0}}]}),n("status-dropdown",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Status Session",expression:"'Status Session'",modifiers:{hover:!0,top:!0}}]}),n("user-dropdown")],1)],1)},L=[],B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-nav-item-dropdown",{staticClass:"dropdown-notification mr-25",attrs:{"menu-class":"dropdown-menu-media",right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[n("feather-icon",{staticClass:"text-body",attrs:{badge:e.G_NOTIFICATION_COUNTER>99?"+99":e.G_NOTIFICATION_COUNTER,"badge-classes":"badge-important",icon:"BellIcon",size:"19"}})]},proxy:!0}])},[n("li",{staticClass:"dropdown-menu-header"},[n("div",{staticClass:"dropdown-header d-flex"},[n("h4",{staticClass:"notification-title mb-0 mr-auto"},[e._v("Notifications")]),n("b-badge",{attrs:{pill:"",variant:"light-primary"}},[e._v(e._s(e.G_NOTIFICATION_COUNTER)+" New")])],1)]),n("vue-perfect-scrollbar",{staticClass:"scrollable-container media-list scroll-area",attrs:{settings:e.perfectScrollbarSettings,tagname:"li"}},e._l(e.S_NOTIFICATIONS,(function(t){return n("b-link",{key:t.id,attrs:{to:t.link}},[n("b-media",{scopedSlots:e._u([{key:"aside",fn:function(){return[n("b-avatar",{attrs:{size:"32",variant:"light-secondary"}},[n("feather-icon",{attrs:{icon:"InfoIcon"}})],1)]},proxy:!0}],null,!0)},[n("p",{staticClass:"media-heading"},[n("span",{staticClass:"font-weight-bolder"},[e._v(e._s(t.notification))])]),n("small",{staticClass:"notification-text"},[e._v(" "+e._s(e._f("myDateGlobal")(t.created_at))+" ")])])],1)})),1),n("li",{staticClass:"dropdown-menu-footer"},[n("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],attrs:{variant:"primary",block:""},on:{click:function(t){e.notificationModal=!0}}},[e._v("Read all notifications")])],1)],1),n("b-modal",{attrs:{"title-class":"h3 text-white",size:"lg",centered:"",title:"Notifications","hide-footer":"","modal-class":"modal-primary"},model:{value:e.notificationModal,callback:function(t){e.notificationModal=t},expression:"notificationModal"}},[n("notification-list",{on:{closeNotifications:function(t){e.notificationModal=!1}}})],1)],1)},G=[],F=n("5530"),z=n("9d63"),H=n.n(z),q=n("e009"),J=n("2f62"),K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-list-group",[e.loading?e._l(e.S_ALL_USER_NOTIFICATIONS.length,(function(e){return n("b-list-group-item",{key:e.id},[n("div",{staticClass:"d-flex w-100 justify-content-between align-items-center"},[n("b-media",{staticClass:"w-100",attrs:{"no-body":""}},[n("b-media-aside",{staticClass:"mr-2",attrs:{width:"100%"}},[n("b-skeleton",{attrs:{type:"avatar",size:"30px"}})],1),n("b-media-body",{staticClass:"my-auto"},[n("b-skeleton",{staticStyle:{"margin-top":"9px"}})],1)],1),n("small")],1)])})):e._l(e.S_ALL_USER_NOTIFICATIONS,(function(t){return n("b-list-group-item",{key:t.id,on:{click:function(n){1!=t.status&&e.updateNotification(t)}}},[n("div",{staticClass:"d-flex w-100 justify-content-between"},[n("b-media",{attrs:{"no-body":""}},[n("b-media-aside",{staticClass:"mr-2"},[n("b-avatar",{class:1==t.status?"":"cursor-pointer",attrs:{size:"30",variant:1==t.status?"light-primary":"primary"}},[n("feather-icon",{attrs:{size:"15",icon:0==t.type?"ClipboardIcon":1==t.type?"PhoneIcon":2==t.type?"DollarSignIcon":3==t.type?"FileTextIcon":"PhoneForwardedIcon"}})],1)],1),n("b-media-body",{staticClass:"my-auto",on:{click:function(t){return e.closeNotifications()}}},[n("b-link",{staticClass:"d-flex",class:["font-weight-bold mb-0 h5",0==t.status?"dark"==e.skin?"text-light":"text-dark":""],attrs:{to:t.link}},[n("p",{domProps:{innerHTML:e._s(t.notification)}}),n("feather-icon",{staticStyle:{"margin-left":"4px","margin-top":"3px"},attrs:{icon:"ExternalLinkIcon"}})],1)],1)],1),n("small",[e._v(e._s(e._f("myDateGlobal")(t.created_at)))])],1)])}))],2),n("div",{staticClass:"mx-2 mb-2 mt-2"},[n("b-row",[n("b-col",{staticClass:"d-flex align-items-center justify-content-center justify-content-sm-start",attrs:{cols:"12",sm:"6"}},[n("span",{staticClass:"text-muted"},[e._v("Showing "+e._s(e.startPage)+" to "+e._s(e.toPage)+" of "+e._s(e.totalData)+" entries")])]),n("b-col",{staticClass:"d-flex align-items-center justify-content-center justify-content-sm-end",attrs:{cols:"12",sm:"6"}},[n("b-pagination",{staticClass:"mb-0 mt-1 mt-sm-0",attrs:{"total-rows":e.totalData,"per-page":e.perPage,"first-number":"","last-number":"","prev-class":"prev-item","next-class":"next-item"},scopedSlots:e._u([{key:"prev-text",fn:function(){return[n("feather-icon",{attrs:{icon:"ChevronLeftIcon",size:"18"}})]},proxy:!0},{key:"next-text",fn:function(){return[n("feather-icon",{attrs:{icon:"ChevronRightIcon",size:"18"}})]},proxy:!0}]),model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1)],1)],1)],1)},Y=[],W=n("1da1"),X=(n("96cf"),{mounted:function(){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getAllUserNotifications();case 2:case"end":return t.stop()}}),t)})))()},data:function(){return{currentPage:1,perPage:7,totalData:0,startPage:0,toPage:0,loading:!1}},computed:Object(F["a"])(Object(F["a"])({},Object(J["c"])({currentUser:"auth/currentUser",skin:"appConfig/skin"})),Object(J["e"])({S_ALL_USER_NOTIFICATIONS:function(e){return e.NotificationStore.S_ALL_USER_NOTIFICATIONS}})),methods:Object(F["a"])(Object(F["a"])(Object(F["a"])({},Object(J["b"])({A_GET_ALL_USER_NOTIFICATIONS:"NotificationStore/A_GET_ALL_USER_NOTIFICATIONS",A_UPDATE_NOTIFICATION:"NotificationStore/A_UPDATE_NOTIFICATION"})),Object(J["d"])({DECREASE_NOTIFICATION_COUNTER:"NotificationStore/DECREASE_NOTIFICATION_COUNTER"})),{},{getAllUserNotifications:function(){var e=arguments,t=this;return Object(W["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:1,t.loading=!0,n.prev=2,n.next=5,t.A_GET_ALL_USER_NOTIFICATIONS({id:t.currentUser.user_id,page:r});case 5:a=n.sent,t.currentPage=a.current_page,t.perPage=a.per_page,t.totalData=a.total,t.startPage=a.from,t.toPage=a.to,t.loading=!1,n.next=18;break;case 14:n.prev=14,n.t0=n["catch"](2),console.log(n.t0),t.loading=!1;case 18:case"end":return n.stop()}}),n,null,[[2,14]])})))()},updateNotification:function(e){var t=this;return Object(W["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.A_UPDATE_NOTIFICATION({id:e.id});case 3:e.status=1,t.DECREASE_NOTIFICATION_COUNTER(),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},closeNotifications:function(){this.$emit("closeNotifications")}}),watch:{currentPage:function(e,t){this.getAllUserNotifications(e)}}}),Q=X,Z=(n("fa70"),Object(k["a"])(Q,K,Y,!1,null,null,null)),ee=Z.exports,te={mounted:function(){this.A_GET_NOTIFICATIONS({id:this.currentUser.user_id})},components:{VuePerfectScrollbar:H.a,NotificationList:ee},directives:{Ripple:q["a"]},computed:Object(F["a"])(Object(F["a"])({},Object(J["c"])({currentUser:"auth/currentUser",G_NOTIFICATION_COUNTER:"NotificationStore/G_NOTIFICATION_COUNTER"})),Object(J["e"])({S_NOTIFICATIONS:function(e){return e.NotificationStore.S_NOTIFICATIONS}})),data:function(){return{perfectScrollbarSettings:{maxScrollbarLength:60,wheelPropagation:!1},notificationModal:!1}},methods:Object(F["a"])(Object(F["a"])({},Object(J["b"])({A_GET_NOTIFICATIONS:"NotificationStore/A_GET_NOTIFICATIONS"})),Object(J["d"])({DECREASE_NOTIFICATION_COUNTER:"NotificationStore/DECREASE_NOTIFICATION_COUNTER"}))},ne=te,re=Object(k["a"])(ne,B,G,!1,null,null,null),ae=re.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-nav-item-dropdown",{staticClass:"dropdown-user",attrs:{right:"","toggle-class":"d-flex align-items-center dropdown-user-link"},scopedSlots:e._u([{key:"button-content",fn:function(){return[n("feather-icon",{staticClass:"text-body",attrs:{"badge-classes":"badge-important",icon:e.userStatusSession,size:"19"}})]},proxy:!0}])},[n("li",{staticClass:"dropdown-menu-header"},[n("div",{staticClass:"dropdown-header d-flex"},[n("h4",{staticClass:"notification-title mb-0 mr-auto"},[e._v("Status Session")])])]),n("b-dropdown-item",{attrs:{"link-class":"d-flex align-items-center"},on:{click:function(t){return e.changeStatusSession(1)}}},[n("feather-icon",{staticClass:"mr-50",attrs:{size:"16",icon:"UserCheckIcon"}}),n("span",[e._v("Active")])],1),n("b-dropdown-item",{attrs:{"link-class":"d-flex align-items-center"},on:{click:function(t){return e.changeStatusSession(2)}}},[n("feather-icon",{staticClass:"mr-50",attrs:{size:"16",icon:"UserPlusIcon"}}),n("span",[e._v("Busy")])],1),n("b-dropdown-item",{attrs:{"link-class":"d-flex align-items-center"},on:{click:function(t){return e.changeStatusSession(3)}}},[n("feather-icon",{staticClass:"mr-50",attrs:{size:"16",icon:"UserMinusIcon"}}),n("span",[e._v("Away")])],1),n("b-dropdown-item",{attrs:{"link-class":"d-flex align-items-center"},on:{click:function(t){return e.changeStatusSession(4)}}},[n("feather-icon",{staticClass:"mr-50",attrs:{size:"16",icon:"UserXIcon"}}),n("span",[e._v("Offline")])],1)],1)],1)},oe=[],ie=(n("d3b7"),n("25f0"),{computed:Object(F["a"])(Object(F["a"])({},Object(J["c"])({currentUser:"auth/currentUser",G_USER_STATUS_SESSION:"UserStore/G_USER_STATUS_SESSION"})),{},{userStatusSession:function(){return 1===this.G_USER_STATUS_SESSION?"UserCheckIcon":2===this.G_USER_STATUS_SESSION?"UserPlusIcon":3===this.G_USER_STATUS_SESSION?"UserMinusIcon":"UserXIcon"}}),methods:Object(F["a"])(Object(F["a"])(Object(F["a"])({},Object(J["b"])({A_CHANGE_USER_STATUS_SESSION:"UserStore/A_CHANGE_USER_STATUS_SESSION"})),Object(J["d"])({SET_USER_STATUS_SESSION:"UserStore/SET_USER_STATUS_SESSION"})),{},{changeStatusSession:function(e){if(e!==this.G_USER_STATUS_SESSION){this.SET_USER_STATUS_SESSION([{status_session:e}]);var t={id:this.currentUser.user_id,state:e.toString()};this.A_CHANGE_USER_STATUS_SESSION(t)}}})}),ce=ie,le=Object(k["a"])(ce,se,oe,!1,null,null,null),ue=le.exports,de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-nav-item-dropdown",{staticClass:"dropdown-notification mr-25",attrs:{right:"","menu-class":"dropdown-menu-media"},scopedSlots:e._u([{key:"button-content",fn:function(){return[n("feather-icon",{staticClass:"text-body",attrs:{badge:e.taskCounter,"badge-classes":"badge-important",icon:"ClipboardIcon",size:"19"}})]},proxy:!0}])},[n("li",{staticClass:"dropdown-menu-header"},[n("div",{staticClass:"dropdown-header d-flex"},[n("h4",{staticClass:"notification-title mb-0 mr-auto"},[e._v("Tasks")])])]),n("vue-perfect-scrollbar",{staticClass:"scrollable-container media-list scroll-area",attrs:{settings:e.perfectScrollbarSettings,tagname:"li"}},[e._l(e.S_TASKS,(function(t){return[n("div",{key:t.id},[n("div",{staticClass:"media d-flex align-items-center"},[n("h6",{staticClass:"font-weight-bolder mr-auto mb-0 text-capitalize"},[e._v(" "+e._s(t.type)+" ")])]),e._l(t.tasks,(function(r){return[n("b-link",{key:r.id},[n("router-link",{attrs:{to:e.resolveRoute(r)}},[n("b-media",{scopedSlots:e._u([{key:"aside",fn:function(){return[n("b-avatar",{attrs:{size:"32",variant:"light-secondary"}},[n("feather-icon",{attrs:{icon:"ClipboardIcon"}})],1)]},proxy:!0}],null,!0)},[n("p",{staticClass:"media-heading"},[n("span",{staticClass:"font-weight-bolder"},[e._v(e._s(r.subject))])]),n("div",{staticClass:"d-flex justify-content-between align-items-center"},[n("small",{staticClass:"notification-text",staticStyle:{width:"calc(100% - 115px)"}},[e._v(" "+e._s(r.client_name)+" | "+e._s(e._f("myHourTime")(r.date))+" | "+e._s(e._f("myHourTime")(r.real_time))+" ")]),n("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(113, 102, 240, 0.15)",expression:"'rgba(113, 102, 240, 0.15)'",modifiers:{400:!0}}],staticStyle:{width:"105px"},attrs:{variant:"outline-primary",size:"sm",block:""}},[e._v(" "+e._s("today"==t.type?"":r.cant)+" "+e._s(t.type)+" ")])],1)])],1)],1)]}))],2)]}))],2),n("li",{staticClass:"dropdown-menu-footer"},[n("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],attrs:{variant:"primary",block:""},on:{click:function(t){e.taskModal=!0}}},[e._v("See all tasks")])],1)],1),n("b-modal",{attrs:{size:"xmd",scrollable:"","hide-footer":"","modal-class":"modal-primary",title:"Tasks","title-class":"h2 text-white"},model:{value:e.taskModal,callback:function(t){e.taskModal=t},expression:"taskModal"}},[n("task-modal")],1)],1)},fe=[],pe=(n("99af"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-tabs",{attrs:{pills:"",lazy:"","active-nav-item-class":"bg-primary box-shadow-info"}},[n("b-tab",{attrs:{active:"","title-link-class":[e.bgTabsNavs,"px-3"]},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("OVERDUE ("+e._s(e.taskCounter.overdue)+")")]},proxy:!0}])},[n("task-list",{attrs:{type:1}})],1),n("b-tab",{attrs:{"title-link-class":[e.bgTabsNavs,"px-3"]},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("TODAY ("+e._s(e.taskCounter.today)+")")]},proxy:!0}])},[n("task-list",{attrs:{type:2}})],1),n("b-tab",{attrs:{"title-link-class":[e.bgTabsNavs,"px-3"]},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("UPCOMING ("+e._s(e.taskCounter.upcoming)+")")]},proxy:!0}])},[n("task-list-upcoming",{attrs:{type:3}})],1),n("b-tab",{attrs:{"title-link-class":[e.bgTabsNavs,"px-3"]},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("COMPLETED ("+e._s(e.taskCounter.done)+")")]},proxy:!0}])},[n("task-list",{attrs:{type:4}})],1)],1)}),me=[],be=n("1456"),he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"mb-1 mt-1",attrs:{"no-body":""}},[e.isLoading?n("div",{staticClass:"text-center text-primary my-2"},[n("b-spinner",{staticClass:"align-middle mr-1"}),n("strong",[e._v("Loading ...")])],1):e._l(e.tasksUpcoming,(function(t,r){return n("div",{key:r},[n("b-alert",{staticClass:"mb-0",attrs:{variant:"info",show:""}},[n("div",{staticClass:"alert-body"},[n("span",[n("strong",[e._v(e._s(t.day_name))]),e._v(" "+e._s(t.date)+" - ("+e._s(t.sum_day)+") ")])])]),n("div",{staticClass:"table-responsive"},[n("b-table",{ref:"refTaskGrid",refInFor:!0,staticClass:"position-relative",attrs:{"api-url":"/tasks/get-all-tasks",items:JSON.parse(t.data),fields:e.arrayColumns,"primary-key":"id","table-class":"text-nowrap",responsive:"sm",striped:"",outlined:"","show-empty":"","sticky-header":"50vh"},scopedSlots:e._u([{key:"cell(client_name)",fn:function(t){return[n("b-link",{staticClass:"text-important",attrs:{to:null==t.item.account_id?"socialnetwork"==t.item.route?"/social-network/leads/new/dashboard/"+t.item.lead_id:"/"+t.item.route+"/leads/"+t.item.lead_id:"/"+t.item.route+"/clients/account/'"+t.item.account_id,target:"_blank"}},[e._v(e._s(t.item.client_name))]),n("br"),n("span",[n("feather-icon",{attrs:{icon:"SmartphoneIcon"}}),e._v(" "+e._s(t.item.mobile)+" ")],1)]}},{key:"cell(due_date)",fn:function(t){return[e._v(" "+e._s(e._f("myGlobalDay")(t.item.due_date))+" "),n("br"),n("span",{staticStyle:{"font-weight":"bold"}},[e._v(" "+e._s(e._f("myGlobalDay")(t.item.real_time))+" ("+e._s(t.item.state_hour)+") ")])]}},{key:"cell(actions)",fn:function(t){return[n("div",{staticClass:"d-flex justify-content-between align-items-center"},[4!=e.type?n("span",[n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Done Task",expression:"'Done Task'",modifiers:{hover:!0,top:!0}}],staticClass:"button-little-size rounded-circle",attrs:{variant:"flat-success"},on:{click:function(n){return e.checkTask(t.item.id)}}},[n("feather-icon",{attrs:{icon:"CheckCircleIcon"}})],1)],1):e._e(),4!=e.type?n("span",[n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Edit Task",expression:"'Edit Task'",modifiers:{hover:!0,top:!0}}],staticClass:"button-little-size rounded-circle",attrs:{variant:"flat-warning"},on:{click:function(n){return e.openModalEditTask(t.item)}}},[n("feather-icon",{attrs:{icon:"EditIcon"}})],1)],1):e._e(),n("span",[n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"View",expression:"'View'",modifiers:{hover:!0,top:!0}}],staticClass:"button-little-size rounded-circle",attrs:{variant:"flat-info"},on:{click:function(n){return e.openModalShowTask(t.item)}}},[n("feather-icon",{attrs:{icon:"EyeIcon"}})],1)],1),4!=e.type?n("span",[n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Delete",expression:"'Delete'",modifiers:{hover:!0,top:!0}}],staticClass:"button-little-size rounded-circle",attrs:{variant:"flat-danger"},on:{click:function(n){return e.deleteTask(t.item.id)}}},[n("feather-icon",{attrs:{icon:"Trash2Icon"}})],1)],1):e._e()])]}}],null,!0)})],1)],1)}))],2),e.modalEdit?n("ModalEditTask",{attrs:{infoTask:e.infoTask},on:{hide:e.closeModalEditTask}}):e._e(),e.modalShow?n("ModalShowTask",{attrs:{infoTask:e.infoTask},on:{hide:e.closeModalShowTask}}):e._e()],1)},ve=[],ge=(n("a9e3"),n("4a7a")),_e=n.n(ge),ye=n("ebe8"),ke=n("eb5b"),Se=n("d2d2"),Ce={props:{type:{type:[Number,String],default:1},taskToday:{type:Boolean,default:!1}},directives:{Ripple:q["a"]},components:{vSelect:_e.a,ModalEditTask:ke["a"],ModalShowTask:Se["a"]},data:function(){return{isLoading:!0,arrayColumns:[{key:"client_name",label:"Client Name",sortable:!0,visible:!0},{key:"subject",label:"Subject",sortable:!0,visible:!0},{key:"due_date",label:"Date / Hour",visible:!0},{key:"actions",label:"Actions"}],modalEdit:!1,modalShow:!1,infoTask:{},tasksUpcoming:[]}},created:function(){this.getTasksUpcoming()},computed:Object(F["a"])({},Object(J["c"])({currentUser:"auth/currentUser"})),methods:Object(F["a"])(Object(F["a"])({},Object(J["b"])({A_GET_TASK_COUNTER:"TaskStore/A_GET_TASK_COUNTER"})),{},{getTasksUpcoming:function(){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,n={order:"desc",orderby:5,type:e.type,id:e.currentUser.user_id,api_url:"tasks/get-all-tasks"},t.next=4,ye["a"].getAllTask(n);case 4:r=t.sent,e.tasksUpcoming=r.data,e.isLoading=!1;case 7:case"end":return t.stop()}}),t)})))()},resetSearch:function(){this.getTasksUpcoming()},checkTask:function(e){var t=this;return Object(W["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.showConfirmSwal();case 2:if(r=n.sent,!r.value){n.next=20;break}return t.addPreloader(),n.prev=5,n.next=8,ye["a"].postCheckTask({id:e});case 8:n.sent,t.removePreloader(),t.showToast("success","top-right","Congratulation!","CheckIcon","Task has been checked successfully"),t.A_GET_TASK_COUNTER({id:t.currentUser.user_id}),t.resetSearch(),n.next=20;break;case 15:throw n.prev=15,n.t0=n["catch"](5),t.showToast("error","top-right","Oops!","XIcon","There was an error while deleting the task"),t.removePreloader(),n.t0;case 20:case"end":return n.stop()}}),n,null,[[5,15]])})))()},openModalEditTask:function(e){this.addPreloader(),this.infoTask=e,this.modalEdit=!0},closeModalEditTask:function(e){e&&(this.resetSearch(),this.A_GET_TASK_COUNTER({id:this.currentUser.user_id})),this.modalEdit=!1},openModalShowTask:function(e){this.addPreloader(),this.infoTask=e,this.modalShow=!0},closeModalShowTask:function(){this.modalShow=!1},deleteTask:function(e){var t=this;return Object(W["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.showConfirmSwal();case 2:if(r=n.sent,!r.value){n.next=20;break}return t.addPreloader(),n.prev=5,n.next=8,ye["a"].deleteTaskCredit({id:e});case 8:n.sent,t.removePreloader(),t.showToast("success","top-right","Congratulation!","CheckIcon","Task has been deleted successfully"),t.A_GET_TASK_COUNTER({id:t.currentUser.user_id}),t.resetSearch(),n.next=20;break;case 15:throw n.prev=15,n.t0=n["catch"](5),t.showToast("error","top-right","Oops!","XIcon","There was an error while deleting the task"),t.removePreloader(),n.t0;case 20:case"end":return n.stop()}}),n,null,[[5,15]])})))()}})},we=Ce,xe=(n("52e6"),Object(k["a"])(we,he,ve,!1,null,null,null)),Oe=xe.exports,Te={components:{TaskList:be["a"],TaskListUpcoming:Oe},computed:Object(F["a"])({},Object(J["e"])({taskCounter:function(e){return e.TaskStore.S_TASK_COUNTER}}))},Ne=Te,Ie=Object(k["a"])(Ne,pe,me,!1,null,null,null),je=Ie.exports,Ee={mounted:function(){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getFirstFiveUserTasks(),t.next=3,e.getTaskCounter();case 3:e.showTaskTodayModal();case 4:case"end":return t.stop()}}),t)})))()},components:{VuePerfectScrollbar:H.a,TaskModal:je},directives:{Ripple:q["a"]},computed:Object(F["a"])(Object(F["a"])({},Object(J["c"])({currentUser:"auth/currentUser",taskCounter:"TaskStore/taskCounter"})),Object(J["e"])({S_TASKS:function(e){return e.TaskStore.S_TASKS}})),data:function(){return{perfectScrollbarSettings:{maxScrollbarLength:60,wheelPropagation:!1},taskModal:!1}},methods:Object(F["a"])(Object(F["a"])(Object(F["a"])({},Object(J["b"])({A_GET_TASKS:"TaskStore/A_GET_TASKS",A_GET_TASK_COUNTER:"TaskStore/A_GET_TASK_COUNTER"})),Object(J["d"])({showTaskTodayModal:"TaskStore/M_SHOW_TASK_TODAY_MODAL"})),{},{getFirstFiveUserTasks:function(){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.A_GET_TASKS({id:e.currentUser.user_id});case 3:t.next=7;break;case 5:t.prev=5,t.t0=t["catch"](0);case 7:case"end":return t.stop()}}),t,null,[[0,5]])})))()},getTaskCounter:function(){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.A_GET_TASK_COUNTER({id:e.currentUser.user_id},!0);case 3:t.next=7;break;case 5:t.prev=5,t.t0=t["catch"](0);case 7:case"end":return t.stop()}}),t,null,[[0,5]])})))()},resolveRoute:function(e){return e.lead_id?"socialnetwork"==e.module?"/social-network/leads/new/dashboard/".concat(e.lead_id):"/".concat(e.module,"/leads/show/").concat(e.lead_id):"/".concat(e.module,"/clients/account/").concat(e.account_id)}})},Ue=Ee,Ae=Object(k["a"])(Ue,de,fe,!1,null,null,null),Me=Ae.exports,Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-nav-item-dropdown",{staticClass:"dropdown-user",attrs:{right:"","toggle-class":"d-flex align-items-center dropdown-user-link"},scopedSlots:e._u([{key:"button-content",fn:function(){return[n("div",{staticClass:"d-sm-flex d-none user-nav"},[n("p",{staticClass:"user-name font-weight-bolder mb-0"},[e._v(e._s(e.currentUser.fullName||e.currentUser.username))]),n("span",{staticClass:"user-status"},[e._v(e._s(e.currentUser.role_name?e.currentUser.role_name:e.currentUser.roleName)+" "+e._s(e.isCeo||e.isSupervisor?"":e.currentUser.level_name||""))])]),n("b-avatar",{staticClass:"badge-minimal",attrs:{size:"40",src:e.currentUser.avatar,variant:"light-primary",badge:"","badge-variant":e.statusSession}},[e.currentUser.fullName?e._e():n("feather-icon",{attrs:{icon:"UserIcon",size:"19"}})],1)]},proxy:!0}])},[n("b-dropdown-item",{attrs:{to:{name:"users-my-profile"},"link-class":"d-flex align-items-center"}},[n("feather-icon",{staticClass:"mr-50",attrs:{size:"16",icon:"UserIcon"}}),n("span",[e._v("My Profile")])],1),n("b-dropdown-item",{attrs:{"link-class":"d-flex align-items-center",to:{name:"amg-messages"}}},[n("messages",{staticClass:"mr-50"}),n("span",[e._v("Messages")])],1),n("b-dropdown-item",{attrs:{"link-class":"d-flex align-items-center"},on:{click:function(t){return e.$refs.stickyNotes.openStickyNotes()}}},[n("sticky-notes",{ref:"stickyNotes",staticClass:"mr-50"}),n("span",[e._v("Sticky Notes")])],1),n("b-dropdown-item",{attrs:{"link-class":"d-flex align-items-center"},on:{click:function(t){return e.$refs.payStub.openPayStubModal()}}},[n("pay-stub",{ref:"payStub",staticClass:"mr-50"}),n("span",[e._v("Pay Stub")])],1),n("b-dropdown-item",{attrs:{"link-class":"d-flex align-items-center"},on:{click:function(t){return e.$refs.messenger.redirectToMessenger()}}},[n("messenger",{ref:"messenger",staticClass:"mr-50"}),n("span",[e._v("Messenger")])],1),n("b-dropdown-item",{attrs:{"link-class":"d-flex align-items-center"},on:{click:function(t){return e.$refs.schedules.openModalReport()}}},[n("schedules-report",{ref:"schedules",staticClass:"mr-50"}),n("span",[e._v("Schedule R.")])],1),n("b-dropdown-item",{attrs:{"link-class":"d-flex align-items-center"},on:{click:e.logout}},[n("feather-icon",{staticClass:"mr-50",attrs:{size:"16",icon:"LogOutIcon"}}),n("span",[e._v("Exit")])],1)],1)},De=[],Pe=n("ff93"),Ve=n("7100"),$e=n("0e20"),Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("feather-icon",{attrs:{icon:"EditIcon",size:"19"}}),n("b-tooltip",{attrs:{triggers:"hover",target:"bookmark-sticky-notes",title:"Sticky Notes",delay:{show:1e3,hide:50}}}),n("b-modal",{attrs:{title:"My Notes",size:"xl","hide-footer":""},model:{value:e.stickyNotesController,callback:function(t){e.stickyNotesController=t},expression:"stickyNotesController"}},[n("div",{staticClass:"email-application"},[n("b-row",[n("b-col",{staticClass:"mt-2",attrs:{cols:"12"}},[n("sticky-notes-header")],1),n("b-col",{staticClass:"mt-5 mb-4",attrs:{cols:"12"}},[n("sticky-notes-body")],1)],1)],1)])],1)},Be=[],Ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex justify-content-between mx-2"},[n("div",{staticClass:"form-group-compose text-center compose-btn"},[n("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],attrs:{variant:"primary",block:""},on:{click:function(t){e.openNewNoteModal=!e.openNewNoteModal}}},[n("feather-icon",{staticClass:"mr-50",attrs:{icon:"PlusIcon"}}),n("span",{staticClass:"align-middle"},[e._v("New Note")])],1)],1),n("b-form-radio-group",{staticClass:"ml-1 list item-view-radio-group",attrs:{buttons:"",size:"sm","button-variant":"outline-primary"},model:{value:e.view,callback:function(t){e.view=t},expression:"view"}},e._l(e.itemViewOptions,(function(e){return n("b-form-radio",{key:e.value,attrs:{value:e.value}},[n("feather-icon",{attrs:{icon:e.icon,size:"18"}})],1)})),1),n("sticky-notes-compose",{model:{value:e.openNewNoteModal,callback:function(t){e.openNewNoteModal=t},expression:"openNewNoteModal"}})],1)},Fe=[],ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-modal",{attrs:{id:"compose-mail",visible:e.shallShowEmailComposeModal,title:"Compose Email","modal-class":"modal-sticky","footer-class":"d-flex justify-content-between","body-class":"p-0",size:"lg","no-fade":"","no-close-on-backdrop":"","hide-backdrop":"",static:""},scopedSlots:e._u([{key:"modal-header",fn:function(){return[n("h5",{staticClass:"modal-title text-white"},[e._v(" "+e._s(e.note?"Update note":"New note")+" ")]),n("div",{staticClass:"modal-actions"},[n("feather-icon",{staticClass:"ml-1 cursor-pointer text-white",attrs:{icon:"XIcon"},on:{click:e.discardEmail}})],1)]},proxy:!0},{key:"modal-footer",fn:function(){return[n("div",[n("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}},{name:"loading",rawName:"v-loading.full",value:e.isLoading,expression:"isLoading",modifiers:{full:!0}}],attrs:{variant:"primary"},on:{click:function(t){return e.saveUserNote()}}},[e._v(" Save ")])],1),n("div",[e._v(e._s(e._f("myGlobal")(e.moment())))])]},proxy:!0}])},[n("div",[n("validation-observer",{ref:"form"},[n("b-form",[n("div",{staticClass:"compose-mail-form-field"},[n("label",{attrs:{for:"email-subject"}},[e._v("Category:")]),n("div",{staticClass:"\n              form-control\n              d-flex\n              justify-content-start\n              align-items-center\n            "},e._l(e.colors,(function(t){return n("span",{key:t.id,staticClass:"mr-1"},[n("div",{staticClass:"border-category",style:"\n                  border: 2px "+(e.noteData.colorId==t.id?t.category:"transparent")+" solid;",on:{click:function(n){e.noteData.colorId=t.id}}},[n("div",{staticClass:"color-category",style:"background: "+t.category+";"})])])})),0)]),n("validation-provider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,a=t.valid;return[n("div",{staticClass:"compose-mail-form-field"},[n("label",{attrs:{for:"email-subject"}},[e._v("Title:")]),n("b-form-input",{attrs:{id:"email-subject",state:!r[0]&&(!!a||null)},model:{value:e.noteData.title,callback:function(t){e.$set(e.noteData,"title",t)},expression:"noteData.title"}})],1),r[0]?n("span",{staticClass:"ml-2 text-danger",staticStyle:{"font-size":"13px"}},[e._v(" Title "+e._s(r[0])+" ")]):e._e()]}}])}),n("div",{staticClass:"message-editor"},[n("validation-provider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[n("div",{staticStyle:{height:"250px",overflow:"auto"}},[n("quill-editor",{ref:"quillEditor",staticStyle:{overflow:"auto"},attrs:{id:"quil-content",options:e.editorOption},model:{value:e.noteData.note,callback:function(t){e.$set(e.noteData,"note",t)},expression:"noteData.note"}})],1),r[0]?n("span",{staticClass:"ml-2 text-danger",staticStyle:{"font-size":"13px"}},[e._v("Note "+e._s(r[0]))]):e._e()]}}])}),n("div",{staticClass:"d-flex border-bottom-0",attrs:{id:e.toolbarId}},[n("button",{staticClass:"ql-bold"}),n("button",{staticClass:"ql-italic"}),n("button",{staticClass:"ql-underline"}),n("button",{staticClass:"ql-align"}),n("button",{staticClass:"ql-link"})])],1)],1)],1)],1)])},He=[],qe=(n("7db0"),n("953d")),Je=n("c1df"),Ke=n.n(Je),Ye=n("2c19"),We={created:function(){this.note?this.toolbarId="quill-toolbar-view":this.toolbarId="quill-toolbar-create",this.editorOption.modules.toolbar="#"+this.toolbarId},mounted:function(){this.getColorNotes()},directives:{Ripple:q["a"]},components:{quillEditor:qe["quillEditor"],vSelect:_e.a,StickyNotesService:Ye["a"],VuePerfectScrollbar:H.a},model:{prop:"shallShowEmailComposeModal",event:"update:shall-show-email-compose-modal"},props:{shallShowEmailComposeModal:{type:Boolean,required:!0},note:{type:Object,required:!1}},computed:Object(F["a"])({},Object(J["c"])({currentUser:"auth/currentUser"})),data:function(){return{editorOption:{modules:{toolbar:"#quill-toolbar-1"},placeholder:"Note"},toolbarId:"quill-toolbar",noteData:{title:null,note:null,userId:null,noteId:null,colorId:null},colors:[],isLoading:!1,isLoadingFull:!1}},methods:Object(F["a"])(Object(F["a"])({},Object(J["b"])({setNotes:"sticky-notes/setNotes",getNotes:"sticky-notes/getNotes"})),{},{discardEmail:function(){this.$emit("update:shall-show-email-compose-modal",!1)},moment:function(){return Ke()()},getColorNotes:function(){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ye["a"].getColorNotes();case 2:n=t.sent,e.colors=n,e.colors[0]&&(e.noteData.colorId=e.colors[0].id);case 5:case"end":return t.stop()}}),t)})))()},saveUserNote:function(){var e=this;this.$refs.form.validate().then(function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:return e.isLoading=!0,e.noteData.userId=e.currentUser.user_id,t.next=6,Ye["a"].saveUserNote(e.noteData);case 6:r=t.sent,e.noteData.noteId=r.id,e.getNotes(e.currentUser.user_id),e.showToast("success","top-right","Congratulations","CheckIcon","You've successfully ".concat(e.note?"updated":"created"," a note")),e.$emit("update:shall-show-email-compose-modal",!1),e.resetData(),e.isLoading=!1;case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},resetData:function(){this.noteData={title:null,note:null,userId:null,noteId:null,colorId:null}}}),watch:{note:function(e){this.noteData.title=e.subject,this.noteData.note=JSON.parse(e.content),this.noteData.noteId=e.id,this.noteData.colorId=this.colors.find((function(t){return t.category==e.category})).id}}},Xe=We,Qe=(n("d866"),n("75e1"),Object(k["a"])(Xe,ze,He,!1,null,"3ed2ff14",null)),Ze=Qe.exports,et={directives:{Ripple:q["a"]},components:{StickyNotesCompose:Ze},computed:{view:{get:function(){return this.$store.getters["sticky-notes/view"]},set:function(e){this.setView(e)}}},data:function(){return{itemViewOptions:[{icon:"GridIcon",value:"grid-view"},{icon:"ListIcon",value:"list-view"}],openNewNoteModal:!1}},methods:Object(F["a"])({},Object(J["d"])({setView:"sticky-notes/SET_VIEW"}))},tt=et,nt=Object(k["a"])(tt,Ge,Fe,!1,null,null,null),rt=nt.exports,at=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["grid-view"==e.view?n("b-row",[e._l(e.notes,(function(t){return[n("b-col",{key:t.id,staticClass:"mt-1",attrs:{cols:"6",lg:"2",md:"3",sm:"4"}},[n("sticky-notes-card",{attrs:{note:t},on:{onCardClicked:e.onCardClicked}})],1)]}))],2):n("b-row",[n("b-col",[n("sticky-notes-grid")],1)],1),n("sticky-notes-compose",{attrs:{note:e.note},model:{value:e.openViewNote,callback:function(t){e.openViewNote=t},expression:"openViewNote"}})],1)},st=[],ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex flex-column align-items-center item-sticky-card"},[n("span",{staticClass:"cursor-pointer",on:{click:function(t){return e.$emit("onCardClicked",e.note)}}},[n("feather-icon",{style:"color: "+e.note.category+";",attrs:{icon:"FileIcon",size:"45"}})],1),n("span",{staticClass:"mt-1 text-center",staticStyle:{width:"100%","max-width":"130px","text-align":"center"}},[e._v(" "+e._s(e.note.subject)+" ")]),n("span",{staticClass:"text-center text-muted",staticStyle:{width:"100%","max-width":"130px","text-align":"center"}},[e._v(" "+e._s(e._f("myDateGlobal")(e.note.created_at))+" ")])])},it=[],ct={props:{note:{type:Object,required:!0}}},lt=ct,ut=(n("a487"),Object(k["a"])(lt,ot,it,!1,null,null,null)),dt=ut.exports,ft=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-card",{attrs:{"no-body":""}},[n("div",[n("b-row",[n("b-col",{staticClass:"d-flex align-items-center justify-content-start mb-1 mb-md-0",attrs:{cols:"12",md:"6"}}),n("b-col",{attrs:{cols:"12",md:"6"}},[n("div",{staticClass:"d-flex align-items-center justify-content-end"},[n("b-form-input",{staticClass:"d-inline-block mr-1",attrs:{placeholder:"Note..."},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}),n("b-button",{attrs:{variant:"danger",disabled:e.selectedCards.length<=0},on:{click:e.deleteNote}},[n("div",{staticClass:"d-flex justify-content-between"},[n("span",{staticClass:"mr-50"},[n("feather-icon",{attrs:{icon:"TrashIcon",size:"15"}})],1),n("span",{staticClass:"text-nowrap"},[e._v("Delete all")])])])],1)])],1)],1),n("div",{staticClass:"mt-1",staticStyle:{height:"500px"}},[n("b-table",{ref:"refClientsList",staticClass:"position-relative",attrs:{items:e.notes,fields:e.arrayColumns,"primary-key":"id","table-class":"text-nowrap",responsive:"","show-empty":"","sticky-header":"74vh",busy:e.isBusy,"sort-by":e.sortBy,"sort-desc":e.sortDesc,filter:e.searchInput},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"table-busy",fn:function(){return[n("div",{staticClass:"text-center text-primary my-2"},[n("b-spinner",{staticClass:"align-middle mr-1"}),n("strong",[e._v("Loading ...")])],1)]},proxy:!0},{key:"head(checkboxes)",fn:function(){return[n("b-form-checkbox",{model:{value:e.selectAllCheckboxes,callback:function(t){e.selectAllCheckboxes=t},expression:"selectAllCheckboxes"}})]},proxy:!0},{key:"cell(cards)",fn:function(e){return[n("span",{staticClass:"cursor-pointer"},[n("feather-icon",{style:"color: "+e.item.category+"; fill: "+e.item.category+";",attrs:{icon:"FileIcon",size:"25"}})],1)]}},{key:"cell(subject)",fn:function(t){return[n("b-link",{on:{click:function(n){return e.onSelectNote(t.item)}}},[e._v(e._s(t.item.subject))])]}},{key:"cell(created_at)",fn:function(t){return[e._v(e._s(e._f("myGlobalWithHour")(t.item.created_at)))]}},{key:"cell(updated_at)",fn:function(t){return[e._v(e._s(e._f("myGlobalWithHour")(t.item.updated_at)))]}},{key:"cell(checkboxes)",fn:function(t){return[n("b-form-checkbox",{on:{input:function(n){return e.onSelectNoteCheckbox(t.item)}},model:{value:t.item.isSelected,callback:function(n){e.$set(t.item,"isSelected",n)},expression:"data.item.isSelected"}})]}}])})],1)]),n("sticky-notes-compose",{attrs:{note:e.note},model:{value:e.openViewNote,callback:function(t){e.openViewNote=t},expression:"openViewNote"}})],1)},pt=[],mt=(n("c740"),n("a434"),n("d81d"),n("159b"),n("c4e2")),bt=n("adbc"),ht={mounted:function(){this.notes?this.notesFiltered=this.notes:this.getNotes(this.currentUser.user_id)},directives:{Ripple:q["a"]},data:function(){return{sortBy:"created_at",sortDesc:!0,arrayColumns:[{key:"cards",label:"",sortable:!0},{key:"subject",label:"Title",sortable:!0},{key:"created_at",label:"Created",sortable:!0},{key:"updated_at",label:"Updated",sortable:!0},{key:"checkboxes",label:"",sortable:!0}],searchInput:"",orderby:"",order:"",startPage:"",endPage:"",totalData:"",perPage:10,nextPage:"",currentPage:1,toPage:"",isBusy:!1,note:{},notesFiltered:this.notes,openViewNote:!1,selectedCards:[],selectAllCheckboxes:!1}},components:{vSelect:_e.a,AppCollapse:mt["a"],AppCollapseItem:bt["a"],StickyNotesCompose:Ze},computed:Object(F["a"])({},Object(J["c"])({currentUser:"auth/currentUser",notes:"sticky-notes/notes"})),methods:Object(F["a"])(Object(F["a"])({},Object(J["b"])({getNotes:"sticky-notes/getNotes"})),{},{resetSearch:function(){this.searchInput="",this.$refs.refClientsList.refresh()},onSelectNote:function(e){this.note=e,this.openViewNote=!0},onSelectNoteCheckbox:function(e){if(e.isSelected)this.selectedCards.push({id:e.id});else{var t=this.selectedCards.findIndex((function(t){return t.id===e.id}));-1!==t&&this.selectedCards.splice(t,1)}},onFiltered:function(e){this.notesFiltered=e},deleteNote:function(){var e=this;this.$swal({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonText:"Confirm",cancelButtonText:"Cancel",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ml-1"},buttonsStyling:!1}).then(function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n.value){t.next=5;break}return t.next=3,Ye["a"].deleteUserNote(e.selectedCards,e.currentUser.user_id);case 3:e.getNotes(e.currentUser.user_id),e.showToast("success","top-right","Congratulations","CheckIcon","You've successfully deleted the notes");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}),watch:{selectAllCheckboxes:function(e){e?(this.selectedCards=this.notesFiltered.map((function(e){return{id:e.id}})),this.notes.forEach((function(e){e.isSelected=!0}))):(this.selectedCards=[],this.notes.forEach((function(e){e.isSelected=!1})))},notes:function(e){this.notesFiltered=e}}},vt=ht,gt=(n("772f"),n("a3cb"),Object(k["a"])(vt,ft,pt,!1,null,"275b9c68",null)),_t=gt.exports,yt={mounted:function(){this.getUserNotes()},components:{StickyNotesCard:dt,StickyNotesCompose:Ze,StickyNotesGrid:_t},computed:Object(F["a"])({},Object(J["c"])({currentUser:"auth/currentUser",notes:"sticky-notes/notes",view:"sticky-notes/view"})),data:function(){return{openViewNote:!1,note:{}}},methods:Object(F["a"])(Object(F["a"])({},Object(J["b"])({setNotes:"sticky-notes/setNotes",getNotes:"sticky-notes/getNotes"})),{},{getUserNotes:function(){this.getNotes(this.currentUser.user_id)},onCardClicked:function(e){this.note=e,this.openViewNote=!0}})},kt=yt,St=Object(k["a"])(kt,at,st,!1,null,null,null),Ct=St.exports,wt={components:{StickyNotesHeader:rt,StickyNotesBody:Ct},data:function(){return{stickyNotesController:!1}},methods:{openStickyNotes:function(){this.stickyNotesController=!0}}},xt=wt,Ot=(n("c7b7"),Object(k["a"])(xt,Le,Be,!1,null,null,null)),Tt=Ot.exports,Nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-nav-item",[n("feather-icon",{attrs:{icon:"CalendarIcon",size:"19"}}),n("b-tooltip",{attrs:{triggers:"hover",target:"bookmark-appointment",title:"Appointment",delay:{show:1e3,hide:50}}})],1)},It=[],jt={},Et=jt,Ut=Object(k["a"])(Et,Nt,It,!1,null,null,null),At=Ut.exports,Mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("feather-icon",{attrs:{icon:"SendIcon",badge:(e.S_MESSAGES_COUNTER_NOTIFICATION||e.messageCounter)>99?"+99":e.S_MESSAGES_COUNTER_NOTIFICATION||e.messageCounter,"badge-classes":"bg-danger",size:"19"}})},Rt=[],Dt={mounted:function(){this.A_GET_MESSAGES_COUNTER_NOTIFICATION({id:this.currentUser.user_id})},computed:Object(F["a"])(Object(F["a"])(Object(F["a"])({},Object(J["e"])({S_USER_CONTACTS:function(e){return e.MessageStore.S_USER_CONTACTS},S_MESSAGES_COUNTER_NOTIFICATION:function(e){return e.MessageStore.S_MESSAGES_COUNTER_NOTIFICATION}})),Object(J["c"])({currentUser:"auth/currentUser"})),{},{messageCounter:function(){return this.S_USER_CONTACTS.reduce((function(e,t){return e+Number(t.cm)}),0)}}),methods:Object(F["a"])({},Object(J["b"])({A_GET_MESSAGES_COUNTER_NOTIFICATION:"MessageStore/A_GET_MESSAGES_COUNTER_NOTIFICATION"}))},Pt=Dt,Vt=Object(k["a"])(Pt,Mt,Rt,!1,null,null,null),$t=Vt.exports,Lt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("amg-icon",{attrs:{icon:"MessengerIcon",size:"19"}})},Bt=[],Gt={computed:Object(F["a"])({},Object(J["c"])({currentUser:"auth/currentUser"})),methods:{redirectToMessenger:function(){window.open("".concat("http://vuechat.test","/api/autologin?user_id=").concat(this.currentUser.id_enc,"&api_key=key_cur_prod_fnPqT5xQEi5Vcb9wKwbCf65c3BjVGyBB"),"_blank")}}},Ft=Gt,zt=Object(k["a"])(Ft,Lt,Bt,!1,null,null,null),Ht=zt.exports,qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("tabler-icon",{attrs:{icon:"CurrencyDollarIcon",size:"21",badge:e.payStubCounter,"badge-classes":"bg-danger"}}),n("b-tooltip",{attrs:{triggers:"hover",target:"bookmark-pay-stub",title:"Pay Stub",delay:{show:1e3,hide:50}}}),n("b-modal",{attrs:{title:"Pay Stub",size:"lg","title-class":"h3 text-white","hide-footer":"","modal-class":"modal-primary",id:"modalPayStup"},model:{value:e.payStubModalController,callback:function(t){e.payStubModalController=t},expression:"payStubModalController"}},[n("pay-stub-grid",{on:{updatePayStubCounter:function(t){return e.getPayStubCounter()}}})],1)],1)},Jt=[],Kt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"mx-2 mb-2 mt-2"},[n("b-row",[n("b-col",{staticClass:"\n          d-flex\n          align-items-center\n          justify-content-center justify-content-sm-start\n        ",attrs:{cols:"12",md:"6"}},[n("b-pagination",{staticClass:"mb-0 mt-1 mt-sm-0",attrs:{"total-rows":e.totalRows,"per-page":e.perPage,"first-number":"","last-number":"","prev-class":"prev-item","next-class":"next-item"},scopedSlots:e._u([{key:"prev-text",fn:function(){return[n("feather-icon",{attrs:{icon:"ChevronLeftIcon",size:"18"}})]},proxy:!0},{key:"next-text",fn:function(){return[n("feather-icon",{attrs:{icon:"ChevronRightIcon",size:"18"}})]},proxy:!0}]),model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),n("b-col",{staticClass:"my-1",attrs:{cols:"12",md:"6"}},[n("b-form-group",{staticClass:"mb-0",attrs:{"label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right"}},[n("b-input-group",[n("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Type to Search"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),n("b-input-group-append",[n("b-button",{attrs:{disabled:!e.filter},on:{click:function(t){e.filter=""}}},[e._v("Clear")])],1)],1)],1)],1)],1)],1),n("b-table",{attrs:{items:e.items,fields:e.fields,"current-page":e.currentPage,"per-page":e.perPage,filter:e.filter,"filter-included-fields":e.filterOn,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection,stacked:"md",busy:e.isBusy,"show-empty":"",small:""},on:{"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t},filtered:e.onFiltered},scopedSlots:e._u([{key:"table-busy",fn:function(){return[n("div",{staticClass:"text-center text-primary my-2"},[n("b-spinner",{staticClass:"align-middle mr-1"}),n("strong",[e._v("Loading ...")])],1)]},proxy:!0},{key:"cell(start_date)",fn:function(t){return[e._v(e._s(e._f("myGlobal")(t.item.start_date)))]}},{key:"cell(end_date)",fn:function(t){return[e._v(e._s(e._f("myGlobal")(t.item.end_date)))]}},{key:"cell(name)",fn:function(t){return[n("a",{attrs:{target:"_blank",href:t.item.url},on:{click:function(n){return e.readFile(t.item.id,t.item.statusView)}}},[e._v(e._s(t.item.name))])]}},{key:"cell(created_by)",fn:function(t){return[e._v(" "+e._s(t.item.created_by)+" "+e._s(e._f("myGlobalWithHour")(t.item.created_at))+" ")]}}])}),n("b-modal",{attrs:{id:e.infoModal.id,title:e.infoModal.title,"ok-only":""},on:{hide:e.resetInfoModal}},[n("pre",[e._v(e._s(e.infoModal.content))])])],1)},Yt=[],Wt=(n("4de4"),n("d4ec")),Xt=n("bee2"),Qt=n("2777"),Zt=function(){function e(){Object(Wt["a"])(this,e)}return Object(Xt["a"])(e,[{key:"getUserPayStub",value:function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Qt["a"].post("/management/pay-roll/get-file-pay-stub-by-userId",{id_user:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"readFile",value:function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Qt["a"].post("/management/pay-roll/read-file-pay-stub",{id_file:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getPayStubCounter",value:function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Qt["a"].post("/management/pay-roll/get-pay-stub-counter",{id:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),en=new Zt,tn={data:function(){return{items:[],fields:[{key:"start_date",label:"Start Date",sortable:!0,sortDirection:"desc"},{key:"end_date",label:"End Date",sortable:!0,class:"text-center"},{key:"name",label:"File ",sortable:!0},{key:"created_by",label:"Created By"}],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15,{value:100,text:"Show a lot"}],sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],infoModal:{id:"info-modal",title:"",content:""},money:{decimal:",",thousands:".",prefix:"S/ ",precision:2,masked:!1},text:null,isBusy:!1}},mounted:function(){this.getUserPayRolls()},computed:Object(F["a"])({sortOptions:function(){return this.fields.filter((function(e){return e.sortable})).map((function(e){return{text:e.label,value:e.key}}))}},Object(J["c"])({currentUser:"auth/currentUser"})),methods:{readFile:function(e,t){var n=this;return Object(W["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(1!=t){r.next=6;break}return r.next=3,en.readFile(e,t);case 3:r.sent,n.getUserPayRolls(),n.$emit("updatePayStubCounter");case 6:case"end":return r.stop()}}),r)})))()},getUserPayRolls:function(){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isBusy=!0,n=e.currentUser.user_id,t.next=4,en.getUserPayStub(n);case 4:r=t.sent,console.log(r,"data"),e.items=r,e.totalRows=e.items.length,e.isBusy=!1;case 9:case"end":return t.stop()}}),t)})))()},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},onFiltered:function(e){this.totalRows=e.length,this.currentPage=1}}},nn=tn,rn=Object(k["a"])(nn,Kt,Yt,!1,null,null,null),an=rn.exports,sn={mounted:function(){this.getPayStubCounter()},data:function(){return{payStubModalController:!1,payStubCounter:0}},components:{PayStubGrid:an},computed:{currentUser:function(){return this.$store.getters["auth/currentUser"]}},methods:{openPayStubModal:function(){this.payStubModalController=!0},getPayStubCounter:function(){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,en.getPayStubCounter(e.currentUser.user_id);case 2:n=t.sent,e.payStubCounter=n[0].cant;case 4:case"end":return t.stop()}}),t)})))()}}},on=sn,cn=(n("19c5"),Object(k["a"])(on,qt,Jt,!1,null,null,null)),ln=cn.exports,un=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("feather-icon",{attrs:{icon:"ClockIcon",size:"19"}}),n("b-tooltip",{attrs:{triggers:"hover",target:"bookmark-pay-stub",title:"REPORT OF ATTENDANCE",delay:{show:1e3,hide:50}}}),n("b-modal",{attrs:{title:"REPORT OF ATTENDANCE",size:"xl","title-class":"h3 text-white","hide-footer":"","modal-class":"modal-primary",id:"modal-report-of-attendance"},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[n("content-report")],1)],1)},dn=[],fn=(n("b0c0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-row",{staticClass:"my-2"},[n("b-col",{staticClass:"\n        d-flex\n        align-items-center\n        justify-content-center justify-content-sm-start\n      ",attrs:{sm:"12",md:"12",xl:"6"}},[n("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-backdrop",modifiers:{"sidebar-backdrop":!0}}],staticClass:"mr-1",attrs:{variant:"primary"},on:{click:function(t){return e.getMoreInfo()}}},[n("feather-icon",{staticClass:"mr-50 text-center cursor-pointer",attrs:{icon:"InfoIcon"}}),e._v("MORE INFO ")],1)],1),n("b-col",{staticClass:"d-flex align-items-center justify-content-end align-items-center",attrs:{sm:"12",md:"12",xl:"2"}},[n("b-form-group",{staticStyle:{width:"100%"},attrs:{label:"From","label-for":"from"}},[n("b-form-datepicker",{attrs:{id:"from","date-format-options":{year:"numeric",month:"numeric",day:"numeric"}},model:{value:e.filter.from,callback:function(t){e.$set(e.filter,"from",t)},expression:"filter.from"}})],1)],1),n("b-col",{staticClass:"d-flex align-items-center justify-content-end align-items-center",attrs:{sm:"12",md:"12",xl:"2"}},[n("b-form-group",{staticStyle:{width:"100%"},attrs:{label:"To","label-for":"to"}},[n("b-form-datepicker",{attrs:{id:"to","date-format-options":{year:"numeric",month:"numeric",day:"numeric"}},model:{value:e.filter.to,callback:function(t){e.$set(e.filter,"to",t)},expression:"filter.to"}})],1)],1),n("b-col",{staticClass:"d-flex align-items-center justify-content-end align-items-center",attrs:{sm:"12",md:"12",xl:"2"}},[n("b-form-group",{staticStyle:{width:"100%"},attrs:{label:"Module","label-for":"modul"}},[n("b-form-select",{attrs:{id:"modul",options:e.moduls},model:{value:e.filter.modulId,callback:function(t){e.$set(e.filter,"modulId",t)},expression:"filter.modulId"}})],1)],1),n("b-col",{attrs:{cols:"12"}},[n("b-table-simple",{ref:"table_report_modul",staticClass:"table-report-schedules",attrs:{bordered:"",small:"","caption-top":"",responsive:""}},[n("b-thead",[n("b-tr",e._l(e.fields,(function(t,r){return n("b-th",{key:r,staticClass:"text-center item-header"},[e._v(e._s(t.label))])})),1)],1),n("b-tbody",e._l(e.items,(function(t,r){return n("b-tr",{key:r,staticClass:"text-center"},e._l(t.json_data,(function(r,a){return n("b-td",{key:a},[n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],class:[e.bgSchedule(r),"item-hour",e.isDarkTheme?"item-hour-dark":"item-hour-light",r.date==e.today?"bg-hour-today":""],attrs:{title:e.titleSchedule(r,1)},on:{click:function(n){return e.openDetails(t,r,r.checking_m,1)}}},[e._v(" "+e._s(r.checking_m)+" ")]),n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],class:["bg-default item-hour",e.isDarkTheme?"item-hour-dark":"item-hour-light",r.date==e.today?"bg-hour-today ":""],attrs:{title:e.titleSchedule(r,2)},on:{click:function(n){return e.openDetails(t,r,r.m_begining_break,2)}}},[e._v(" "+e._s(r.m_begining_break)+" ")]),n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],class:["bg-default item-hour",e.isDarkTheme?"item-hour-dark":"item-hour-light",r.date==e.today?"bg-hour-today ":""],attrs:{title:e.titleSchedule(r,3)},on:{click:function(n){return e.openDetails(t,r,r.m_finish_break,3)}}},[e._v(" "+e._s(r.m_finish_break)+" ")]),n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],class:["bg-default item-hour",e.isDarkTheme?"item-hour-dark":"item-hour-light",r.date==e.today?"bg-hour-today ":""],attrs:{title:e.titleSchedule(r,4)},on:{click:function(n){return e.openDetails(t,r,r.m_checkout,4)}}},[e._v(" "+e._s(r.m_checkout)+" ")]),n("div",{class:["item-count-hours",e.isDarkTheme?"text-light":"",r.date==e.today?"bg-count-hours-today":"bg-hours"]},[e._v(" HOURS: "+e._s(r.total_hours)+" ")])])})),1)})),1)],1)],1)],1),n("b-modal",{attrs:{title:e.titleModal,size:"lg","body-class":"p-0","title-class":"title-assitence-schedule","hide-footer":""},model:{value:e.modalDetails,callback:function(t){e.modalDetails=t},expression:"modalDetails"}},[n("b-container",{staticClass:"p-4",attrs:{fluid:""}},[n("div",{staticClass:"text-center"},[n("b-img",{staticClass:"image-captured",attrs:{src:e.detailsSchedule.image,fluid:"",alt:"Responsive image"}})],1),n("b-row",{staticClass:"py-2"},[n("b-col",{attrs:{cols:"auto"}},[n("feather-icon",{staticClass:"mr-50 text-center",attrs:{icon:"CheckCircleIcon"}}),e._v(" ASSIGNED: "+e._s(e.detailsSchedule.assigned)+" ")],1),n("b-col",{attrs:{cols:"auto"}},[n("feather-icon",{staticClass:"mr-50 text-center",attrs:{icon:"CheckCircleIcon"}}),e._v(" ASSISTANCE: "+e._s(e.detailsSchedule.assistance)+" ")],1),n("b-col",{attrs:{cols:"auto"}},[n("feather-icon",{staticClass:"mr-50 text-center",attrs:{icon:"CheckCircleIcon"}}),e._v(" IP ADDRESS: "+e._s(e.detailsSchedule.ip)+" ")],1)],1)],1)],1),n("b-sidebar",{attrs:{id:"sidebar-backdrop",title:"More info","bg-variant":"white","sidebar-class":"sidebar-lg-schedule sidebar-schedules","header-class":"pt-1",backdrop:"",shadow:""}},[n("div",{staticClass:"px-3 py-2"},[n("content-more-info-report",{key:e.keyMoreInfo,attrs:{data:e.dataSchedule}})],1)])],1)}),pn=[],mn=function(){function e(){Object(Wt["a"])(this,e)}return Object(Xt["a"])(e,[{key:"currentTime",value:function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Qt["a"].get("/schedules/current-time");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"geTimeToDial",value:function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={user_id:t.user_id,modul_id:t.modul_id},e.next=3,Qt["a"].post("/schedules/get-time-to-dial",n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sendAssistance",value:function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Qt["a"].post("/schedules/send-assistance",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sendJustifyLate",value:function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Qt["a"].post("/schedules/send-justify-late",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getHourReport",value:function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Qt["a"].post("/schedules/get-hour-report-user",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getDetailsSchedule",value:function(){var e=Object(W["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Qt["a"].post("/schedules/get-details-schedule",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),bn=new mn,hn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",[n("b-row",[n("b-table-simple",{attrs:{small:"","caption-top":"",responsive:"",bordered:""}},[n("b-thead",[n("b-tr",[n("b-th",[e._v("User")]),n("b-th"),n("b-th"),n("b-th")],1)],1),n("b-tbody",e._l(e.items,(function(t,r){return n("b-tr",{key:r},[n("b-td",[e._v(e._s(t.user_name))]),n("b-td",[n("div",{staticClass:"bg-default p-s text-left r-c"},[e._v(" HOURS: "+e._s(t.hours)+" ")]),n("div",{staticClass:"bg-default p-s text-left r-c"},[e._v(" OVERTIME: "+e._s(t.overtime)+" ")])]),n("b-td",[n("div",{staticClass:"bg-default p-s text-left r-c"},[e._v(" LATES: "+e._s(t.lates)+" ")]),n("div",{staticClass:"bg-default p-s text-left r-c"},[e._v(" JUSTIFIEDS: "+e._s(t.justifieds_late)+" ")])]),n("b-td",[n("div",{staticClass:"bg-default p-s text-left r-c"},[e._v(" ABSENCE: "+e._s(t.absences)+" ")]),n("div",{staticClass:"bg-default p-s text-left r-c"},[e._v(" JUSTIFIEDS: "+e._s(t.justifieds_abse)+" ")])])],1)})),1)],1)],1)],1)},vn=[],gn={props:{data:{type:Array,default:[]}},data:function(){return{items:[]}},mounted:function(){this.getReport()},methods:{getReport:function(){var e=this,t=this.data;t.forEach((function(t){var n=t.json_data,r=0,a=0,s=0,o=0,i=0,c=0;n.forEach((function(e){r+=e.total_hours,a+=e.overtime,s+=e.status,o+=e.cantlates,i+=e.absences,c+=e.justifyabsence})),e.items.push({user_name:t.user_name,hours:r,overtime:a,lates:s,justifieds_late:o,absences:i,justifieds_abse:c})}))}}},_n=gn,yn=(n("6aab"),Object(k["a"])(_n,hn,vn,!1,null,null,null)),kn=yn.exports,Sn={data:function(){return{fields:[],items:[],titleModal:null,modal:!1,schedule:{},dataSchedule:[],modalDetails:!1,filter:{from:Ke()().startOf("week").add(1,"days").format("YYYY-MM-DD"),to:Ke()().endOf("week").add(1,"days").format("YYYY-MM-DD"),searchUser:"",modulId:null},keyMoreInfo:0,bgBtnAdres:"background-color: rgba(51, 59, 81, 0.2) !important",detailsSchedule:{},moduls:[]}},components:{contentMoreInfoReport:kn},mounted:function(){this.filter.modulId=this.currentUser.modul_id,this.getReport()},methods:{getReport:function(){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.addPreloader(),e.items=[],n={modul_id:e.filter.modulId,user_id:e.currentUser.user_id,start_date:e.filter.from,end_date:e.filter.to},t.next=5,bn.getHourReport(n);case 5:r=t.sent,a=r.data,a.forEach((function(t){e.items.push({id:t.id,user_name:t.name_user,json_data:t.json_data})})),e.dataByDay(r),e.modulsUser(),e.removePreloader();case 11:case"end":return t.stop()}}),t)})))()},dataByDay:function(e){var t=this;this.fields=[];var n=e.days;n.forEach((function(e){var n=e.dayheader.toUpperCase();t.fields.push({key:"field",label:n.toUpperCase()})}))},modulsUser:function(){var e=this,t=this.currentUser.arrModuls;this.moduls=[],t.forEach((function(t){e.moduls.push({value:t.id_module,text:t.module_name})}))},bgSchedule:function(e){return e.status?"bg-late":"bg-default"},openDetails:function(e,t,n,r){var a="00:00:00";this.titleModal=e.user_name,this.schedule=t,n!=a?this.getDetailsSchedule(t,r):this.showToast("info","top-right","Oops!","XIcon","NO ASSISTANCE")},titleSchedule:function(e,t){var n="00:00:00",r="NOT ASSIGNED";switch(t){case 1:return e.checking==n?r:e.checking;case 2:return e.begining_break==n?r:e.begining_break;case 3:return e.finish_break==n?r:e.finish_break;case 4:return e.checkout==n?r:e.checkout}},getDetailsSchedule:function(e,t){var n=this;return Object(W["a"])(regeneratorRuntime.mark((function r(){var a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n.addPreloader(),a={id:e.id_schedule},r.next=4,bn.getDetailsSchedule(a);case 4:s=r.sent,1==t?n.detailsSchedule={ip:s[0].ip,assigned:e.checking,assistance:e.checking_m,image:s[0].images}:2==t?n.detailsSchedule={ip:s[0].ip2,assigned:e.begining_break,assistance:e.m_begining_break,image:s[0].images2}:3==t?n.detailsSchedule={ip:s[0].ip3,assigned:e.finish_break,assistance:e.m_finish_break,image:s[0].images3}:4==t&&(n.detailsSchedule={ip:s[0].ip4,assigned:e.checkout,assistance:e.m_checkout,image:s[0].images4}),n.modalDetails=!0,n.removePreloader();case 8:case"end":return r.stop()}}),r)})))()},getMoreInfo:function(){this.dataSchedule=this.items,this.keyMoreInfo=++this.keyMoreInfo}},computed:Object(F["a"])(Object(F["a"])({},Object(J["c"])({currentUser:"auth/currentUser"})),{},{isDarkTheme:function(){return"dark"==this.$store.state.appConfig.layout.skin}}),watch:{"filter.from":function(e,t){this.getReport()},"filter.to":function(e,t){this.getReport()}}},Cn=Sn,wn=(n("e6b9"),Object(k["a"])(Cn,fn,pn,!1,null,null,null)),xn=wn.exports,On={data:function(){return{modal:!1}},components:{contentReport:xn},methods:{openModalReport:function(){"amg-menu"==this.$route.name?this.showToast("info","top-right","Oops!","XIcon","ENTER YOUR MODULE"):1==this.currentUser.user_id?this.showToast("info","top-right","Oops!","XIcon","NO DATA FOUND"):this.modal=!0}},computed:Object(F["a"])({},Object(J["c"])({currentUser:"auth/currentUser"}))},Tn=On,Nn=Object(k["a"])(Tn,un,dn,!1,null,null,null),In=Nn.exports,jn={components:{StickyNotes:Tt,Appointments:At,Messages:$t,Messenger:Ht,PayStub:ln,SchedulesReport:In},data:function(){return{userData:JSON.parse(localStorage.getItem("userData")),avatarText:$e["a"]}},computed:Object(F["a"])(Object(F["a"])({},Object(J["c"])({currentUser:"auth/currentUser",G_USER_STATUS_SESSION:"UserStore/G_USER_STATUS_SESSION"})),{},{statusSession:function(){return 1===this.G_USER_STATUS_SESSION?"success":2===this.G_USER_STATUS_SESSION?"warning":3===this.G_USER_STATUS_SESSION?"danger":"secondary"}}),mounted:function(){},methods:Object(F["a"])(Object(F["a"])({},Object(J["d"])({resetState:"resetState"})),{},{logout:function(){localStorage.removeItem(Ve["a"].jwtConfig.storageTokenKeyName),localStorage.removeItem(Ve["a"].jwtConfig.storageRefreshTokenKeyName),this.resetState(),this.$ability.update(Pe["a"]),window.location.href="http://127.0.0.1:8000/"}})},En=jn,Un=Object(k["a"])(En,Re,De,!1,null,null,null),An=Un.exports,Mn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-navbar-nav",{staticClass:"nav"},[n("b-nav-item",{attrs:{id:"bookmark-clock-in"}},[n("clock-in")],1),n("b-nav-item",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Messages",expression:"'Messages'",modifiers:{hover:!0,top:!0}}],attrs:{id:"bookmark-messages",to:{name:"amg-messages"}}},[n("messages")],1),n("b-nav-item",{attrs:{id:"bookmark-sticky-notes"},on:{click:function(t){return e.$refs.stickyNotes.openStickyNotes()}}},[n("sticky-notes",{ref:"stickyNotes"})],1),n("b-nav-item",{attrs:{id:"bookmark-pay-stub"},on:{click:function(t){return e.$refs.payStub.openPayStubModal()}}},[n("pay-stub",{ref:"payStub"})],1),n("b-nav-item",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Appointments",expression:"'Appointments'",modifiers:{hover:!0,top:!0}}],on:{click:function(t){return e.$refs.calendar.openAppointmentsModal()}}},[n("calendar",{ref:"calendar"})],1),n("b-nav-item",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"AMG Messenger",expression:"'AMG Messenger'",modifiers:{hover:!0,top:!0}}],attrs:{id:"bookmark-messenger"},on:{click:function(t){return e.$refs.messenger.redirectToMessenger()}}},[n("messenger",{ref:"messenger"})],1)],1)},Rn=[],Dn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("feather-icon",{attrs:{icon:"ClockIcon",size:"19"},on:{click:function(t){return e.openModal()}}}),n("b-tooltip",{attrs:{triggers:"hover",target:"bookmark-clock-in",title:e.assistanceText,delay:{show:1e3,hide:50}}}),n("b-modal",{attrs:{title:e.assistanceText,size:"sm","body-class":"p-0","title-class":"title-assitence-schedule","no-close-on-backdrop":""},on:{hide:function(t){return e.closeModal()}},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[n("div",{staticClass:"footer-capture"},[n("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.attendance()}}},[n("feather-icon",{staticClass:"mr-50",attrs:{icon:"CameraIcon"}}),e._v(" CAPTURE ")],1)],1)]},proxy:!0}]),model:{value:e.dialAttendance,callback:function(t){e.dialAttendance=t},expression:"dialAttendance"}},[e.image?n("b-img",{staticClass:"w-100",attrs:{src:e.image}}):n("content-camera",{ref:"content",on:{capturedImage:e.sendAssistance}}),n("div",{staticClass:"clock"},[n("p",{staticClass:"text-white",class:"dark"==e.skin||"semi-dark"==e.skin?"text-light":"text-dark"},[e._v(" "+e._s(e.currentTimem)+" ")])])],1),n("b-modal",{attrs:{title:"Justify",size:"sm","body-class":"p-0","title-class":"title-assitence-schedule","no-close-on-backdrop":""},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[n("div",{staticClass:"footer-capture"},[n("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.sendJustifyLate()}}},[n("feather-icon",{staticClass:"mr-50",attrs:{icon:"SendIcon"}}),e._v(" SEND ")],1)],1)]},proxy:!0}]),model:{value:e.modalJustify,callback:function(t){e.modalJustify=t},expression:"modalJustify"}},[n("content-justify",{ref:"contentJustify",on:{closeModalJustify:e.closeModalJustify}})],1)],1)},Pn=[],Vn=(n("ac1f"),n("5319"),n("5b81"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("PhotoCapture",{directives:[{name:"show",rawName:"v-show",value:!e.viewPhoto,expression:"!viewPhoto"}],ref:"photo",model:{value:e.imageBase64,callback:function(t){e.imageBase64=t},expression:"imageBase64"}}),n("img",{directives:[{name:"show",rawName:"v-show",value:e.viewPhoto,expression:"viewPhoto"}],staticClass:"\n      img-fluid\n      ${3|rounded-top,rounded-right,rounded-bottom,rounded-left,rounded-circle,|}\n    ",attrs:{src:e.imageBase64,alt:""}})],1)}),$n=[],Ln=n("5f4c"),Bn={components:{PhotoCapture:Ln["PhotoCapture"]},data:function(){return{imageBase64:"",viewPhoto:!1}},watch:{imageBase64:function(e){this.$emit("capturedImage",e),this.viewPhoto=!0}},mounted:function(){},created:function(){}},Gn=Bn,Fn=(n("29214"),Object(k["a"])(Gn,Vn,$n,!1,null,"1c674fdc",null)),zn=Fn.exports,Hn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-container",[n("b-form",[n("validation-observer",{ref:"form"},[n("b-form-group",{staticClass:"my-2",attrs:{label:"Motive"}},[n("validation-provider",{attrs:{rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors,a=t.valid;return[n("b-form-input",{attrs:{type:"text",state:!r[0]&&(!!a||null)},model:{value:e.justify.motive,callback:function(t){e.$set(e.justify,"motive",t)},expression:"justify.motive"}})]}}])})],1)],1)],1)],1)],1)},qn=[],Jn={data:function(){return{justify:{motive:null}}},computed:Object(F["a"])({},Object(J["c"])({currentUser:"auth/currentUser"})),methods:{sendJustify:function(){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.form.validate().then(function(){var t=Object(W["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:return e.addPreloader(),r={user_id:e.currentUser.user_id,motive:e.justify.motive,type:"late",modul_id:e.currentUser.modul_id,status:1},t.next=6,bn.sendJustifyLate(r);case 6:e.closeModalJustify(),e.removePreloader();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},closeModalJustify:function(){this.$emit("closeModalJustify")}}},Kn=Jn,Yn=Object(k["a"])(Kn,Hn,qn,!1,null,null,null),Wn=Yn.exports,Xn={components:{ContentCamera:zn,ContentJustify:Wn},data:function(){return{payStubModalController:!1,dialAttendance:!1,assistanceText:"ENTER YOUR MODULE",image:"",currentTimem:"",setInterval:null,schedule:null,iconCamera:"/assets/images/schedules-icons/btn-camera.png",assistance:null,modalJustify:!1}},computed:Object(F["a"])({},Object(J["c"])({currentUser:"auth/currentUser",skin:"appConfig/skin"})),mounted:function(){},methods:{sendAssistance:function(e){var t=this;return Object(W["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.addPreloader(),r={user_id:t.currentUser.user_id,assistance:t.assistance,image:e,current_day:t.schedule.current_day,modul_id:t.currentUser.modul_id},n.next=4,bn.sendAssistance(r);case 4:a=n.sent,t.$refs.content.$refs.photo.stopVideoStream(),t.geTimeToDial(!1),t.sweetAlertAssistance(a),t.closeModal(),t.removePreloader();case 10:case"end":return n.stop()}}),n)})))()},sweetAlertAssistance:function(e){var t="dark"==this.skin||"semi-dark"==this.skin?"text-light":"text-dark";this.$swal.fire({icon:e.icon,html:2==e.status?"<b style='font-size:20px; color: red'>"+e.title+"</b>":"<b style='font-size:20px' class='"+t+"'>"+e.title+"</b>"}),2==e.status&&(this.modalJustify=!0)},closeModalJustify:function(){this.modalJustify=!1},sendJustifyLate:function(){this.$refs.contentJustify.sendJustify()},openPayStubModal:function(){this.payStubModalController=!0},openModal:function(){this.geTimeToDial(!0)},attendance:function(){this.$refs.content.$refs.photo.capture(),this.$refs.content.$refs.photo.done(),this.$refs.content.$refs.photo.stopVideoStream()},closeModal:function(){this.$refs.content.$refs.photo.stopVideoStream(),this.dialAttendance=!1,this.getCurrentTime()},getCurrentTime:function(){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,bn.currentTime();case 2:n=t.sent,r=Ke()(n),e.currentTimem=r.format("HH:mm:ss"),a=setInterval((function(){e.currentTimem=r.format("HH:mm:ss"),r.add(1,"seconds"),0==e.dialAttendance&&clearInterval(a)}),1e3);case 6:case"end":return t.stop()}}),t)})))()},geTimeToDial:function(e){var t=this;return Object(W["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("amg-menu"==t.$route.name){n.next=7;break}return t.addPreloader(),t.getCurrentTime(),n.next=5,bn.geTimeToDial(t.currentUser);case 5:r=n.sent,r.length>0?(t.schedule=r[0],t.validateAttendance(r[0],e)):(t.assistanceText="NOT ASSIGNED",t.removePreloader(),1==e&&t.showToast("info","top-right","Oops!","XIcon","NO SCHEDULE FOUND"));case 7:case"end":return n.stop()}}),n)})))()},validateAttendance:function(e,t){null==e.m_clock_ing?(this.assistanceText="CLOCK ING: "+e.clock_ing,this.assistance=1):null==e.m_break?(this.assistanceText="BEGINING BREAK: "+e.break,this.assistance=2):null==e.m_finish_break?(this.assistanceText="FINISH BREAK: "+e.finish_break,this.assistance=3):null==e.m_clock_out?(this.assistanceText="CLOCK OUT: "+e.clock_out,this.assistance=4):(this.assistanceText="FINISHED",t=!1),this.dialAttendance=t,this.removePreloader()}},watch:{$route:function(){this.$route.name=="dashboard-"+this.currentUser.module_name.replaceAll(".","").toLowerCase()&&this.geTimeToDial(!1)}}},Qn=Xn,Zn=(n("7d9c"),n("cd66"),Object(k["a"])(Qn,Dn,Pn,!1,null,null,null)),er=Zn.exports,tr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("feather-icon",{attrs:{icon:"CalendarIcon",size:"19"}}),n("b-modal",{attrs:{id:"modal-appointments-calendar-a",title:"Appointments",size:"xl",scrollable:"","hide-footer":""}},[n("calendar",{attrs:{"is-modal":!0}})],1)],1)},nr=[],rr=n("eba1"),ar={name:"CalendarVue",components:{Calendar:rr["a"]},methods:{openAppointmentsModal:function(){this.$bvModal.show("modal-appointments-calendar-a")}}},sr=ar,or=Object(k["a"])(sr,tr,nr,!1,null,"6475580e",null),ir=or.exports,cr={components:{StickyNotes:Tt,Appointments:At,Messages:$t,Messenger:Ht,PayStub:ln,ClockIn:er,Calendar:ir}},lr=cr,ur=(n("e7b9"),Object(k["a"])(lr,Mn,Rn,!1,null,"37011584",null)),dr=ur.exports,fr={components:{DarkToggler:b["a"],NotificationDropdown:ae,UserDropdown:An,Bookmarks:dr,TaskDropdown:Me,StatusDropdown:ue},props:{toggleVerticalMenuActive:{type:Function,default:function(){}}},computed:{skin:function(){return this.$store.getters["appConfig/skin"]}}},pr=fr,mr=Object(k["a"])(pr,$,L,!1,null,null,null),br=mr.exports,hr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("vertical-nav-menu-items",{staticClass:"navigation navigation-main",staticStyle:{"font-size":"14px"},attrs:{items:e.navMenuItems,"is-mouse-hovered":e.isMouseHovered,"is-vertical-menu-collapsed":e.isVerticalMenuCollapsed}})],1)},vr=[],gr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[e._l(e.items,(function(t){return[(t.route?e.showTabNavigation(t)&&e.onSameModuleItem(t):e.onSameModuleHeader(t))?n(e.resolveNavItemComponent(t),{key:t.header||t.route,tag:"component",attrs:{item:t,"is-mouse-hovered":e.isMouseHovered,"is-vertical-menu-collapsed":e.isVerticalMenuCollapsed}}):e._e()]}))],2)},_r=[],yr=(n("caad"),n("2532"),n("5959")),kr=n("42cb"),Sr=n("185c"),Cr=Object(kr["a"])(),wr=Cr.t,xr=Object(Sr["a"])(),Or=xr.canViewVerticalNavMenuHeader,Tr={props:{item:{type:Object,required:!0}},render:function(e){var t=e("span",{},wr(this.item.header)),n=e("tabler-icon",{props:{icon:"DotsIcon",size:"18"}});return Or(this.item)?e("li",{class:"navigation-header text-truncate"},[t,n]):e()}},Nr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.canViewVerticalNavMenuLink(e.item)?n("li",{staticClass:"nav-item",class:{active:e.isActive,disabled:e.item.disabled}},[n("b-link",e._b({staticClass:"d-flex align-items-center"},"b-link",e.linkProps,!1),[n("tabler-icon",{attrs:{icon:e.item.icon||"CircleIcon",badge:e.isMouseHovered||!e.isVerticalMenuCollapsed||"xl"!=e.currentBreakPoint&&"xxl"!=e.currentBreakPoint?0:e.item.tag,"badge-classes":"bg-danger"}}),n("span",{staticClass:"menu-title text-truncate"},[e._v(e._s(e.t(e.item.title)))]),e.item.tag?n("b-badge",{staticClass:"mr-1 ml-auto",attrs:{pill:"",variant:e.item.tagVariant||"danger"}},[e._v(e._s(e.item.tag))]):e._e()],1)],1):e._e()},Ir=[],jr=n("e98b");function Er(e){var t=Object(i["ref"])(!1),n=Object(yr["c"])(e),r=function(){t.value=Object(yr["b"])(e)};return{isActive:t,linkProps:n,updateIsActive:r}}var Ur={watch:{$route:{immediate:!0,handler:function(){this.updateIsActive()}}}},Ar={components:{BLink:u["a"],BBadge:jr["a"]},mixins:[Ur],props:{item:{type:Object,required:!0},isMouseHovered:{type:Boolean,required:!0},isVerticalMenuCollapsed:{type:Boolean,required:!0}},computed:Object(F["a"])({},Object(J["c"])({currentBreakPoint:"app/currentBreakPoint"})),setup:function(e){var t=Er(e.item),n=t.isActive,r=t.linkProps,a=t.updateIsActive,s=Object(kr["a"])(),o=s.t,i=Object(Sr["a"])(),c=i.canViewVerticalNavMenuLink;return{isActive:n,linkProps:r,updateIsActive:a,canViewVerticalNavMenuLink:c,t:o}}},Mr=Ar,Rr=Object(k["a"])(Mr,Nr,Ir,!1,null,null,null),Dr=Rr.exports,Pr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.canViewVerticalNavMenuGroup(e.item)?n("li",{staticClass:"nav-item has-sub",class:{open:e.isOpen,disabled:e.item.disabled,"sidebar-group-active":e.isActive}},[n("b-link",{staticClass:"d-flex align-items-center",on:{click:function(){return e.updateGroupOpen(!e.isOpen)}}},[n("tabler-icon",{attrs:{icon:e.item.icon||"CircleIcon"}}),n("span",{staticClass:"menu-title text-truncate"},[e._v(e._s(e.t(e.item.title)))]),e.item.tag?n("b-badge",{staticClass:"mr-1 ml-auto",attrs:{pill:"",variant:e.item.tagVariant||"primary"}},[e._v(e._s(e.item.tag))]):e._e()],1),n("b-collapse",{staticClass:"menu-content",attrs:{tag:"ul"},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},e._l(e.item.children,(function(t){return n(e.resolveNavItemComponent(t),{key:t.header||t.title,ref:"groupChild",refInFor:!0,tag:"component",attrs:{item:t,isMouseHovered:e.isMouseHovered,isVerticalMenuCollapsed:e.isVerticalMenuCollapsed}})})),1)],1):e._e()},Vr=[],$r=n("5843"),Lr=n("4360");function Br(e){var t=Object(i["computed"])((function(){return Lr["a"].state.verticalMenu.isVerticalMenuCollapsed}));Object(i["watch"])(t,(function(e){n.value||(e?a.value=!1:!e&&o.value&&(a.value=!0))}));var n=Object(i["inject"])("isMouseHovered");Object(i["watch"])(n,(function(e){t.value&&(a.value=e&&o.value)}));var r=Object(i["inject"])("openGroups");Object(i["watch"])(r,(function(t){var n=t[t.length-1];n===e.title||o.value||l(n)||(a.value=!1)}));var a=Object(i["ref"])(!1);Object(i["watch"])(a,(function(t){t&&r.value.push(e.title)}));var s=function(e){a.value=e},o=Object(i["ref"])(!1);Object(i["watch"])(o,(function(e){e&&t.value||(a.value=e)}));var c=function(){o.value=Object(yr["a"])(e.children)},l=function(t){return e.children.some((function(e){return e.title===t}))};return{isOpen:a,isActive:o,updateGroupOpen:s,openGroups:r,isMouseHovered:n,updateIsActive:c}}var Gr={watch:{$route:{immediate:!0,handler:function(){this.updateIsActive()}}}},Fr={name:"VerticalNavMenuGroup",components:{VerticalNavMenuHeader:Tr,VerticalNavMenuLink:Dr,BLink:u["a"],BBadge:jr["a"],BCollapse:$r["a"]},mixins:[Gr],props:{item:{type:Object,required:!0},isMouseHovered:{type:Boolean,required:!0},isVerticalMenuCollapsed:{type:Boolean,required:!0}},setup:function(e){var t=Br(e.item),n=t.isOpen,r=t.isActive,a=t.updateGroupOpen,s=t.updateIsActive,o=Object(kr["a"])(),i=o.t,c=Object(Sr["a"])(),l=c.canViewVerticalNavMenuGroup;return{resolveNavItemComponent:yr["e"],isOpen:n,isActive:r,updateGroupOpen:a,updateIsActive:s,canViewVerticalNavMenuGroup:l,t:i}}},zr=Fr,Hr=(n("2dd2"),Object(k["a"])(zr,Pr,Vr,!1,null,null,null)),qr=Hr.exports,Jr={components:{VerticalNavMenuHeader:Tr,VerticalNavMenuLink:Dr,VerticalNavMenuGroup:qr},data:function(){return{enviroment:"development",registeredHeaders:["C.R.M.","SOCIAL NETWORK"]}},computed:Object(F["a"])({},Object(J["c"])({currentUser:"auth/currentUser"})),methods:{onSameModuleHeader:function(e){return this.currentUser.module_name===e.header||!this.registeredHeaders.includes(e.header)&&"develop"===this.enviroment},onSameModuleItem:function(e){var t=this.$router.resolve({name:e.route}),n=t.route;return n.meta.module===this.currentUser.modul_id},showTabNavigation:function(e){var t=this,n=this.$router.resolve({name:e.route}),r=n.route;return r.meta==={}||(!r.meta.permittedRoles||(r.meta.hasLevelValidation?r.meta.permittedRoles.some((function(e){return e.role_id==t.currentUser.role_id&&(!e.hasLevelValidation||e.level_id==t.currentUser.level_id)})):r.meta.permittedRoles.includes(this.currentUser.role_id)))}},props:{items:{type:Array,required:!0},isMouseHovered:{type:Boolean,required:!0},isVerticalMenuCollapsed:{type:Boolean,required:!0}},setup:function(){return Object(i["provide"])("openGroups",Object(i["ref"])([])),{resolveNavItemComponent:yr["e"]}}},Kr=Jr,Yr=Object(k["a"])(Kr,gr,_r,!1,null,null,null),Wr=Yr.exports,Xr={components:{VerticalNavMenuItems:Wr},props:{isMouseHovered:{type:Boolean,required:!0},isVerticalMenuCollapsed:{type:Boolean,required:!0}},computed:Object(F["a"])(Object(F["a"])({},Object(J["e"])({navMenuItems:function(e){return e.SidebarStore.S_SIDEBAR_ITEMS}})),{},{currentUser:function(){return this.$store.getters["auth/currentUser"]}})},Qr=Xr,Zr=Object(k["a"])(Qr,hr,vr,!1,null,null,null),ea=Zr.exports,ta={components:{AppCustomizer:V["a"],LayoutVertical:P,Navbar:br,Sidebar:ea},data:function(){return{showCustomizer:U["c"].layout.customizer}}},na=ta,ra=Object(k["a"])(na,r,a,!1,null,null,null);t["default"]=ra.exports},"07df":function(e,t,n){},"15ae":function(e,t,n){"use strict";n("9427")},"19c5":function(e,t,n){"use strict";n("32c0")},"24dc":function(e,t,n){},29214:function(e,t,n){"use strict";n("3c6f")},"2dd2":function(e,t,n){"use strict";n("f6e1")},"32c0":function(e,t,n){},3763:function(e,t,n){},"3c6f":function(e,t,n){},"52e6":function(e,t,n){"use strict";n("7c82")},"5f4c":function(e,t){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fae3")}({"01f9":function(e,t,n){"use strict";var r=n("2d00"),a=n("5ca1"),s=n("2aba"),o=n("32e9"),i=n("84f2"),c=n("41a0"),l=n("7f20"),u=n("38fd"),d=n("2b4c")("iterator"),f=!([].keys&&"next"in[].keys()),p="@@iterator",m="keys",b="values",h=function(){return this};e.exports=function(e,t,n,v,g,_,y){c(n,t,v);var k,S,C,w=function(e){if(!f&&e in N)return N[e];switch(e){case m:return function(){return new n(this,e)};case b:return function(){return new n(this,e)}}return function(){return new n(this,e)}},x=t+" Iterator",O=g==b,T=!1,N=e.prototype,I=N[d]||N[p]||g&&N[g],j=I||w(g),E=g?O?w("entries"):j:void 0,U="Array"==t&&N.entries||I;if(U&&(C=u(U.call(new e)),C!==Object.prototype&&C.next&&(l(C,x,!0),r||"function"==typeof C[d]||o(C,d,h))),O&&I&&I.name!==b&&(T=!0,j=function(){return I.call(this)}),r&&!y||!f&&!T&&N[d]||o(N,d,j),i[t]=j,i[x]=h,g)if(k={values:O?j:w(b),keys:_?j:w(m),entries:E},y)for(S in k)S in N||s(N,S,k[S]);else a(a.P+a.F*(f||T),t,k);return k}},"0d58":function(e,t,n){var r=n("ce10"),a=n("e11e");e.exports=Object.keys||function(e){return r(e,a)}},1495:function(e,t,n){var r=n("86cc"),a=n("cb7c"),s=n("0d58");e.exports=n("9e1e")?Object.defineProperties:function(e,t){a(e);var n,o=s(t),i=o.length,c=0;while(i>c)r.f(e,n=o[c++],t[n]);return e}},"230e":function(e,t,n){var r=n("d3f4"),a=n("7726").document,s=r(a)&&r(a.createElement);e.exports=function(e){return s?a.createElement(e):{}}},"2aba":function(e,t,n){var r=n("7726"),a=n("32e9"),s=n("69a8"),o=n("ca5a")("src"),i=n("fa5b"),c="toString",l=(""+i).split(c);n("8378").inspectSource=function(e){return i.call(e)},(e.exports=function(e,t,n,i){var c="function"==typeof n;c&&(s(n,"name")||a(n,"name",t)),e[t]!==n&&(c&&(s(n,o)||a(n,o,e[t]?""+e[t]:l.join(String(t)))),e===r?e[t]=n:i?e[t]?e[t]=n:a(e,t,n):(delete e[t],a(e,t,n)))})(Function.prototype,c,(function(){return"function"==typeof this&&this[o]||i.call(this)}))},"2aeb":function(e,t,n){var r=n("cb7c"),a=n("1495"),s=n("e11e"),o=n("613b")("IE_PROTO"),i=function(){},c="prototype",l=function(){var e,t=n("230e")("iframe"),r=s.length,a="<",o=">";t.style.display="none",n("fab2").appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(a+"script"+o+"document.F=Object"+a+"/script"+o),e.close(),l=e.F;while(r--)delete l[c][s[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(i[c]=r(e),n=new i,i[c]=null,n[o]=e):n=l(),void 0===t?n:a(n,t)}},"2b4c":function(e,t,n){var r=n("5537")("wks"),a=n("ca5a"),s=n("7726").Symbol,o="function"==typeof s,i=e.exports=function(e){return r[e]||(r[e]=o&&s[e]||(o?s:a)("Symbol."+e))};i.store=r},"2d00":function(e,t){e.exports=!1},"2d95":function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"32e9":function(e,t,n){var r=n("86cc"),a=n("4630");e.exports=n("9e1e")?function(e,t,n){return r.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},"38fd":function(e,t,n){var r=n("69a8"),a=n("4bf8"),s=n("613b")("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=a(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},"41a0":function(e,t,n){"use strict";var r=n("2aeb"),a=n("4630"),s=n("7f20"),o={};n("32e9")(o,n("2b4c")("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(o,{next:a(1,n)}),s(e,t+" Iterator")}},4588:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},4630:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"4bf8":function(e,t,n){var r=n("be13");e.exports=function(e){return Object(r(e))}},5537:function(e,t,n){var r=n("8378"),a=n("7726"),s="__core-js_shared__",o=a[s]||(a[s]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n("2d00")?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(e,t,n){var r=n("7726"),a=n("8378"),s=n("32e9"),o=n("2aba"),i=n("9b43"),c="prototype",l=function(e,t,n){var u,d,f,p,m=e&l.F,b=e&l.G,h=e&l.S,v=e&l.P,g=e&l.B,_=b?r:h?r[t]||(r[t]={}):(r[t]||{})[c],y=b?a:a[t]||(a[t]={}),k=y[c]||(y[c]={});for(u in b&&(n=t),n)d=!m&&_&&void 0!==_[u],f=(d?_:n)[u],p=g&&d?i(f,r):v&&"function"==typeof f?i(Function.call,f):f,_&&o(_,u,f,e&l.U),y[u]!=f&&s(y,u,p),v&&k[u]!=f&&(k[u]=f)};r.core=a,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},"613b":function(e,t,n){var r=n("5537")("keys"),a=n("ca5a");e.exports=function(e){return r[e]||(r[e]=a(e))}},"626a":function(e,t,n){var r=n("2d95");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},6821:function(e,t,n){var r=n("626a"),a=n("be13");e.exports=function(e){return r(a(e))}},"69a8":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"69af":function(e,t,n){},"6a99":function(e,t,n){var r=n("d3f4");e.exports=function(e,t){if(!r(e))return e;var n,a;if(t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;if("function"==typeof(n=e.valueOf)&&!r(a=n.call(e)))return a;if(!t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},"74ae":function(e,t,n){"use strict";var r=n("69af"),a=n.n(r);a.a},7726:function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77f1":function(e,t,n){var r=n("4588"),a=Math.max,s=Math.min;e.exports=function(e,t){return e=r(e),e<0?a(e+t,0):s(e,t)}},"79e5":function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},"7f20":function(e,t,n){var r=n("86cc").f,a=n("69a8"),s=n("2b4c")("toStringTag");e.exports=function(e,t,n){e&&!a(e=n?e:e.prototype,s)&&r(e,s,{configurable:!0,value:t})}},8378:function(e,t){var n=e.exports={version:"2.6.8"};"number"==typeof __e&&(__e=n)},"84f2":function(e,t){e.exports={}},"86cc":function(e,t,n){var r=n("cb7c"),a=n("c69a"),s=n("6a99"),o=Object.defineProperty;t.f=n("9e1e")?Object.defineProperty:function(e,t,n){if(r(e),t=s(t,!0),r(n),a)try{return o(e,t,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},"9b43":function(e,t,n){var r=n("d8e8");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,a){return e.call(t,n,r,a)}}return function(){return e.apply(t,arguments)}}},"9c6c":function(e,t,n){var r=n("2b4c")("unscopables"),a=Array.prototype;void 0==a[r]&&n("32e9")(a,r,{}),e.exports=function(e){a[r][e]=!0}},"9def":function(e,t,n){var r=n("4588"),a=Math.min;e.exports=function(e){return e>0?a(r(e),9007199254740991):0}},"9e1e":function(e,t,n){e.exports=!n("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},ac6a:function(e,t,n){for(var r=n("cadf"),a=n("0d58"),s=n("2aba"),o=n("7726"),i=n("32e9"),c=n("84f2"),l=n("2b4c"),u=l("iterator"),d=l("toStringTag"),f=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=a(p),b=0;b<m.length;b++){var h,v=m[b],g=p[v],_=o[v],y=_&&_.prototype;if(y&&(y[u]||i(y,u,f),y[d]||i(y,d,v),c[v]=f,g))for(h in r)y[h]||s(y,h,r[h],!0)}},be13:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},c366:function(e,t,n){var r=n("6821"),a=n("9def"),s=n("77f1");e.exports=function(e){return function(t,n,o){var i,c=r(t),l=a(c.length),u=s(o,l);if(e&&n!=n){while(l>u)if(i=c[u++],i!=i)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}}},c69a:function(e,t,n){e.exports=!n("9e1e")&&!n("79e5")((function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a}))},ca5a:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},cadf:function(e,t,n){"use strict";var r=n("9c6c"),a=n("d53b"),s=n("84f2"),o=n("6821");e.exports=n("01f9")(Array,"Array",(function(e,t){this._t=o(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,a(1)):a(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),s.Arguments=s.Array,r("keys"),r("values"),r("entries")},cb7c:function(e,t,n){var r=n("d3f4");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},ce10:function(e,t,n){var r=n("69a8"),a=n("6821"),s=n("c366")(!1),o=n("613b")("IE_PROTO");e.exports=function(e,t){var n,i=a(e),c=0,l=[];for(n in i)n!=o&&r(i,n)&&l.push(n);while(t.length>c)r(i,n=t[c++])&&(~s(l,n)||l.push(n));return l}},d3f4:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},d53b:function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},d8e8:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},e11e:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},f6fd:function(e,t){(function(e){var t="currentScript",n=e.getElementsByTagName("script");t in e||Object.defineProperty(e,t,{get:function(){try{throw new Error}catch(r){var e,t=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(r.stack)||[!1])[1];for(e in n)if(n[e].src==t||"interactive"==n[e].readyState)return n[e];return null}}})})(document)},fa5b:function(e,t,n){e.exports=n("5537")("native-function-to-string",Function.toString)},fab2:function(e,t,n){var r=n("7726").document;e.exports=r&&r.documentElement},fae3:function(e,t,n){"use strict";var r;(n.r(t),"undefined"!==typeof window)&&(n("f6fd"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=r[1]));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isValid?n("section",{staticClass:"photo-capture",style:e.styling},[n("video",{directives:[{name:"show",rawName:"v-show",value:e.showVideo,expression:"showVideo"}],ref:"player",staticClass:"camera",attrs:{autoplay:"",playsinline:""}}),n("canvas",{directives:[{name:"show",rawName:"v-show",value:!e.showVideo,expression:"!showVideo"}],ref:"canvas",staticClass:"preview"}),n("h1",[e._v("TESTING")]),n("div",{staticClass:"center photo-capture-actions"},[e.showVideo?n("button",{class:"btn flex-center "+e.buttonsClasses,on:{click:function(t){return t.preventDefault(),e.capture(t)}}},[e._v(e._s(e.captureBtnContent))]):n("div",[n("button",{class:"btn "+e.buttonsClasses,on:{click:function(t){return t.preventDefault(),e.cancel(t)}}},[e._v(e._s(e.cancelBtnContent))]),n("button",{class:"btn "+e.buttonsClasses,on:{click:function(t){return t.preventDefault(),e.done(t)}}},[e._v(e._s(e.doneBtnContent))])])])]):e._e()},s=[],o=(n("ac6a"),{name:"PhotoCapture",props:{styling:{type:Object,isRequired:!1},value:{default:null},hideButtons:{type:Boolean,default:!1},buttonsClasses:{type:String,default:""},captureBtnContent:{default:"Capture"},cancelBtnContent:{default:"Cancel"},doneBtnContent:{default:"OK"}},data:function(){return{showVideo:!0,picture:null,isValid:!0}},mounted:function(){this.videoPlayer=this.$refs.player,this.canvasElement=this.$refs.canvas,this.streamUserMediaVideo()},methods:{streamUserMediaVideo:function(){var e=this;navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:!0}).then((function(t){return e.videoPlayer.srcObject=t})).catch((function(){e.isValid=!1}))},capture:function(){this.showVideo=!1,this.canvasElement.width=this.videoPlayer.videoWidth,this.canvasElement.height=this.videoPlayer.videoHeight;var e=this.canvasElement.getContext("2d");e.translate(this.canvasElement.width,0),e.scale(-1,1),e.drawImage(this.$refs.player,0,0),this.stopVideoStream(),this.picture=this.$refs.canvas.toDataURL()},done:function(){this.$emit("input",this.picture),this.showVideo=!0,this.streamUserMediaVideo()},cancel:function(){this.showVideo=!0,this.streamUserMediaVideo()},stopVideoStream:function(){this.$refs.player&&this.$refs.player.srcObject&&this.$refs.player.srcObject.getVideoTracks().forEach((function(e){e.stop()}))}}}),i=o;function c(e,t,n,r,a,s,o,i){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),s&&(l._scopeId="data-v-"+s),o?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},l._ssrRegister=c):a&&(c=i?function(){a.call(this,this.$root.$options.shadowRoot)}:a),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:e,options:l}}var l=c(i,a,s,!1,null,null,null),u=l.exports,d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isValid?n("section",[n("section",{staticClass:"video-cap-container"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isUploading,expression:"!isUploading"}],staticClass:"stream-container"},[n("video",{ref:"videoRec",staticClass:"camera",attrs:{muted:"",loop:"",controls:"",autoplay:""},domProps:{muted:!0}}),e.isFinished?e._e():[e.isRecording?n("button",{staticClass:"btn",on:{click:e.stop}},[n("span",{staticStyle:{"font-size":"3em"}},[e._v(e._s(e.stopBtnContent))])]):n("button",{staticClass:"btn flex-center",on:{click:e.record}},[e._v(e._s(e.recordBtnContent))])]],2),n("Loader",{directives:[{name:"show",rawName:"v-show",value:e.isUploading,expression:"isUploading"}]}),e.isFinished&&!e.isUploading&&e.uploadUrl?n("div",{staticClass:"controls"},[n("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.resetVideo(t)}}},[e._v(e._s(e.cancelBtnContent))]),n("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.done(t)}}},[e._v(e._s(e.doneBtnContent))])]):e._e(),n("h1",{staticClass:"error-video"},[e._v(e._s(e.errText))])],1)]):e._e()},f=[],p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"loader"})},m=[],b={name:"Loader"},h=b,v=(n("74ae"),c(h,p,m,!1,null,null,null)),g=v.exports,_={name:"VideoCapture",props:{uploadUrl:{default:null},recordBtnContent:{default:"Record"},stopBtnContent:{default:""},cancelBtnContent:{default:"Cancel"},doneBtnContent:{default:"OK"}},components:{Loader:g},data:function(){return{errText:null,isValid:!0,isUploading:!1,isRecording:!1,isFinished:!1,recorder:null,connection:null,videoUrl:null}},created:function(){this.uploadUrl||(this.errText="There is no upload url available"),this.getWebSocket()},mounted:function(){this.resetVideo()},methods:{resetVideo:function(){var e=this;this.isFinished=!1,this.isRecording=!1,this.isLoading=!0,this.$refs.videoRec.muted=!0,navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720}},audio:!0}).then(this.gotStream).catch((function(){return e.isValid=!1}))},record:function(){this.uploadUrl&&(this.recorder.start(),this.isRecording=!0)},stop:function(){this.recorder.stop(),this.isRecording=!1,this.isFinished=!0,this.connection.send("DONE")},done:function(){this.resetVideo(),this.$emit("input",this.videoUrl)},gotStream:function(e){this.recorder=new MediaRecorder(e,{mimeType:"video/webm",audioBitsPerSecond:128e3}),this.recorder.ondataavailable=this.videoDataHandler,this.$refs.videoRec.src=null,this.$refs.videoRec.srcObject=e,this.toggleVideo()},videoDataHandler:function(e){var t=this;this.isUploading=!0;var n=new FileReader;n.readAsArrayBuffer(e.data),n.onloadend=function(){t.connection.send(n.result)}},getWebSocket:function(){var e=this,t="wss://mister-recorder.herokuapp.com";this.connection=new WebSocket(t),this.connection.binaryType="arraybuffer",this.connection.onmessage=function(t){e.updateVideoFile(t.data),e.$refs.videoRec.muted=!1}},updateVideoFile:function(e){this.videoUrl=this.uploadUrl+e+".webm",this.toggleVideo(),this.$refs.videoRec.srcObject=null,this.$refs.videoRec.src=this.videoUrl,this.isUploading=!1},toggleVideo:function(){this.$refs.videoRec.loop=!this.$refs.videoRec.loop,this.$refs.videoRec.controls=!this.$refs.videoRec.controls}}},y=_,k=c(y,d,f,!1,null,null,null),S=k.exports;n.d(t,"PhotoCapture",(function(){return u})),n.d(t,"VideoCapture",(function(){return S}))}})},"6aab":function(e,t,n){"use strict";n("d023")},"75e1":function(e,t,n){"use strict";n("eacc")},"772f":function(e,t,n){"use strict";n("fb2f")},"7c82":function(e,t,n){},"7d9c":function(e,t,n){"use strict";n("cf1d")},8917:function(e,t,n){},9427:function(e,t,n){},a3cb:function(e,t,n){"use strict";n("0216")},a487:function(e,t,n){"use strict";n("24dc")},bb43:function(e,t,n){},c7b7:function(e,t,n){"use strict";n("8917")},cd66:function(e,t,n){"use strict";n("3763")},cf1d:function(e,t,n){},d023:function(e,t,n){},d866:function(e,t,n){"use strict";n("bb43")},e6b9:function(e,t,n){"use strict";n("ee6b")},e7b9:function(e,t,n){"use strict";n("e9eb")},e9eb:function(e,t,n){},eacc:function(e,t,n){},ee6b:function(e,t,n){},f6e1:function(e,t,n){},fa70:function(e,t,n){"use strict";n("07df")},fb2f:function(e,t,n){}}]);
//# sourceMappingURL=chunk-085392e6.200de621.js.map