(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9f53b9b4"],{"0824":function(e,t,a){"use strict";a("eede")},"2e61":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-input-group",{attrs:{prepend:"Global Search"}},[a("b-form-input",{attrs:{placeholder:"By Nickname, Name, Last Name or Mobile"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search()}},model:{value:e.searchGlobal,callback:function(t){e.searchGlobal=t},expression:"searchGlobal"}}),a("b-input-group-append",[a("b-button",{attrs:{variant:"info",size:"sm"},on:{click:function(t){return e.search()}}},[a("feather-icon",{attrs:{icon:"SearchIcon"}})],1)],1)],1),e.modalGlobalSearch?a("modal-search-global-leads-sn",{attrs:{show:e.modalGlobalSearch,searchGlobal:this.searchGlobal},on:{onClose:e.closeModalGlobalSearch}}):e._e()],1)},s=[],n=a("1da1"),l=(a("96cf"),a("498a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-modal",{attrs:{title:"GLOBAL SEARCH",size:"xl","hide-footer":"","body-class":"p-0","title-tag":"h3",scrollable:""},on:{hidden:e.close},model:{value:e.mutableShow,callback:function(t){e.mutableShow=t},expression:"mutableShow"}},[a("filter-slot",{directives:[{name:"scrollbar",rawName:"v-scrollbar"}],attrs:{"filter-principal":e.filterPrincipal,"total-rows":e.totalLeads,paginate:e.paginate,"start-page":e.fromPage,"to-page":e.toPage},on:{reload:e.getSearchGlobal,onChangeCurrentPage:e.onChangeCurrentPage}},[a("b-table",{ref:"refUserListTable",staticClass:"position-relative font-small-3",attrs:{slot:"table","primary-key":"id","empty-text":"No matching records found","select-mode":"multi",responsive:"sm","table-class":"text-nowrap","sticky-header":"73vh","show-empty":"",busy:e.isBusy,fields:e.fields,items:e.dataLeads},on:{"update:busy":function(t){e.isBusy=t}},slot:"table",scopedSlots:e._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-primary my-2"},[a("b-spinner",{staticClass:"align-middle mr-1"}),a("strong",[e._v("Loading ...")])],1)]},proxy:!0},{key:"cell(nickname)",fn:function(t){return[a("div",{staticStyle:{"white-space":"pre-wrap"}},[a("router-link",{class:e.textLink,attrs:{to:"/social-network/leads/new/dashboard/"+t.item.id,target:"_blank"}},[e._v(e._s(t.item.nickname?t.item.nickname:t.item.not_nickname))]),a("br"),a("span",[e._v(e._s(t.item.lead_name))])],1)]}},{key:"cell(status)",fn:function(t){return[a("b-badge",{staticClass:"text-capitalize w-100",staticStyle:{"padding-top":"5px","padding-bottom":"5px"},attrs:{variant:"light-"+e.resolveLeadSnStatusVariant(t.item.status)}},[e._v(e._s(t.item.status))])]}},{key:"cell(sourcesname_id)",fn:function(t){return[a("div",[17==t.item.sourcesname_id?a("div",{staticClass:"text-center"},[a("b-img",{staticStyle:{width:"30px"},attrs:{fluid:"",src:e.baseUrl+"/images/social-network/facebook.png"}})],1):e._e(),32==t.item.sourcesname_id?a("div",{staticClass:"text-center"},[a("b-img",{staticStyle:{width:"30px"},attrs:{fluid:"",src:e.baseUrl+"/images/social-network/google.png"}})],1):e._e()])]}},{key:"cell(fanpage)",fn:function(t){return[t.item.logo?a("b-img",{staticStyle:{width:"50px"},attrs:{thumbnail:"",fluid:"",src:e.baseUrl+t.item.logo}}):a("b-badge",{staticStyle:{width:"50px"},attrs:{variant:"primary"}},[e._v(" CRM ")])]}},{key:"cell(programs)",fn:function(t){return[e._l(JSON.parse(t.item.programs),(function(r,s){return[a("span",{key:s},[e._v(e._s(r))]),a("br",{key:JSON.parse(t.item.programs).length+s})]}))]}},{key:"cell(created_at)",fn:function(t){return[a("small",[e._v(e._s(e._f("myGlobalDay")(t.item.created_at)))])]}},{key:"cell(from)",fn:function(t){return[a("b-badge",{staticClass:"w-100",attrs:{variant:"primary"}},[e._v(" "+e._s(e.resolveFromSn(t.item.potential,t.item.potential_status,t.item.fp_done,t.item.status_sn_id,t.item.lead_status,t.item.old_lead_sn))+" ")])]}}])})],1)],1)],1)}),o=[],i=a("5530"),c=(a("caad"),a("2f62")),u={props:{show:{type:Boolean},searchGlobal:{type:String}},data:function(){return{isBusy:!1,textSearchGlobal:this.searchGlobal,dataLeads:[],mutableShow:this.show,filterPrincipal:{type:"input",inputType:"text",placeholder:"Search...",model:""},totalLeads:0,paginate:{currentPage:1,perPage:10},fromPage:0,toPage:0,fields:[{key:"nickname",label:"Nickname",sortable:!1},{key:"state_hour",label:"ST/AD",sortable:!1},{key:"sourcesname_id",label:"Source",sortable:!1},{key:"mobile",label:"Mobile",sortable:!1},{key:"status",label:"Status",sortable:!1},{key:"fanpage",label:"Fanpage",sortable:!1},{key:"programs",label:"Recommendations",sortable:!1},{key:"created_at",label:"Created date",sortable:!1},{key:"owner",label:"Owner",sortable:!1},{key:"from",label:"From"}]}},methods:Object(i["a"])(Object(i["a"])({},Object(c["b"])("SocialNetworkLeadsStore",["A_SEARCH_GLOBAL_LEADS_SN"])),{},{getSearchGlobal:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.textSearchGlobal&&(e.filterPrincipal.model=e.textSearchGlobal,e.textSearchGlobal=""),e.isBusy=!0,t.next=4,e.A_SEARCH_GLOBAL_LEADS_SN({name_text:e.filterPrincipal.model,perpage:e.paginate.perPage,page:e.paginate.currentPage});case 4:a=t.sent,e.totalLeads=a.total,e.fromPage=a.from,e.toPage=a.to,e.dataLeads=a.data,e.isBusy=!1;case 9:case"end":return t.stop()}}),t)})))()},onChangeCurrentPage:function(e){this.paginate.currentPage=e,this.getSearchGlobal()},close:function(){this.$emit("onClose")},resolveLeadSnStatusVariant:function(e){return 2===e?"success":[3,4].includes(e)?"primary":5===e?"secondary":6===e?"warning":7===e?"danger":"primary"},resolveFromSn:function(e,t,a,r,s,n){var l=[4,5],o=[1,4],i=[1,2,3],c=[6,7];return i.includes(r)?1==n?"ACTIVE (OLD)":"ACTIVE":l.includes(r)&&o.includes(t)?1==n?"RECOVERY (OLD)":"RECOVERY":2&&8!=r&&7!=s?1==n?"WITHOUT POTENTIAL (OLD)":"WITHOUT POTENTIAL":c.includes(r)?1==n?"CLOSED (OLD)":"CLOSED":a?"OUR CLIENTS (DONE)":"OUR CLIENTS"}})},d=u,b=a("2877"),m=Object(b["a"])(d,l,o,!1,null,null,null),p=m.exports,h={data:function(){return{searchGlobal:"",modalGlobalSearch:!1}},components:{"modal-search-global-leads-sn":p},methods:{search:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.searchGlobal.trim()?e.modalGlobalSearch=!0:e.showToast("danger","top-right","Oop!","AlertOctagonIcon","Please enter a valid text.");case 1:case"end":return t.stop()}}),t)})))()},closeModalGlobalSearch:function(){this.modalGlobalSearch=!1}}},g=h,f=Object(b["a"])(g,r,s,!1,null,null,null);t["a"]=f.exports},"39d3":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("header-slot",{scopedSlots:e._u([{key:"actions",fn:function(){return[a("div",[a("b-row",[a("b-col",{attrs:{md:"12"}},[a("div",{staticClass:"d-flex justify-content-end align-items-center"},[a("global-search-component",{staticClass:"w-100 mr-2"}),a("lead-create-social")],1)])],1)],1)]},proxy:!0}])}),e.isCeo||e.isSupervisor||e.isTeamLeader?a("div",[a("b-nav",{staticClass:"m-0",attrs:{"card-header":"",pills:""}},[a("b-nav-item",{attrs:{"exact-active-class":"active","link-classes":["px-3",e.bgTabsNavs],exact:"",to:{name:"sn-list-new-leads"}}},[e._v("LEADS ")]),a("b-nav-item",{attrs:{"exact-active-class":"active","link-classes":["px-3",e.bgTabsNavs],exact:"",to:{name:"sn-list-without-potential-leads"}}},[e._v("WITHOUT POTENTIAL ")]),a("b-nav-item",{staticClass:"tab-count-nav-closed",attrs:{"exact-active-class":"active","link-classes":["px-3",e.bgTabsNavs],exact:"",to:{name:"sn-list-closed-leads"}}},[e._v("CLOSED "),a("b-badge",{staticClass:"ml-1",attrs:{pill:"",variant:"success"}},[e._v(e._s(e.S_LEADS_COUNT_CLOSED_COUNTER))])],1)],1),a("b-card",{staticClass:"border-top-primary border-3 border-table-radius px-0",attrs:{"no-body":""}},[a("router-view",{key:e.$route.name})],1)],1):a("div",[a("new-leads")],1)],1)},s=[],n=a("1da1"),l=a("5530"),o=(a("96cf"),a("2e61")),i=a("6f08"),c=a("5e6d"),u=a("2f62"),d={components:{"global-search-component":o["a"],"new-leads":c["a"],LeadCreateSocial:i["a"]},computed:Object(l["a"])({},Object(u["e"])("SocialNetworkLeadsStore",["S_LEADS_COUNT_CLOSED_COUNTER"])),methods:Object(l["a"])(Object(l["a"])({},Object(u["b"])("SocialNetworkLeadsStore",["A_GET_COUNT_LEAD_CLOSED"])),{},{getCountLeadClosed:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.A_GET_COUNT_LEAD_CLOSED();case 3:t.next=9;break;case 5:t.prev=5,t.t0=t["catch"](0),console.log("Something went wrong getCountLeadClosed:",t.t0),e.showToast("danger","top-right","Oop!","AlertOctagonIcon",e.getInternalErrors(t.t0));case 9:case"end":return t.stop()}}),t,null,[[0,5]])})))()}}),created:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getCountLeadClosed();case 2:case"end":return t.stop()}}),t)})))()}},b=d,m=(a("0824"),a("2877")),p=Object(m["a"])(b,r,s,!1,null,null,null);t["default"]=p.exports},eede:function(e,t,a){}}]);
//# sourceMappingURL=chunk-9f53b9b4.10d17b5f.js.map