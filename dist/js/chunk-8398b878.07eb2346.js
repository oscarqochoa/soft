(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8398b878"],{"2f1c":function(e,t,r){},c783:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("header-slot",{scopedSlots:e._u([{key:"actions",fn:function(){return[r("div",[r("b-button",{attrs:{variant:"danger"},on:{click:e.clearEverything}},[e._v(" Clear All ")])],1)]},proxy:!0}])}),r("b-card",[r("div",{staticClass:"d-flex justify-content-between align-items-center"},[r("div",[""===e.dateFilter&&e.finishedLoading&&0!==e.items.length?r("span",{staticClass:"k-font-weight-bold font-medium-1"},[e._v("Showing All Logs")]):e._e(),0!==e.items.length&&e.finishedLoading&&""!==e.dateFilter?r("span",{staticClass:"k-font-weight-bold font-medium-1"},[e._v("Showing Logs: "+e._s(e.dateFilter))]):e._e(),0===e.items.length&&e.finishedLoading?r("span",{staticClass:"k-font-weight-bold font-medium-1"},[e._v("There are no logs")]):e._e(),r("div",{staticClass:"d-inline mx-2"},[r("b-badge",{class:1===e.statusBadges[0]?"info-bg":"",attrs:{href:"#"},on:{click:function(t){return e.filterByType(0,"INFO")}}},[e._v(" Info ")]),r("b-badge",{staticClass:"ml-1",class:1===e.statusBadges[1]?"emergency-bg":"",attrs:{href:"#"},on:{click:function(t){return e.filterByType(1,"EMERGENCY")}}},[e._v(" Emergency ")]),r("b-badge",{staticClass:"ml-1",class:1===e.statusBadges[2]?"critical-bg":"",attrs:{href:"#"},on:{click:function(t){return e.filterByType(2,"CRITICAL")}}},[e._v(" Critical ")]),r("b-badge",{staticClass:"ml-1",class:1===e.statusBadges[3]?"alert-bg":"",attrs:{href:"#"},on:{click:function(t){return e.filterByType(3,"ALERT")}}},[e._v(" Alert ")]),r("b-badge",{staticClass:"ml-1",attrs:{href:"#",variant:1===e.statusBadges[4]?"danger":""},on:{click:function(t){return e.filterByType(4,"ERROR")}}},[e._v(" Error ")]),r("b-badge",{staticClass:"ml-1",class:1===e.statusBadges[5]?"warning-bg":"",attrs:{href:"#"},on:{click:function(t){return e.filterByType(5,"WARNING")}}},[e._v(" Warning ")]),r("b-badge",{staticClass:"ml-1",attrs:{href:"#",variant:1===e.statusBadges[6]?"info":""},on:{click:function(t){return e.filterByType(6,"NOTICE")}}},[e._v(" Notice ")]),r("b-badge",{staticClass:"ml-1",attrs:{href:"#",variant:1===e.statusBadges[7]?"dark":""},on:{click:function(t){return e.filterByType(7,"DEBUG")}}},[e._v(" Debug ")]),e.statusBadges.includes(1)?r("b-badge",{staticClass:"ml-1",attrs:{href:"#",variant:"primary"},on:{click:e.clearFilters}},[e._v(" Clear filter ")]):e._e()],1)]),r("div",{staticClass:"d-flex justify-content between align-items-center"},[r("span",[e._v("Select Date: ")]),r("v-select",{staticClass:"ml-1",staticStyle:{width:"160px !important"},attrs:{options:e.datesOptions,clearable:!1},on:{input:e.onChangeDate},model:{value:e.dateFilter,callback:function(t){e.dateFilter=t},expression:"dateFilter"}}),r("feather-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top",value:"Clear the logs for the selected date!",expression:"'Clear the logs for the selected date!'",modifiers:{hover:!0,top:!0}}],staticClass:"cursor-pointer text-danger ml-1",attrs:{size:"20",icon:"TrashIcon"},on:{click:e.clearByDate}})],1)]),r("b-table",{staticClass:"mt-1 position-relative",attrs:{"no-border-collapse":"",fields:e.fields,"show-empty":"","sticky-header":"50vh","primary-key":"id",responsive:"sm",items:e.filteredItems,busy:e.isBusy},scopedSlots:e._u([{key:"table-busy",fn:function(){return[r("div",{staticClass:"text-center text-primary my-2"},[r("b-spinner",{staticClass:"align-middle mr-1"}),r("strong",[e._v("Loading ...")])],1)]},proxy:!0},{key:"cell(type)",fn:function(t){return[r("b-badge",{class:e.returnColorBgType(t.item.type)},[e._v(e._s(t.item.type))])]}}])})],1)],1)},a=[],s=r("1da1"),i=(r("4de4"),r("d3b7"),r("96cf"),r("4a7a")),c=r.n(i),o=r("d4ec"),l=r("bee2"),u=r("2777"),d=function(){function e(){Object(o["a"])(this,e)}return Object(l["a"])(e,[{key:"getLogList",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u["a"].post("/auth/log-reader",t);case 3:return r=e.sent,e.abrupt("return",r);case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteLogList",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u["a"].post("/auth/delete-log-reader",t);case 3:return r=e.sent,e.abrupt("return",r);case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),f=new d,g={components:{vSelect:c.a},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.commit("appConfig/UPDATE_NAVBAR_CONFIG",{type:"hidden"}),e.$store.commit("appConfig/UPDATE_NAV_MENU_HIDDEN",!0),t.next=4,e.getLogs();case 4:case"end":return t.stop()}}),t)})))()},destroyed:function(){this.$store.commit("appConfig/UPDATE_NAVBAR_CONFIG",{type:"sticky"}),this.$store.commit("appConfig/UPDATE_NAV_MENU_HIDDEN",!1),this.$store.commit("appConfig/UPDATE_LAYOUT_TYPE","vertical")},data:function(){return{isBusy:!1,items:[],filteredItems:[],datesOptions:[],finishedLoading:!1,fields:[{key:"timestamp",label:"Timestamp"},{key:"env",label:"Env"},{key:"type",label:"Type"},{key:"message",label:"Message",thStyle:{width:"600px"}}],statusBadges:[0,0,0,0,0,0,0,0],dateFilter:"",filename:""}},methods:{returnColorBgType:function(e){switch(e){case"INFO":return"info-bg";case"EMERGENCY":return"emergency-bg";case"CRITICAL":return"critical-bg";case"ALERT":return"alert-bg";case"ERROR":return"error-bg";case"WARNING":return"warning-bg";case"NOTICE":return"notice-bg";case"DEBUG":return"debug-bg"}},clearFilters:function(){this.filteredItems=this.items,this.statusBadges=[0,0,0,0,0,0,0,0]},filterByType:function(e,t){this.statusBadges=[0,0,0,0,0,0,0,0],this.$set(this.statusBadges,e,1),this.filteredItems=this.items.filter((function(e){return e.type===t}))},getLogs:function(){var e=arguments,t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:null,r.prev=1,t.isBusy=!0,t.finishedLoading=!1,r.next=6,f.getLogList({date:n});case 6:a=r.sent,console.log(a),200===a.status&&(t.isBusy=!1,a.data.success?(t.items=a.data.data.logs,t.finishedLoading=!0,t.filteredItems=t.items,t.datesOptions=a.data.data.available_log_dates,t.filename=a.data.data.filename,n||(t.dateFilter=t.datesOptions[0])):(t.finishedLoading=!0,t.items=[],t.filteredItems=[],t.datesOptions=[],t.dateFilter="",t.filename=[])),r.next=16;break;case 11:r.prev=11,r.t0=r["catch"](1),t.isBusy=!1,t.finishedLoading=!0,t.showErrorSwal(r.t0);case 16:case"end":return r.stop()}}),r,null,[[1,11]])})))()},onChangeDate:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getLogs(e.dateFilter);case 2:case"end":return t.stop()}}),t)})))()},clearByDate:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.showConfirmSwal();case 3:if(r=t.sent,!r.isConfirmed){t.next=12;break}return t.next=7,f.deleteLogList({filename:e.filename});case 7:if(n=t.sent,200!==n.status){t.next=12;break}return e.showSuccessSwal(),t.next=12,e.getLogs();case 12:t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),e.showErrorSwal(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))()},clearEverything:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.showConfirmSwal();case 3:if(r=t.sent,!r.isConfirmed){t.next=12;break}return t.next=7,f.deleteLogList({clear:!0});case 7:if(n=t.sent,200!==n.status){t.next=12;break}return e.showSuccessSwal(),t.next=12,e.getLogs();case 12:t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),e.showErrorSwal(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))()}}},p=g,m=(r("dc85"),r("2877")),h=Object(m["a"])(p,n,a,!1,null,"208481a0",null);t["default"]=h.exports},dc85:function(e,t,r){"use strict";r("2f1c")}}]);
//# sourceMappingURL=chunk-8398b878.07eb2346.js.map