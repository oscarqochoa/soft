{"version":3,"sources":["webpack:///./src/views/social-network/views/migrations/migration-module/MigrationsList.vue?beb5","webpack:///./src/views/social-network/views/migrations/migration-module/fields.data.js","webpack:///./src/views/social-network/views/migrations/migration-module/filters.data.js","webpack:///src/views/social-network/views/migrations/migration-module/MigrationsList.vue","webpack:///./src/views/social-network/views/migrations/migration-module/MigrationsList.vue?abb6","webpack:///./src/views/social-network/views/migrations/migration-module/MigrationsList.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","filter","filterPrincipal","totalRows","paginate","startPage","toPage","on","resetAllFilters","$event","$refs","refresh","ref","isBusy","search","filteredFields","perPage","currentPage","slot","scopedSlots","_u","key","fn","_v","proxy","data","class","textLink","item","_s","lead_name","mobile","credit_report","_e","sale","_l","JSON","parse","programs","program","index","owner","_f","created_at","deletedMigrationLead","id","staticRenderFns","sortable","label","type","margin","showLabel","placeholder","model","locale","dateFormatOptions","year","month","day","cols","options","reduce","selectText","value","md","visible","components","FilterSlot","fields","inputType","basicSearch","items","baseImg","statusLead","methods","forEach","migrationList","resetSearch","searchInput","ctx","orderBy","sortDirection","params","per_page","orderby","order","date_from","date_to","name_text","iduser","idrole","lead_status","cr","user_owner","last_action","appointment","fanpage","MigrationsService","getStatusLead","firstOption","newData","getUserModule","roles","response","computed","mapGetters","currentUser","token","mapState","mounted","created","Promise","console","component"],"mappings":"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","file":"js/chunk-2d0e1ee2.9a751ab1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('header-slot'),_c('b-card',{staticClass:\"mb-2\",attrs:{\"no-body\":\"\"}},[_c('filter-slot',{attrs:{\"filter\":_vm.filter,\"filter-principal\":_vm.filterPrincipal,\"total-rows\":_vm.totalRows,\"paginate\":_vm.paginate,\"start-page\":_vm.startPage,\"to-page\":_vm.toPage},on:{\"reset-all-filters\":_vm.resetAllFilters,\"reload\":function($event){return _vm.$refs['migrationList'].refresh()}}},[_c('b-table',{ref:\"migrationList\",attrs:{\"slot\":\"table\",\"id\":\"migrationList\",\"sticky-header\":\"50vh\",\"no-provider-filtering\":\"\",\"busy\":_vm.isBusy,\"items\":_vm.search,\"fields\":_vm.filteredFields,\"per-page\":_vm.paginate.perPage,\"current-page\":_vm.paginate.currentPage,\"filter\":_vm.filter,\"show-empty\":\"\",\"responsive\":\"sm\"},on:{\"update:busy\":function($event){_vm.isBusy=$event}},slot:\"table\",scopedSlots:_vm._u([{key:\"table-busy\",fn:function(){return [_c('div',{staticClass:\"text-center text-primary my-2\"},[_c('b-spinner',{staticClass:\"align-middle mr-1\"}),_c('strong',[_vm._v(\"Loading ...\")])],1)]},proxy:true},{key:\"cell(name)\",fn:function(data){return [_c('div',{staticClass:\"d-flex flex-column justify-content-start align-items-start text-important\"},[_c('router-link',{class:[_vm.textLink],attrs:{\"to\":(\"/social-network/leads/new/dashboard/\" + (data.item.id)),\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(data.item.lead_name)+\" \")])],1)]}},{key:\"cell(mobile)\",fn:function(data){return [_c('p',{staticClass:\"mb-0 font-weight-bold\"},[_vm._v(\" \"+_vm._s(data.item.mobile)+\" \")])]}},{key:\"cell(cr)\",fn:function(data){return [(data.item.credit_report === 1)?_c('span',{staticClass:\"text-danger\"},[_vm._v(\" NO \")]):_vm._e(),(data.item.credit_report === 2)?_c('span',{staticClass:\"text-success\"},[_vm._v(\" YES \")]):_vm._e()]}},{key:\"cell(sale)\",fn:function(data){return [(data.item.sale === 1)?_c('span',{staticClass:\"text-danger\"},[_vm._v(\" NO \")]):_vm._e(),(data.item.sale === 2)?_c('span',{staticClass:\"text-success\"},[_vm._v(\" YES \")]):_vm._e()]}},{key:\"cell(programs)\",fn:function(data){return _vm._l((JSON.parse(data.item.programs)),function(program,index){return _c('p',{key:index,staticClass:\"d-flex flex-column justify-content-start align-items-start\"},[_vm._v(_vm._s(program))])})}},{key:\"cell(created_by)\",fn:function(data){return [_c('div',{staticClass:\"d-flex flex-column justify-content-start align-items-start\"},[_c('p',[_vm._v(_vm._s(data.item.owner))]),_c('p',[_vm._v(_vm._s(_vm._f(\"myGlobalDay\")(data.item.created_at))+\" \")])])]}},{key:\"cell(actions)\",fn:function(data){return [_c('feather-icon',{staticClass:\"cursor-pointer m-1 text-danger\",attrs:{\"title\":\"DELETED\",\"icon\":\"Trash2Icon\",\"size\":\"20\"},on:{\"click\":function($event){return _vm.deletedMigrationLead(data.item.id)}}})]}}])})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default [\n  {\n    key: 'name',\n    sortable: true,\n    label: 'Name',\n  },\n  {\n    key: 'status',\n    sortable: false,\n    label: 'Status',\n  },\n  {\n    key: 'mobile',\n    sortable: true,\n    label: 'Mobile',\n  },\n  {\n    key: 'cr',\n    sortable: false,\n    label: 'Cr',\n  },\n  {\n    key: 'sale',\n    sortable: true,\n    label: 'Sale',\n  },\n  {\n    key: 'programs',\n    sortable: true,\n    label: 'Programs',\n  },\n  {\n    key: 'created_by',\n    sortable: true,\n    label: 'Created by',\n  },\n  {\n    key: 'actions',\n    sortable: false,\n    label: 'Actions',\n  },\n\n]\n","export default [\n  {\n    type: 'datepicker',\n    margin: true,\n    showLabel: true,\n    label: 'From',\n    placeholder: 'Date',\n    class: 'font-small-3',\n    model: null,\n    locale: 'en',\n    dateFormatOptions: { year: 'numeric', month: 'numeric', day: 'numeric' },\n    cols: 6,\n  },\n  {\n    type: 'datepicker',\n    margin: true,\n    showLabel: true,\n    label: 'To',\n    placeholder: 'Date',\n    class: 'font-small-3',\n    model: null,\n    locale: 'en',\n    dateFormatOptions: { year: 'numeric', month: 'numeric', day: 'numeric' },\n    cols: 6,\n  },\n  {\n    type: 'select',\n    margin: true,\n    showLabel: true,\n    label: 'Status Lead',\n    model: null,\n    options: [],\n    reduce: 'id',\n    selectText: 'value',\n    cols: 12,\n\n  },\n  {\n    type: 'select',\n    label: 'Programs',\n    margin: true,\n    showLabel: true,\n    model: null,\n    options: [],\n    reduce: 'id',\n    selectText: 'value',\n    cols: 12,\n  },\n  {\n    type: 'select',\n    margin: true,\n    showLabel: true,\n    label: 'Owner',\n    model: null,\n    options: [],\n    reduce: 'id',\n    selectText: 'value',\n    cols: 12,\n  },\n  {\n    type: 'select',\n    label: 'Last Action',\n    margin: true,\n    showLabel: true,\n    options: [\n      { value: 0, label: 'All' },\n      { value: 1, label: 'Pending' },\n      { value: 2, label: 'Not Answer' },\n      { value: 3, label: 'Closed' },\n      { value: 4, label: 'Information requested' },\n\n    ],\n    model: '',\n    reduce: 'value',\n    selectText: 'label',\n    cols: 12,\n    md: 2,\n    visible: true,\n  },\n  {\n    type: 'select',\n    label: 'Task',\n    margin: true,\n    showLabel: true,\n    options: [\n      { value: 0, label: 'All' },\n      { value: 1, label: 'Attend' },\n      { value: 2, label: 'Yes' },\n      { value: 3, label: 'No' },\n    ],\n    model: '',\n    reduce: 'value',\n    selectText: 'label',\n    cols: 12,\n    md: 2,\n    visible: true,\n  },\n  {\n    type: 'select',\n    label: 'Sale',\n    margin: true,\n    showLabel: true,\n    options: [\n      { value: 0, label: 'All' },\n      { value: 2, label: 'Yes' },\n      { value: 1, label: 'No' },\n\n    ],\n    model: '',\n    reduce: 'value',\n    selectText: 'label',\n    cols: 12,\n    md: 2,\n    visible: true,\n  },\n\n]\n","<template>\n  <div>\n\n    <header-slot/>\n    <b-card\n        no-body\n        class=\"mb-2\"\n    >\n\n      <filter-slot\n\n          :filter=\"filter\"\n          :filter-principal=\"filterPrincipal\"\n          :total-rows=\"totalRows\"\n          :paginate=\"paginate\"\n          :start-page=\"startPage\"\n          :to-page=\"toPage\"\n          @reset-all-filters=\"resetAllFilters\"\n          @reload=\"$refs['migrationList'].refresh()\"\n      >\n\n        <b-table\n            id=\"migrationList\"\n            slot=\"table\"\n            ref=\"migrationList\"\n\n            sticky-header=\"50vh\"\n            no-provider-filtering\n            :busy.sync=\"isBusy\"\n            :items=\"search\"\n            :fields=\"filteredFields\"\n            :per-page=\"paginate.perPage\"\n            :current-page=\"paginate.currentPage\"\n            :filter=\"filter\"\n            show-empty\n            responsive=\"sm\"\n        >\n          <template #table-busy>\n            <div class=\"text-center text-primary my-2\">\n              <b-spinner class=\"align-middle mr-1\"/>\n              <strong>Loading ...</strong>\n            </div>\n          </template>\n          <template v-slot:cell(name)=\"data\">\n\n            <div class=\"d-flex flex-column justify-content-start align-items-start text-important\">\n\n              <router-link\n                  :class=\"[textLink]\"\n                  :to=\"`/social-network/leads/new/dashboard/${data.item.id}`\"\n                  target=\"_blank\"\n              > {{ data.item.lead_name }}\n              </router-link>\n\n            </div>\n\n          </template>\n\n          <template v-slot:cell(mobile)=\"data\">\n\n            <p class=\"mb-0 font-weight-bold\">\n              {{ data.item.mobile }}\n            </p>\n\n          </template>\n\n          <template v-slot:cell(cr)=\"data\">\n\n            <span\n                v-if=\"data.item.credit_report === 1\"\n                class=\"text-danger\"\n            >\n              NO\n            </span>\n\n            <span\n                v-if=\"data.item.credit_report === 2\"\n                class=\"text-success\"\n            >\n              YES\n            </span>\n          </template>\n          <template v-slot:cell(sale)=\"data\">\n\n            <span\n                v-if=\"data.item.sale === 1\"\n                class=\"text-danger\"\n            >\n              NO\n            </span>\n\n            <span\n                v-if=\"data.item.sale === 2\"\n                class=\"text-success\"\n            >\n              YES\n            </span>\n          </template>\n          <template v-slot:cell(programs)=\"data\">\n\n            <p\n                v-for=\"(program, index) in JSON.parse(data.item.programs)\"\n                :key=\"index\"\n                class=\"d-flex flex-column justify-content-start align-items-start\"\n            >{{ program }}</p>\n\n          </template>\n\n          <template v-slot:cell(created_by)=\"data\">\n            <div\n                class=\"d-flex flex-column justify-content-start align-items-start\"\n            >\n              <p>{{ data.item.owner }}</p>\n              <p>{{ data.item.created_at | myGlobalDay }} </p>\n            </div>\n          </template>\n\n          <template v-slot:cell(actions)=\"data\">\n            <feather-icon\n                title=\"DELETED\"\n                icon=\"Trash2Icon\"\n                size=\"20\"\n                class=\"cursor-pointer m-1 text-danger\"\n                @click=\"deletedMigrationLead(data.item.id)\"\n            />\n          </template>\n        </b-table>\n\n      </filter-slot>\n\n    </b-card>\n  </div>\n</template>\n\n<script>\nimport {mapGetters, mapState} from 'vuex'\nimport FilterSlot from '@/views/crm/views/sales-made/components/slots/FilterSlot.vue'\nimport dataFields from '@/views/social-network/views/migrations/migration-module/fields.data'\nimport dataFilters from '@/views/social-network/views/migrations/migration-module/filters.data'\nimport MigrationsService from '@/views/social-network/views/migrations/migrations.service'\n\nexport default {\n  components: {\n    FilterSlot,\n\n  },\n\n  data() {\n    return {\n      fields: dataFields,\n      totalRows: 0,\n      filterPrincipal: {\n        type: 'input',\n        inputType: 'text',\n        placeholder: 'Search...',\n        model: '',\n      },\n      paginate: {\n        currentPage: 1,\n        perPage: 10,\n      },\n      isBusy: false,\n      basicSearch: true,\n      filter: dataFilters,\n      startPage: null,\n      toPage: null,\n      items: [],\n      baseImg: process.env.VUE_APP_BASE_URL_FRONT,\n      statusLead: [],\n    }\n  },\n  methods: {\n\n    resetAllFilters() {\n      this.filter.forEach(filter => {\n        // eslint-disable-next-line no-param-reassign\n        filter.model = null\n      })\n      this.filterPrincipal.model = null\n      this.$refs.migrationList.refresh()\n    },\n    resetSearch() {\n      this.searchInput = ''\n      this.$refs.migrationList.refresh()\n    },\n    async search(ctx) {\n      try {\n        let orderBy = 10\n        let sortDirection = 'desc'\n        if (ctx.sortBy === 'name') {\n          if (ctx.sortDesc) sortDirection = 'desc'\n          else sortDirection = 'asc'\n          orderBy = 17\n        }\n\n        const params = {\n          per_page: this.paginate.perPage,\n          orderby: orderBy,\n          order: sortDirection,\n          date_from: this.filter[0].model,\n          date_to: this.filter[1].model,\n          name_text: this.filterPrincipal.model,\n          iduser: this.currentUser.user_id,\n          idrole: 1,\n          lead_status: this.filter[2].model,\n          cr: this.cr,\n          program: this.filter[3].model,\n          user_owner: this.filter[4].model,\n          type: 1,\n          last_action: this.filter[5].model,\n          sale: this.filter[7].model,\n          appointment: this.filter[6].model,\n          fanpage: this.fanpage,\n        }\n        const data = await MigrationsService.getLeadsMigration(params, ctx.currentPage)\n\n        this.items = data.data.data\n        // Must return an array of items or an empty array if an error occurred\n\n        this.startPage = data.data.from\n        this.paginate.currentPage = data.data.current_page\n        this.paginate.perPage = data.data.per_page\n        this.nextPage = this.startPage + 1\n        this.endPage = data.data.last_page\n        this.totalData = data.data.total\n        this.totalRows = data.data.total\n        this.toPage = data.data.to\n\n        return this.items\n      } catch (e) {\n        this.showErrorSwal(e)\n        return []\n      }\n    },\n\n    async getStatusLead() {\n      try {\n        const data = await MigrationsService.getStatusLead()\n\n        const firstOption = {\n          value: 'All',\n          id: 0,\n        }\n\n        const newData = data.data.map(el => ({value: el.name, id: el.id}))\n        newData.unshift(firstOption)\n        this.filter[2].options = newData\n\n        return newData\n      } catch (e) {\n        this.showErrorSwal(e)\n        return []\n      }\n    },\n\n    async getUserModule() {\n      try {\n        const params = {\n          roles: '[]',\n          type: '0',\n        }\n        const data = await MigrationsService.getUserModule(params)\n\n        const firstOption = {\n          value: 'All',\n          id: 0,\n        }\n\n        const newData = data.data.map(el => ({value: el.user_name, id: el.id}))\n        newData.unshift(firstOption)\n        this.filter[4].options = newData\n\n        return newData\n      } catch (e) {\n        this.showErrorSwal(e)\n        return []\n      }\n    },\n\n    // eslint-disable-next-line consistent-return\n    async deletedMigrationLead(id) {\n      const params = {\n        id,\n\n      }\n      try {\n        const response = await this.showConfirmSwal()\n        if (response.isConfirmed) {\n          await MigrationsService.deleteLeadsMigration(params)\n\n          this.$refs.migrationList.refresh()\n\n          this.showSuccessSwal()\n        }\n      } catch (e) {\n        this.showErrorSwal(e)\n        return []\n      }\n    },\n  },\n  computed: {\n    filteredFields() {\n      return this.fields\n    },\n    ...mapGetters({\n      currentUser: 'auth/currentUser',\n      token: 'auth/token',\n\n    }),\n    ...mapState({\n\n      programs: state => state.SocialNetworkGlobalStore.S_PROGRAMS,\n\n    }),\n\n  },\n\n  mounted() {\n    this.getStatusLead()\n    this.getUserModule()\n  },\n\n  async created() {\n    try {\n      await Promise.all([\n        this.$store.dispatch('SocialNetworkGlobalStore/A_GET_PROGRAMS'),\n\n      ])\n\n      this.filter[3].options = this.programs\n    } catch (error) {\n      console.error(error)\n    }\n  },\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MigrationsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MigrationsList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MigrationsList.vue?vue&type=template&id=f50db16a&scoped=true&\"\nimport script from \"./MigrationsList.vue?vue&type=script&lang=js&\"\nexport * from \"./MigrationsList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f50db16a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}